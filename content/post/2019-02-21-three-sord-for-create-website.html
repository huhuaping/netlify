---
title: three-sords (blogdown; github; netlify) to develole personal website
author: huhuaping
date: '2019-02-21'
slug: three-sord
categories: 
  - R
tags: 
  - blogdown
  - github
  - netlify
image:
  caption: ''
  focal_point: ''
---



<p>“三剑”合璧持续性打造个人网站(blogdown; github; netlify)</p>
<div id="rstudioblogdown-site" class="section level1">
<h1>在Rstudio中创建blogdown site</h1>
<p>blogdown的设置比较简单，教程里基本也说得清楚。具体操作时，还是需要注意以下几个要点：</p>
<ul>
<li>选取中意的网站模板，比如学术型模板</li>
</ul>
<pre class="r"><code># for example, create a new site with the academic theme
blogdown::new_site(theme = &quot;gcushen/hugo-academic&quot;)</code></pre>
<p>这个模板还内部支持<a href="https://github.com/rstudio/blogdown/issues/36">数学公式显示</a>！需要在Rmarkdown文档的yaml区域里设置</p>
<pre><code>math: true</code></pre>
<ul>
<li>设置全局选项（global options）。</li>
</ul>
<p>一个是设置默认的“作者”和“文件格式”。需要在工作目录下新建一个.Rprofile文件：</p>
<pre class="r"><code>file.edit(&#39;.Rprofile&#39;)</code></pre>
<p>文件里面的内容配置为:</p>
<pre class="r"><code>options(blogdown.ext = &quot;.Rmd&quot;, blogdown.author = &quot;huhuaping&quot;)</code></pre>
<p>另外就是要配置工作文件下的config.toml文件，主要就是修改网站的名字：</p>
<pre class="r"><code># Title of your site
title = &quot;Huhuaping&quot;</code></pre>
<ul>
<li>最后要记得装载hugo，最重要得是弄清楚hugo_version（后面netlify建站时需要配置环境变量hugo_version，否则会<a href="https://gohugo.io/hosting-and-deployment/hosting-on-netlify/">报错255</a>，二者应该要一致，且有最低版本要求）。在Rstudio里判明版本号的办法是：</li>
</ul>
<pre class="r"><code># 安装hugo
install_hugo()

# 判明版本号
blogdown::hugo_version()</code></pre>
</div>
<div id="gitgithub" class="section level1">
<h1>利用git工具来管理github仓库</h1>
<p>git版本控制工具，还是需要学会的。这里就列出一个很好的参考学习资源吧——<a href="https://git-scm.com/book/zh/v2">git book(多国语言版)</a></p>
</div>
<div id="netlifygithub" class="section level1">
<h1>在netlify上关联github仓库并建站</h1>
<p>如前所述，这里很重要的一步就是要记得设置hugo_version的环境变量，版本号需要与blogdown里安装的版本号一致。</p>
</div>
<div class="section level1">
<h1>额外的问题</h1>
<p>config.toml配置：</p>
<ul>
<li><p>baseurl存在的<a href="https://github.com/rstudio/blogdown/issues/114">斜杠问题</a>，可能会影响netlify建站更新。</p></li>
<li><p>网页链接显示最好是稳定的。可以通过日期+slug的形式来固定，具体设置为：</p></li>
</ul>
<pre class="r"><code>[permalinks]
  post = &quot;/:year/:month/:day/:slug/&quot;</code></pre>
<p>版本控制（github repo）：记得在工作目录下的.gitignore里添加忽视文件（否则会影响netlify建站更新）。</p>
<pre class="r"><code>public</code></pre>
<p>提交新的博客文章(post)：最好使用Rstudio里Addin菜单中的New Post来写Rmd格式的博文。</p>
</div>
