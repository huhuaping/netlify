<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Netlify | Academic</title>
    <link>https://huhuaping.netlify.app/tag/netlify/</link>
      <atom:link href="https://huhuaping.netlify.app/tag/netlify/index.xml" rel="self" type="application/rss+xml" />
    <description>Netlify</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>huhuaping@2019</copyright><lastBuildDate>Thu, 21 Feb 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://huhuaping.netlify.app/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_2.png</url>
      <title>Netlify</title>
      <link>https://huhuaping.netlify.app/tag/netlify/</link>
    </image>
    
    <item>
      <title>Netlify系列1：个人网站开发“三剑客” (blogdown;github;netlify)</title>
      <link>https://huhuaping.netlify.app/2019/02/21/three-sord/</link>
      <pubDate>Thu, 21 Feb 2019 00:00:00 +0000</pubDate>
      <guid>https://huhuaping.netlify.app/2019/02/21/three-sord/</guid>
      <description>
&lt;script src=&#34;https://huhuaping.netlify.app/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#在rstudio中创建blogdown-site&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;1&lt;/span&gt; 在Rstudio中创建blogdown site&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#利用git工具来管理github仓库&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;2&lt;/span&gt; 利用git工具来管理github仓库&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#在netlify上关联github仓库并建站&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;3&lt;/span&gt; 在netlify上关联github仓库并建站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#额外的问题&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4&lt;/span&gt; 额外的问题&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#config.toml配置&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.1&lt;/span&gt; config.toml配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#版本控制github-repo下添加忽略文件&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.2&lt;/span&gt; 版本控制（github repo）下添加忽略文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#用addin插件更新内容&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.3&lt;/span&gt; 用addin插件更新内容&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#让博客文章post有目录节编号脚注&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4&lt;/span&gt; 让博客文章(post)有目录、节编号、脚注&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#post文章里插入图片&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.5&lt;/span&gt; post文章里插入图片&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#参考资料&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;5&lt;/span&gt; 参考资料&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;“三剑”合璧持续性打造个人网站(blogdown; github; netlify)。&lt;/p&gt;
&lt;div id=&#34;在rstudio中创建blogdown-site&#34; class=&#34;section level1&#34; number=&#34;1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;1&lt;/span&gt; 在Rstudio中创建blogdown site&lt;/h1&gt;
&lt;p&gt;blogdown的设置比较简单，教程里基本也说得清楚。具体操作时，还是需要注意以下几个要点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选取中意的网站模板，比如学术型模板&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# for example, create a new site with the academic theme
blogdown::new_site(theme = &amp;quot;gcushen/hugo-academic&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这个模板还内部支持&lt;a href=&#34;https://github.com/rstudio/blogdown/issues/36&#34;&gt;数学公式显示&lt;/a&gt;！需要在Rmarkdown文档的yaml区域里设置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;math: true&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;设置全局选项（global options）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一个是设置默认的“作者”和“文件格式”。需要在工作目录下新建一个.Rprofile文件：&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;file.edit(&amp;#39;.Rprofile&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;文件里面的内容配置为:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;options(blogdown.ext = &amp;quot;.Rmd&amp;quot;, blogdown.author = &amp;quot;huhuaping&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;另外就是要配置工作文件下的config.toml文件，主要就是修改网站的名字：&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Title of your site
title = &amp;quot;Huhuaping&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;最后要记得装载hugo，最重要得是弄清楚hugo_version（后面netlify建站时需要配置环境变量hugo_version，否则会&lt;a href=&#34;https://gohugo.io/hosting-and-deployment/hosting-on-netlify/&#34;&gt;报错255&lt;/a&gt;，二者应该要一致，且有最低版本要求）。在Rstudio里判明版本号的办法是：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# 安装hugo
install_hugo()

# 判明版本号
blogdown::hugo_version()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;利用git工具来管理github仓库&#34; class=&#34;section level1&#34; number=&#34;2&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;2&lt;/span&gt; 利用git工具来管理github仓库&lt;/h1&gt;
&lt;p&gt;git版本控制工具，还是需要学会的。这里就列出一个很好的参考学习资源吧——&lt;a href=&#34;https://git-scm.com/book/zh/v2&#34;&gt;git book(多国语言版)&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;在netlify上关联github仓库并建站&#34; class=&#34;section level1&#34; number=&#34;3&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;3&lt;/span&gt; 在netlify上关联github仓库并建站&lt;/h1&gt;
&lt;p&gt;如前所述，这里很重要的一步就是要记得设置hugo_version的环境变量，版本号需要与blogdown里安装的版本号一致。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;额外的问题&#34; class=&#34;section level1&#34; number=&#34;4&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;4&lt;/span&gt; 额外的问题&lt;/h1&gt;
&lt;div id=&#34;config.toml配置&#34; class=&#34;section level2&#34; number=&#34;4.1&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.1&lt;/span&gt; config.toml配置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;baseurl存在的&lt;a href=&#34;https://github.com/rstudio/blogdown/issues/114&#34;&gt;斜杠问题&lt;/a&gt;，可能会影响netlify建站更新。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;网页链接显示最好是稳定的。可以通过日期+slug的形式来固定，具体设置为：&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;[permalinks]
  post = &amp;quot;/:year/:month/:day/:slug/&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;版本控制github-repo下添加忽略文件&#34; class=&#34;section level2&#34; number=&#34;4.2&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.2&lt;/span&gt; 版本控制（github repo）下添加忽略文件&lt;/h2&gt;
&lt;p&gt;记得在工作目录下的.gitignore里添加忽视文件（否则会影响netlify建站更新）。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;public/&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此外，还会引起master和dev分支的合并冲突！！&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;用addin插件更新内容&#34; class=&#34;section level2&#34; number=&#34;4.3&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.3&lt;/span&gt; 用addin插件更新内容&lt;/h2&gt;
&lt;p&gt;提交新的博客文章(post)：最好使用Rstudio里Addin菜单中的New Post来写Rmd格式的博文。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;让博客文章post有目录节编号脚注&#34; class=&#34;section level2&#34; number=&#34;4.4&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4&lt;/span&gt; 让博客文章(post)有目录、节编号、脚注&lt;/h2&gt;
&lt;p&gt;目录（toc）和节编号（number_sections）可以在rmardown文件yaml头里设置&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;output:
  blogdown::html_page:
    toc: true
    number_sections: true&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;脚注的写法。正文里直接在脚注位置添加&lt;code&gt;[^1]&lt;/code&gt;，并在rmarkdown最后进行对应的注释说明：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[^1]: [Headings with automatic numbering](https://github.com/rstudio/blogdown/issues/140)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;post文章里插入图片&#34; class=&#34;section level2&#34; number=&#34;4.5&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.5&lt;/span&gt; post文章里插入图片&lt;/h2&gt;
&lt;p&gt;有两种插入图片的办法。不论如何，图片源文件默认都是放在&lt;code&gt;static/&lt;/code&gt;文件夹下&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;采用markdown语言：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# 源文件默认在`static/`文件夹下
![](/img/facet-multiple-geom.png)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://huhuaping.netlify.app/img/facet-multiple-geom.png&#34; alt=&#34;&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;markdown语言方法插入图片&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;或者采用函数 &lt;code&gt;knitr::include_graphics()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# 源文件默认在`static/`文件夹下
knitr::include_graphics(&amp;quot;/pic/facet-multiple-geom.png&amp;quot;, error = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-1&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;https://huhuaping.netlify.app/pic/facet-multiple-geom.png&#34; alt=&#34;include_graphics函数方法插入图片&#34;  /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 4.1: include_graphics函数方法插入图片
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;参考资料&#34; class=&#34;section level1&#34; number=&#34;5&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;5&lt;/span&gt; 参考资料&lt;/h1&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/blogdown/issues/140&#34;&gt;Headings with automatic numbering&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/blogdown/issues/184#issuecomment-323073705&#34;&gt;knitr::include_graphics in blogdown&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
