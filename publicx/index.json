[{"authors":["admin"],"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":-62135596800,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://huhuaping.netlify.app/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"","tags":null,"title":"","type":"authors"},{"authors":null,"categories":null,"content":"Flexibility This feature can be used for publishing content such as:\n Online courses Project or software documentation Tutorials  The courses folder may be renamed. For example, we can rename it to docs for software/project documentation or tutorials for creating an online course.\nDelete tutorials To remove these pages, delete the courses folder and see below to delete the associated menu link.\nUpdate site menu After renaming or deleting the courses folder, you may wish to update any [[main]] menu links to it by editing your menu configuration at config/_default/menus.toml.\nFor example, if you delete this folder, you can remove the following from your menu configuration:\n[[main]]\rname = \u0026quot;Courses\u0026quot;\rurl = \u0026quot;courses/\u0026quot;\rweight = 50\r Or, if you are creating a software documentation site, you can rename the courses folder to docs and update the associated Courses menu configuration to:\n[[main]]\rname = \u0026quot;Docs\u0026quot;\rurl = \u0026quot;docs/\u0026quot;\rweight = 50\r Update the docs menu If you use the docs layout, note that the name of the menu in the front matter should be in the form [menu.X] where X is the folder name. Hence, if you rename the courses/example/ folder, you should also rename the menu definitions in the front matter of files within courses/example/ from [menu.example] to [menu.\u0026lt;NewFolderName\u0026gt;].\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"59c3ce8e202293146a8a934d37a4070b","permalink":"https://huhuaping.netlify.app/courses/example/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/example/","section":"courses","summary":"Learn how to use Academic's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":null,"content":"《数据、模型与决策》（MBA）教学安排：   课时安排：\n 授课：15学时 复习与答疑：1学时    课程考试：\n 考试形式：课程论文    成绩构成：\n 平时成绩(课后作业和考勤)：30% 考试成绩：70%    博士生《高级统计学》教学课件（持续更新）   Chapter01 绪论.pptx\n  Chapter02 线性规划1：基本概念.pptx\n  Chapter03 线性规划2：电子表格建模.pptx\n  Chapter04 线性规划3：建模与应用.pptx\n  Chapter05 线性规划4：敏感性分析.pptx\n  chapter06 运输与指派问题.pptx\n  Chapter07 网路最优化问题.pptx\n  Chapter12 决策分析.pptx\n  MBA《数据、模型与决策》教学材料。 参考教材为：\n[中文版] 弗雷德里克·S.希利尔(Frederick S.Hillier)等著，李晓松等译，数据、模型与决策（第10版）[M]，国防工业出版社, 2018。\n[英文版] Hillier, F. S. Introduction to operations research(10 ed) [M], Tata McGraw-Hill Education, 2015.\n中文版教材部分章节如下（点击下载pdf）：\n  chpt00-版权目录.pdf点击下载\n  chpt01-绪论.pdf点击下载\n  chpt02-运筹学建模方法概述.pdf点击下载\n  chpt03-线性规划导论.pdf点击下载\n  chpt04-求解线性规划问题.pdf点击下载\n  chpt05-单纯形法.pdf点击下载\n  chpt06-对偶理论.pdf点击下载\n  chpt07-不确定条件下的线性规划.pdf点击下载\n  chpt08-线性规划的其他算法.pdf点击下载\n  chpt09-运输与指派问题.pdf点击下载\n  chpt10-网络优化模型.pdf点击下载\n  chpt11-动态规划.pdf点击下载\n  chpt12-整数规划.pdf点击下载\n  chpt16-决策理论.pdf点击下载\n  ","date":1575158400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1575158400,"objectID":"aaa7011b427eb54c1f81bcb90fad8445","permalink":"https://huhuaping.netlify.app/course-or/","publishdate":"2019-12-01T00:00:00Z","relpermalink":"/course-or/","section":"course-or","summary":"《数据、模型与决策》（MBA）教学安排：   课时安排：\n 授课：15学时 复习与答疑：1学时    课程考试：\n 考试形式：课程论文    成绩构成：\n 平时成绩(课后作业和考勤)：30% 考试成绩：70%    博士生《高级统计学》教学课件（持续更新）   Chapter01 绪论.pptx\n  Chapter02 线性规划1：基本概念.","tags":null,"title":"数据、模型与决策(简介)","type":"docs"},{"authors":null,"categories":null,"content":"此处放置了课程相关的两类在线资料。\n  本科生《统计学原理》教学课件（Slide网页形式，陆续更新）。\n  课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。\n  只要你电脑装有浏览器（chrome, 360极速浏览器, \u0026hellip;），就可以在线浏览这些课件Slide。\n    实验上机指导（HTML网页形式，共包括7次实验指导说明，陆续更新）\n  实验1：Excel基础\n  实验2：数据收集和数据清洗\n  实验3：图表制作进阶1\n  实验4：图表制作进阶2\n  实验5：概率抽样与随机分布\n  实验6：相关和回归\n  实验7：统计分析报告\n    ","date":1551398400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1551398400,"objectID":"5be54e3f8d68f5e6a61ff17801b6b447","permalink":"https://huhuaping.netlify.app/course-statistics/","publishdate":"2019-03-01T00:00:00Z","relpermalink":"/course-statistics/","section":"course-statistics","summary":"此处放置了课程相关的两类在线资料。\n  本科生《统计学原理》教学课件（Slide网页形式，陆续更新）。\n  课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。\n  只要你电脑装有浏览器（chrome, 360极速浏览器, \u0026hellip;），就可以在线浏览这些课件Slide。\n    实验上机指导（HTML网页形式，共包括7次实验指导说明，陆续更新）\n  实验1：Excel基础\n  实验2：数据收集和数据清洗\n  实验3：图表制作进阶1\n  实验4：图表制作进阶2\n  实验5：概率抽样与随机分布","tags":null,"title":"统计学在线课程 (简介)","type":"docs"},{"authors":null,"categories":null,"content":"此处放置计量经济学(II)-研究生课程在线学习资料。\n模块一：计量经济学基础\n  第01章 经典模型\n  第02章 矩阵分析\n  第03章 放宽假设\n  第04章 扩展方法\n   主讲教师：胡华平 讲授学时数：12学时\n 模块二：联立方程模型（SEM）\n  第17章 内生性自变量问题\n  第18章 联立方程模型的问题和本质\n  第19章 联立方程模型的识别\n  第20章 联立方程模型的估计\n   主讲教师：胡华平/朱玉春 讲授学时数：12学时\n ","date":1551398400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1551398400,"objectID":"8eb0930e93577e99d5966d8e209c1f77","permalink":"https://huhuaping.netlify.app/course-econometrics-master/","publishdate":"2019-03-01T00:00:00Z","relpermalink":"/course-econometrics-master/","section":"course-econometrics-master","summary":"此处放置计量经济学(II)-研究生课程在线学习资料。\n模块一：计量经济学基础\n  第01章 经典模型\n  第02章 矩阵分析\n  第03章 放宽假设\n  第04章 扩展方法\n   主讲教师：胡华平 讲授学时数：12学时\n 模块二：联立方程模型（SEM）\n  第17章 内生性自变量问题\n  第18章 联立方程模型的问题和本质","tags":null,"title":"计量经济学(II)(简介)","type":"docs"},{"authors":null,"categories":null,"content":" 本课程网站：\n  网站整体由blogdown生成，并由github托管控制，可以重复迭代演进开发。 课件slides采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。 只需要要接入互联网，各种终端设备都能登陆浏览。（建议使用chrome浏览器或360极速浏览器）  计量经济学是国家教育部规定的经济学专业的核心课程之一。本课程主要介绍用计量经济学的模型再现经济系统基本概念、基本原理和基本方法。\n计量经济学突破了传统经济学理论和方法的局限，在回归分析理论与方法的基础上，发展了对经济系统进行定量分析技术与方法，能够将抽象的经济学理论关系用具体的数学模型在现在人们眼前，可以最大限度地保持经济系统中各个变量之间的真实关系，保证分析的客观性和准确性。\n通过计量经济学课程的学习和掌握，有助于增强经济学的实证分析能力、拓展和深化经济学等课程的学习和理解。\n通过本门课程的学习，学生应能：\n  掌握普通最小二乘法、\u0026ldquo;拟合优度检验\u0026rdquo;、\u0026ldquo;方程显著性检验\u0026rdquo;、\u0026ldquo;变量显著性检验\u0026rdquo;、\u0026ldquo;异方差性检测\u0026rdquo;、\u0026ldquo;序列相关性检测\u0026rdquo;、\u0026ldquo;多重共线性的检测\u0026rdquo;、\u0026ldquo;两阶段最小二乘法\u0026rdquo;、等基本方法与基本理论；\n  了解\u0026quot;计量经济学\u0026quot;的演变过程以及在这个过程中的主要代表人物（R.Frish 、R.Klein、J.Tinbergen、Engle、C.W.J.Granger）的主要理论和贡献，计量经济学的应用领域；\n  掌握计量经济学模型的参数估计、统计检验、（异方差性、序列相关性、多重共线性等）计量经济学检验、模型识别、联立方程模型的参数估计、生产函数的主要内容及其方法；\n  在熟练掌握上述内容的基础上，应能利用有关理论和方法，分析解决经济学的定量分析具体问题，并初步掌握计量经济学解决问题的方法与步骤。\n  ","date":1551398400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1551398400,"objectID":"886952a398b7c4347705e355903276fb","permalink":"https://huhuaping.netlify.app/course-econometrics/","publishdate":"2019-03-01T00:00:00Z","relpermalink":"/course-econometrics/","section":"course-econometrics","summary":" 本课程网站：\n  网站整体由blogdown生成，并由github托管控制，可以重复迭代演进开发。 课件slides采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。 只需要要接入互联网，各种终端设备都能登陆浏览。（建议使用chrome浏览器或360极速浏览器）  计量经济学是国家教育部规定的经济学专业的核心课程之一。本课程主要介绍用计量经济学的模型再现经济系统基本概念、基本原理和基本方法。\n计量经济学突破了传统经济学理论和方法的局限，在回归分析理论与方法的基础上，发展了对经济系统进行定量分析技术与方法，能够将抽象的经济学理论关系用具体的数学模型在现在人们眼前，可以最大限度地保持经济系统中各个变量之间的真实关系，保证分析的客观性和准确性。\n通过计量经济学课程的学习和掌握，有助于增强经济学的实证分析能力、拓展和深化经济学等课程的学习和理解。\n通过本门课程的学习，学生应能：\n  掌握普通最小二乘法、\u0026ldquo;拟合优度检验\u0026rdquo;、\u0026ldquo;方程显著性检验\u0026rdquo;、\u0026ldquo;变量显著性检验\u0026rdquo;、\u0026ldquo;异方差性检测\u0026rdquo;、\u0026ldquo;序列相关性检测\u0026rdquo;、\u0026ldquo;多重共线性的检测\u0026rdquo;、\u0026ldquo;两阶段最小二乘法\u0026rdquo;、等基本方法与基本理论；\n  了解\u0026quot;计量经济学\u0026quot;的演变过程以及在这个过程中的主要代表人物（R.Frish 、R.Klein、J.Tinbergen、Engle、C.W.J.Granger）的主要理论和贡献，计量经济学的应用领域；\n  掌握计量经济学模型的参数估计、统计检验、（异方差性、序列相关性、多重共线性等）计量经济学检验、模型识别、联立方程模型的参数估计、生产函数的主要内容及其方法；\n  在熟练掌握上述内容的基础上，应能利用有关理论和方法，分析解决经济学的定量分析具体问题，并初步掌握计量经济学解决问题的方法与步骤。\n  ","tags":null,"title":"计量课程简介","type":"docs"},{"authors":null,"categories":null,"content":"课程说明\n  博士生《高级统计学》教学课件（Slide网页形式，陆续更新）。\n  课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。\n  只要你电脑装有浏览器（chrome, 360极速浏览器, \u0026hellip;），就可以在线浏览这些课件Slide。\n    博士生《高级统计学》课程目录（持续更新）\n    导论\n  监督学习(Supervised learning)\n DT/ RF / KNN / NB / ANN    无监督学习(Unsupervised learning)\n K-mean / DR    ","date":1551398400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1551398400,"objectID":"59aeafcdb7fb2c68a43d1481e1d48b1f","permalink":"https://huhuaping.netlify.app/course-advanced-statistics/","publishdate":"2019-03-01T00:00:00Z","relpermalink":"/course-advanced-statistics/","section":"course-advanced-statistics","summary":"课程说明\n  博士生《高级统计学》教学课件（Slide网页形式，陆续更新）。\n  课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。\n  只要你电脑装有浏览器（chrome, 360极速浏览器, \u0026hellip;），就可以在线浏览这些课件Slide。\n    博士生《高级统计学》课程目录（持续更新）\n    导论\n  监督学习(Supervised learning)\n DT/ RF / KNN / NB / ANN    无监督学习(Unsupervised learning)","tags":null,"title":"高级统计学(简介)","type":"docs"},{"authors":null,"categories":null,"content":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"74533bae41439377bd30f645c4677a27","permalink":"https://huhuaping.netlify.app/courses/example/example1/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example1/","section":"courses","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":null,"title":"Example Page 1","type":"docs"},{"authors":null,"categories":null,"content":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1c2b5a11257c768c90d5050637d77d6a","permalink":"https://huhuaping.netlify.app/courses/example/example2/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example2/","section":"courses","summary":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":null,"title":"Example Page 2","type":"docs"},{"authors":["胡华平"],"categories":["Course"],"content":"\r\r一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第00章-课程说明.html 。\n2.传统型课件（pdf）：第00章-课程说明.pdf 。（更新日期：2021.3.2）\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎\n\r\r\r","date":1614470400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614506418,"objectID":"29248342f74d847d57a11ba095e3d0e0","permalink":"https://huhuaping.netlify.app/course-statistics/chapter00-course-schedule/","publishdate":"2021-02-28T00:00:00Z","relpermalink":"/course-statistics/chapter00-course-schedule/","section":"course-statistics","summary":"一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第00章-课程说明.html 。\n2.传统型课件（pdf）：第00章-课程说明.pdf 。（更新日期：2021.3.2）\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎","tags":["Statistics"],"title":"第00章 课程说明","type":"docs"},{"authors":["胡华平"],"categories":["Course"],"content":"\r\r一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第01章-绪论.html 。\n2.传统型课件（pdf）：第01章-绪论.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎\n\r\r\r","date":1614470400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614506478,"objectID":"ddd49445c632fb412268cb9ec31a6e57","permalink":"https://huhuaping.netlify.app/course-statistics/chpt01-introduction/","publishdate":"2021-02-28T00:00:00Z","relpermalink":"/course-statistics/chpt01-introduction/","section":"course-statistics","summary":"一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第01章-绪论.html 。\n2.传统型课件（pdf）：第01章-绪论.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎","tags":["Statistics"],"title":"第01章 绪论","type":"docs"},{"authors":["胡华平"],"categories":["Course"],"content":"\r\r一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第02章-数据收集和整理.html 。\n2.传统型课件（pdf）：第02章-数据收集和整理.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎\n\r\r\r","date":1614470400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614506538,"objectID":"e33d83f62f45795c12db5ae2e7c2c404","permalink":"https://huhuaping.netlify.app/course-statistics/chpt02-data-sourcing/","publishdate":"2021-02-28T00:00:00Z","relpermalink":"/course-statistics/chpt02-data-sourcing/","section":"course-statistics","summary":"一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第02章-数据收集和整理.html 。\n2.传统型课件（pdf）：第02章-数据收集和整理.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎","tags":["Statistics"],"title":"第02章 数据收集和整理","type":"docs"},{"authors":["胡华平"],"categories":["Course"],"content":"\r\r一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第03章-数据的图表展示.html 。\n2.传统型课件（pdf）：第03章-数据的图表展示.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎\n\r\r\r","date":1614470400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614506598,"objectID":"958abbcd219e0330ec2c94f153c1de26","permalink":"https://huhuaping.netlify.app/course-statistics/chpt03-visualization/","publishdate":"2021-02-28T00:00:00Z","relpermalink":"/course-statistics/chpt03-visualization/","section":"course-statistics","summary":"一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第03章-数据的图表展示.html 。\n2.传统型课件（pdf）：第03章-数据的图表展示.pdf 。\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎","tags":["Statistics"],"title":"第03章 数据的图表展示","type":"docs"},{"authors":["胡华平"],"categories":["Course"],"content":"\r\r一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第04章-数据的概括性度量.html 。\n2.传统型课件（pdf）：第04章-数据的概括性度量.pdf 。（更新日期：2021.3.2）\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎\n\r\r\r","date":1614470400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614506658,"objectID":"5d3d988f9664711f54d6f029f35d972b","permalink":"https://huhuaping.netlify.app/course-statistics/chpt04-data-measuring/","publishdate":"2021-02-28T00:00:00Z","relpermalink":"/course-statistics/chpt04-data-measuring/","section":"course-statistics","summary":"一、教学课件\r以下种类型课件都可以使用，两者可以互补，但强烈建议使用第一种类型Xaringan slide课件1：\n1.现代型课件（Xaringan slide）（操作提示2）：第04章-数据的概括性度量.html 。\n2.传统型课件（pdf）：第04章-数据的概括性度量.pdf 。（更新日期：2021.3.2）\n以上两种类型课件的差异：\n\r两者的课件内容基本一致，区别有：Xaringan slide课件内容会相对细节更丰富一些；Xaringan slide课件更新频率会更高、更及时（里面有一些技术性原因）。\n\rXaringan slide课件可以进行一些交互型操作，如表格、制图和代码展示等。pdf课件是静态文件，使用者不能进行内容上的交互。\n\r实际上你可以随时使用chrome浏览器自己将Xaringan slide课件导出为pdf课件。\n\rXaringan slide课件适合交互学习，而pdf课件适合线下打印或进行电子笔记。\n\r\r\r\r课件采用Rmarkdown语言编写而成，课件Slide的形式由Xaringan包渲染得到。↩︎\n\r操作提示（电脑PC端操作）：点击课件区域，按F键，可全屏观看。按左/右方向键（\\(\\leftarrow/\\rightarrow\\)），可以前进/后退翻页。敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页。↩︎","tags":["Statistics"],"title":"第04章 数据的概括性度量","type":"docs"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 分析场景与R包\r\r1.1 统计制表 vs janitor::tabyl\r\r2 分析场景与R函数\r\r2.1 数据类型读取\r2.2 生成重复数据rep()\r\r\r\r1 分析场景与R包\r1.1 统计制表 vs janitor::tabyl\rtabyls: a tidy, fully-featured approach to counting things. see link\n\r优点：\n\r方便统计频次和频率\n\r方便添加行合计\n\r方便调整数据格式（百分数等）\n\r可以结合knitr::kable()输出\n\r\r不足：\n\rjanitor::tabyl()仅适合处理原始数据，并且是data.frame或vector。\r\r\r\r\r2 分析场景与R函数\r2.1 数据类型读取\r\r读取spss文件。为了避免出现编码错误（中文等多字节问题），建议使用foreign::read.spss()函数，而不宜使用haven::read_sav()函数\r\rdf_computer\u0026lt;- haven::read_sav(\u0026quot;../data/case-3.6-computer-sales.sav\u0026quot;,encoding = \u0026quot;UTF-8\u0026quot;, .name_repair = \u0026quot;unique\u0026quot;)\rknitr::kable(df_computer)\rdf_computer\u0026lt;- foreign::read.spss(\u0026quot;../data/case-3.6-computer-sales.sav\u0026quot;, to.data.frame=TRUE)\rknitr::kable(df_computer)\r\r2.2 生成重复数据rep()\r分析场景：生成指定的重复数据，要求指定被重复的vector(\"char vec\")，以及指定各自重复的次数vector(\"times vec\")。\n\r踩坑函数1：直接rep()。\r\rrequire(magrittr)\rbrand\u0026lt;- c(\u0026quot;果汁\u0026quot;,\u0026quot;矿泉水\u0026quot;,\u0026quot;绿茶\u0026quot;,\u0026quot;其他\u0026quot;,\u0026quot;碳酸饮料\u0026quot;)\rreps \u0026lt;- c(6L, 10L,11L, 8L,15L)\rrep(brand, reps)\r [1] \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; [7] \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; [13] \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; [19] \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; [25] \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; [31] \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[37] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[43] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[49] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r\r踩坑函数2：mapply() + rep()。这个要复杂一点。\r\rdrink \u0026lt;- mapply(FUN = rep, x=brand, times = reps) %\u0026gt;%\runlist()\rnames(drink) \u0026lt;-NULL\rdrink\r [1] \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; \u0026quot;果汁\u0026quot; [7] \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; [13] \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;矿泉水\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; [19] \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; [25] \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;绿茶\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; [31] \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;其他\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[37] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[43] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r[49] \u0026quot;碳酸饮料\u0026quot; \u0026quot;碳酸饮料\u0026quot;\r\r\r","date":1614038400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1614051907,"objectID":"bc3a2d3093289c85ac0253883a8fb753","permalink":"https://huhuaping.netlify.app/2021/02/23/variaty-of-r-function/","publishdate":"2021-02-23T00:00:00Z","relpermalink":"/2021/02/23/variaty-of-r-function/","section":"post","summary":"日常碰到的常用的统计分析场景，但是容易有坑的R函数操作。","tags":["R beginer"],"title":"R函数踩坑","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 学习资源\r2 体系流程\r\r2.1 文件夹结构体系\r2.2 包结构和状态（Package structure and state）\r2.3 常规“健康检查”流程\r2.4 数据集的管理和使用\r\r3 概念要点\r\r3.1 区分DESCRIPTION和NAMESPACE的作用\r3.2 区分.Rbuildignore和.gitignore\r3.3 区分RStudio Project和active usethis project\r3.4 注意load_all()的使用\r3.5 区分code in scripts和code in packages\r\r4 R编程技巧\r\r4.1 用styler包保持良好代码风格\r4.2 用withr包管理环境状态\r\r\r\r1 学习资源\r\r“R packages” by Hadley Wickham。R包开发的常备红宝书之一。\n\r“rOpenSci Packages: Development, Maintenance, and Peer Review” by rOpenSci team。rOpenSci团队R包开发的规范和指南。\n\r“The tidyverse style guide” by Hadley Wickham。提供了很多关于R编程规范和风格的建议。\n\r\r\r2 体系流程\r2.1 文件夹结构体系\r典型R包开发的文件夹结构体系如下：\n levelName\r1 package of ‘xmetrics’\r2 |--.git 3 |--.Rproj.user 4 |--man 5 | |--lx.est.Rd 6 | |--lx.psm.Rd 7 | °--other.man.Rd 8 |--R 9 | |--lx-est.R 10 | |--lx-psm.R 11 | °--other-fun.R 12 |--.gitignore 13 |--.Rbuildignore 14 |--.Rhistory 15 |--DESCRIPTION 16 |--LICENSE 17 |--LICENSE.md 18 |--NAMESPACE 19 °--xmetrics.Rproj \r其中有两个比较重要的且容易混淆的文件是：\n\r文件DESCRIPTION：存放包基本信息（Title, Version/Authors/Depends/License/Imports/Suggests/Depends等），是包开发必备文件之一，文件类型为DCF（Debian control format），多行值换行需要空格（4格）。\n\r文件NAMESPACE：存放import外部依赖包或函数以及导出export内部函数等名称信息。该文件为“只读状态”，相关信息通过开发工具函数（roxygen2包）自动记录和更新。\n\r\r\r2.2 包结构和状态（Package structure and state）\r开发主要在前面三个阶段，后面两个阶段主要是包的使用：\n\r源状态（source）：包开发的最初文件和结构，开发中最频繁使用的阶段。\n\r打包状态（bundled）：将包压缩成了单个文件（.tar.gz，但并不是简单压缩文件而已），仅是一种源状态到安装状态的过渡而已，也没有其他太大实际作用。\n\r二进制状态（binary）：根据不同操作系统平台的压缩包文件，如windows系统使用.zip包文件，macOS系统使用.tgz包文件。可使用devtools::build(binary = TRUE)构建二进制状态包文件。\n\r安装状态（installed）：二进制包已经被解压缩到包目录下（package library）。\n\r缓存状态（in-memory）：包的所有功能函数（functions）都已经在内存中，随时可供用户使用。\n\r\r下面图2.1比较直观地呈现了它们之间的关联与差异：\n\rFigure 2.1: 三种包开发状态的联系和差异\r\r而下面图2.2比较直观地呈现了不同方法调用不同包状态的差异：\n\rFigure 2.2: 不同方法调用不同包状态的差异\r\r\r2.3 常规“健康检查”流程\rR包开发过程中应注意对迭代改进的常规“健康检查”（Constant health checks），基于devtools包的操作流程一般为：\nEdit one or more files below \"R/.\"\n\rdevtools::document() (if you’ve made any changes that impact help files or NAMESPACE)\n\rload_all()\n\rRun some examples interactively.\n\rtest() (or test_file())\n\rcheck()\n\r\r\r2.4 数据集的管理和使用\r根据数据使用目的，可相应处置如下三类外部数据集（external data）（具体参见14章External data）：\na.导出型数据（exported data）类别：存储并为用户提供二进制数据集（binary data），可以放置在\"data/\"文件夹下（需要创建该文件夹）。数据文件应该使用save()函数存储，且保存格式为.RData文件。使用该数据集的方法是usethis::use_data()。\n\r\"data/\"文件夹下的数据集mydata.RData也需要像函数一样采用roxygen2 block编写说明文档（document），并存放在\"R/data.R\"文件里。\n\r\r显然，这里的数据集是对初始数据源经过清洗和整理过的，这些中间数据或操作代码可以放置在另一个文件夹\"data-raw/\"下，调用数据集也可以相应使用usethis::use_data_raw()函数，当然不要忘记把这个文件夹添加到.Rbuildignore的忽略名单里。\n\rb.内部数据（internal data）类别：存储解析数据集（parsed data）但是不希望提供给用户，则可以放置在\"R/sysdata.rda\"文件里。使用该数据集的方法是usethis::use_data()。因为内部数据集不会export出来，因此不需要为这类数据编写说明文档。\n\r同外部数据类似，内部数据的来源数据或操作代码可以放置在另一个文件夹\"data-raw/\"下，调用数据集也可以相应使用usethis::use_data_raw()函数。\n\rc.原始数据（raw data）类别：存储原始数据集可以放置在inst/extdata文件夹下（需要创建该文件夹）。使用该数据集的方法是system.file()。\n\r需要注意的是：如果调用函数指定的数据文件并不存在，调用函数不会报错，而是返回空值。当然，如果想要显示为报错，则需要设定参数system.file(\"extdata\", \"none.csv\", mustWork = TRUE)\n\r\r\r3 概念要点\r3.1 区分DESCRIPTION和NAMESPACE的作用\r二者都是独立文件（见前面文件夹结构），对于外部依赖包的表述上存在一些容易引起混淆的地方。\n\r内容编辑方式上的不同该。包开发者可以主动编辑DESCRIPTION文件信息，但是NAMESPACE文件本身这是“只读”的（实际上该文件内容的编辑和更新，是自动通过对具体函数function的基本信息获得的）。\n\r对包依赖关系的表述和作用不同。\n\r\ra.在文件DESCRIPTION中，本包对其他包的依赖关系有两种表述方式Imports和Suggests，二者存在差异（具体见节8.1 Dependencies）。简单说，二者主要差异在于强调对外部包依赖程度的强弱不同。\n\rImports列表下的依赖包，必须出现在开发包中，开发包才能正常运作。把依赖包列在清单中，作用是确保这些依赖包已经在本地安装了。也即该清单下的外部包将会随着开发包的运行而自动安装。\n\r\rSuggests清单下的外部包，并不构成本包运行的必须条件，主要用于示例数据集、运行测试、编写函数说明等。该清单下的外部包不会随着开发包的运行而自动安装。此外，如果仅仅只是“本地包开发”，则根本不需要使用Suggests清单。\n\r\r[技巧提示]：可以使用函数usethis::use_package()快速而正确地添加依赖包到Imports和Suggests清单下。\n\rb.在文件NAMESPACE中，才是真正地将相关函数（间接地、自动地）导入**到“名空间”中去。这完全不同于DESCRIPTION文件下的Imports的功能。如果外部依赖包正确导入到NAMESPACE列表下，则可以避免多次使用foo::fun()这样的代码。\nc.文件DESCRIPTION和NAMESPACE的关系。一方面，把需要提前安装的外部包都列在DESCRIPTION文件的Imports列表下，并建议明确地使用foo::fun()进行函数编写，便于后期代码检查和维护。另一方面，所有在DESCRIPTION文件Imports列表下的外部依赖包，必须在文件NAMESPACE中“完全”列出。\n\r简单说，只要用到的外部包都应该进入NAMESPACE列表中，否则也别出现在DESCRIPTION文件Imports列表下！\n\r\r3.2 区分.Rbuildignore和.gitignore\r需要注意区分.Rbuildignore和.gitignore两个文件的目的和作用。简单说，.Rbuildignore是为了协调包开发实践与CRAN包发布要求之间的不同；而.gitignore是为了满足版本控制工具（如git）的特定需求。\n\r建议使用usethis::use_build_ignore()来添加.Rbuildignore忽略文件清单。\n\r\r3.3 区分RStudio Project和active usethis project\r需要注意的是usethis包的函数不会明确知名路径，而是默认在active usethis project下，因此它也意味着默认它是与RStudio Project同路径的。\n\r建议使用usethis::proj_sitrep()查看二者路径状态是否一致。\n\rusethis::proj_sitrep()\r# working_directory: \u0026#39;D:/github/xmerit\u0026#39;\r# active_usethis_proj: \u0026#39;D:/github/xmerit\u0026#39;\r# active_rstudio_proj: \u0026#39;D:/github/xmerit\u0026#39;\r\r3.4 注意load_all()的使用\r开发或测试期间，如何转载或缓存一个开发包？\n\r建议使用pkgload::load_all()，Rstudio快捷键：Ctrl + Shift + L。\n\r当然，其他的方法还包括devtools::load_all()等，具体差异可以见下面图3.1：\n\rFigure 3.1: R包开发阶段的若干调用方法\r\r\r3.5 区分code in scripts和code in packages\r区分脚本代码（code in scripts）和包代码（code in packages）的差异。\n（0）从代码存放位置来看：前者理论上可以存放在任意位置，而后者仅存放在\"R/\"文件夹下。\n（1）从代码运行时点来看：对于脚本代码（code in scripts），一旦触发操作，它当即就已经“运行”；而对于包代码（code in packages），只有包建成（built），它才开始“运行”。\n（2）从代码使用方法来看：前者往往还在源代码阶段使用，例如source(\"code-in-scripts.R\")；后者在包建成后（built）添加该包library(\"your-pkg\")即可直接使用特定函数your-pkg::fun_someone()。\n（3）从R landscape（R环境风貌）来看：简单说一些操作会直接导致R landscape的改变。例如：转载某个包library(\"your-pkg\")、调整环境选项options()、或修改工作文件夹setwd()。这就意味着如果包代码（code in packages）里的一些函数涉及到上述操作，则它们会改变R landscape，从而引起对其他某些函数的新麻烦和问题。此外，我们也要避免使用牵扯到用户环境风貌（user’s landscape）的函数，例如read.csv()就会与用户特定风貌相关的一个参数相关联。总之，包代码（code in packages）的若干具体建议如下：\n\r不要使用library() 或者require() 。它会改变搜索路径（search path）。\n\r永远不要使用source()。它会插入执行的代码结果，从而改变当前环境。实际上load_all()能够更好地让你调用你想要的内部函数。\n\r一些慎重使用的操作函数。包括：options()、par()\rsetwd()、Sys.setenv()、Sys.setlocale()、set.seed()等。\n\r\r概括起来，包代码（code in packages）会更加严格：\n\rAny R code outside of a function is suspicious and should be carefully reviewed.\n\r\r\r4 R编程技巧\r4.1 用styler包保持良好代码风格\rHadley建议使用tidyverse的代码风格（具体见节7.3 Code style）。\n\r建议使用styler包来调整代码风格，而且Rstudio Addins菜单上会有相应插件。一些常见需求的风格调整包括：对整个包styler::style_pkg()（注意使用带来的风险性）；对某个文件夹styler::style_dir()；对某个文件styler::style_file()；对字符向量styler::style_text()。\n\r\r4.2 用withr包管理环境状态\r前面讲过R landscape会因某些操作而改变，因而引发不必要的问题和错误。withr包可以很好处理这个矛盾（具体见节7.5.1 Manage state with withr）。\n需要注意的是，withr包的同一类操作分别给出了两个函数，二者作用范围各有不同：with_*()函数主要实现临时性环境状态调整（有点像“阅后即焚”）；而local_*()函数会将修改后的环境状态维持下去，直至本函数操作全部结束（有点像“夜更巡逻”）。\n\r\r","date":1612224000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612269953,"objectID":"6a8fc711b2bf0b335602574cdd6889aa","permalink":"https://huhuaping.netlify.app/2021/02/02/pkg-develop/","publishdate":"2021-02-02T00:00:00Z","relpermalink":"/2021/02/02/pkg-develop/","section":"post","summary":"1 学习资源\r2 体系流程\r\r2.1 文件夹结构体系\r2.2 包结构和状态（Package structure and state）\r2.3 常规“健康检查”流程\r2.4 数据集的管理和使用\r\r3 概念要点\r\r3.1 区分DESCRIPTION和NAMESPACE的作用\r3.2 区分.Rbuildignore和.gitignore\r3.3 区分RStudio Project和active usethis project\r3.","tags":["package"],"title":"R包开发：构架及基础","type":"post"},{"authors":["胡华平"],"categories":["Econometrics","R"],"content":"\r\r\r1 缘由\r2 开发思路\r\r2.1 主要功能\r2.2 主要挑战\r\r2.2.1 理论公式输出\r2.2.2 数值公式输出\r\r\r3 一些工具函数\r\r3.1 将xls文件高保真地转换为xlsx文件\r3.2 df数据列元素进行快速粘合输出\r\r\r\r1 缘由\r\rR包xmetrics定位于辅助计量经济学和统计学课程进行高效的、可重现的（reproducable）教学内容准备和演示。\n\rR包命名的原则应该坚持：a.词形或发音与表意一致性，也即与开发R包核心功能定位的一致；b.不能太范化或通用，避免后期用户搜索的混淆，或推广传播的混乱。\n拟定开发的R包命名xmetrics，音近于计量经济学英文Econometrics，X也有多种用途或神通广大的含义，而且metrics本身就是测量或度量的含义。通过google搜索关键词“xmetrics”的重合度或范化度，仅发现一款游泳穿戴设备名为“Xmetrics”（见网页）。继续google搜索关键词“R xmetrics”，发现一个定位为机器学习（Machine Learning）的R包命名为“Metrics”（见CRAN）。\n功能类似R包主要有： equatiomatic（见github仓库datalorax/equatiomatic）\n\rThe goal of equatiomatic is to reduce the pain associated with writing LaTeX code from a fitted model. In the future, the package aims to support any model supported by broom.\n\r\r优点：简单、容易上手；支持较多的几类计量模型。\n\r不足：功能相对较少（见下面）\n\r\r\r2 开发思路\r2.1 主要功能\rmath equation输出需要考虑的几个方面：\n\r支持纯latex符号公式（symbol equation）、模型结果数值化（value equation）以及二者的混合；\n\r支持计量经济学数学公式（math equation）的各类理论表达，如总体回归模型PRM、总体回归函数PRF、样本回归模型（SRM）、样本回归函数（SRF）等；\n\r支持多种数值结果形式输出，例如经典三行式（系数、标准误、t值），或者经典一行式（系数）。\n\r支持多种latex美化效果，包括align、alignedat等排列对齐环境；\n\r支持灵活个性化的参数符号（如\\(\\alpha,\\beta,\\gamma,\\cdots\\)）和下标符号（如\\(X_i, u_i, u_t\\)）选择等；\n\r支持多种模型估计方法，包括OLS回归、虚拟变量回归（ANOVA）等；\n\r与通用R包保持接口一致，如包broom等；\n\r\r\r2.2 主要挑战\r计量经济学的语言符号体系\n\r符号体系的标准化和一致性问题【低难度】\n\r数学证明和逻辑推导问题【工作强度大】。\n\r\r2.2.1 理论公式输出\rX \u0026lt;- c(paste0(rep(c(\u0026quot;X\u0026quot;,\u0026quot;Z\u0026quot;),each=4),1:4), \u0026quot;fathedu\u0026quot;, \u0026quot;mothedu\u0026quot;)\rY \u0026lt;- \u0026quot;lwage\u0026quot;\rGreek.g \u0026lt;- c(\u0026quot;alpha\u0026quot;,\u0026quot;beta\u0026quot;,\u0026quot;lambda\u0026quot;)\rGreek.n \u0026lt;- c(4,4,2)\r#type \u0026lt;- \u0026quot;srm\u0026quot;\rObs \u0026lt;- \u0026quot;i\u0026quot;\rN.row \u0026lt;- 4\rCst \u0026lt;- F\r总体回归模型PRM：\n\\[\\begin{equation}\r\\begin{alignedat}{999}\rlwage_i\u0026amp;=\u0026amp;\u0026amp;\\alpha_{1}X1_i+\u0026amp;\u0026amp;\\alpha_{2}X2_i+\u0026amp;\u0026amp;\\alpha_{3}X3_i+\u0026amp;\u0026amp;\\alpha_{4}X4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\beta_{1}Z1_i+\u0026amp;\u0026amp;\\beta_{2}Z2_i+\u0026amp;\u0026amp;\\beta_{3}Z3_i+\u0026amp;\u0026amp;\\beta_{4}Z4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\lambda_{1}fathedu_i+\u0026amp;\u0026amp;\\lambda_{2}mothedu_i+\u0026amp;\u0026amp;u_i\r\\end{alignedat}\r\\tag{2.1}\r\\end{equation}\\]\n样本回归模型SRM：\nsrm_test \u0026lt;- lx.psm(x =X, y = Y, greek.g = Greek.g, greek.n = Greek.n,\rtype = \u0026quot;srm\u0026quot;, intercept = Cst, lm.label = \u0026quot;srm\u0026quot;, obs = Obs, n.row = N.row)\r\\[\\begin{equation}\r\\begin{alignedat}{999}\rlwage_i\u0026amp;=\u0026amp;\u0026amp;\\hat{\\alpha}_{1}X1_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{2}X2_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{3}X3_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{4}X4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\hat{\\beta}_{1}Z1_i+\u0026amp;\u0026amp;\\hat{\\beta}_{2}Z2_i+\u0026amp;\u0026amp;\\hat{\\beta}_{3}Z3_i+\u0026amp;\u0026amp;\\hat{\\beta}_{4}Z4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\hat{\\lambda}_{1}fathedu_i+\u0026amp;\u0026amp;\\hat{\\lambda}_{2}mothedu_i+\u0026amp;\u0026amp;e_i\r\\end{alignedat}\r\\tag{2.2}\r\\end{equation}\\]\n样本回归函数SRF：\nsrf_test \u0026lt;- lx.psm(x =X, y = Y,greek.g = Greek.g, greek.n = Greek.n,\rtype = \u0026quot;srf\u0026quot;, intercept = Cst, lm.label = \u0026quot;srf\u0026quot;,\robs = Obs, n.row = N.row )\r\\[\\begin{equation}\r\\begin{alignedat}{999}\r\\widehat{lwage}_i\u0026amp;=\u0026amp;\u0026amp;\\hat{\\alpha}_{1}X1_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{2}X2_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{3}X3_i+\u0026amp;\u0026amp;\\hat{\\alpha}_{4}X4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\hat{\\beta}_{1}Z1_i+\u0026amp;\u0026amp;\\hat{\\beta}_{2}Z2_i+\u0026amp;\u0026amp;\\hat{\\beta}_{3}Z3_i+\u0026amp;\u0026amp;\\hat{\\beta}_{4}Z4_i\\\\\u0026amp;+\u0026amp;\u0026amp;\\hat{\\lambda}_{1}fathedu_i+\u0026amp;\u0026amp;\\hat{\\lambda}_{2}mothedu_i\r\\end{alignedat}\r\\tag{2.3}\r\\end{equation}\\]\n\r2.2.2 数值公式输出\rrequire(\u0026quot;wooldridge\u0026quot;)\rmroz \u0026lt;- wooldridge::mroz %\u0026gt;%\ras_tibble() %\u0026gt;%\rselect(lwage, educ,exper, fatheduc,motheduc,everything()) %\u0026gt;%\rfilter(!is.na(wage))\rmod_origin \u0026lt;- formula(lwage ~ educ + nwifeinc +exper+I(exper^2) + I(exper^2*city) )\rols_origin \u0026lt;- lm(formula = mod_origin, data = mroz)\r默认形式：\nlx_out\u0026lt;- lx.est(lm.mod = mod_origin, lm.dt = mroz)\r\\[\\begin{equation}\r\\begin{alignedat}{999}\r\\widehat{lwage}\u0026amp;=\u0026amp;\u0026amp;-0.53\u0026amp;\u0026amp;+0.10educ_i\u0026amp;\u0026amp;+0.01nwifeinc_i\\\\\u0026amp;(s)\u0026amp;\u0026amp;0.2011\u0026amp;\u0026amp;0.0148\u0026amp;\u0026amp;0.0032\\\\\u0026amp;(t)\u0026amp;\u0026amp;-2.61\u0026amp;\u0026amp;+6.67\u0026amp;\u0026amp;+1.59\\\\\u0026amp;(cont.)\u0026amp;\u0026amp;+0.04exper_i\u0026amp;\u0026amp;-0.00exper^2_i\u0026amp;\u0026amp;+0.00exper^2*city_i\\\\\u0026amp;(s)\u0026amp;\u0026amp;0.0132\u0026amp;\u0026amp;0.0004\u0026amp;\u0026amp;0.0002\\\\\u0026amp;(t)\u0026amp;\u0026amp;+3.23\u0026amp;\u0026amp;-2.19\u0026amp;\u0026amp;+0.79\r\\end{alignedat}\r\\end{equation}\\]\nsrm形式：\nlx_out\u0026lt;- lx.est(lm.mod = mod_origin, lm.dt = mroz, style = \u0026quot;srm\u0026quot;)\r\\[\\begin{equation}\r\\begin{alignedat}{999}\r{lwage}\u0026amp;=\u0026amp;\u0026amp;-0.53\u0026amp;\u0026amp;+0.10educ_i\u0026amp;\u0026amp;+0.01nwifeinc_i\\\\\u0026amp;(s)\u0026amp;\u0026amp;0.2011\u0026amp;\u0026amp;0.0148\u0026amp;\u0026amp;0.0032\\\\\u0026amp;(t)\u0026amp;\u0026amp;-2.61\u0026amp;\u0026amp;+6.67\u0026amp;\u0026amp;+1.59\\\\\u0026amp;(cont.)\u0026amp;\u0026amp;+0.04exper_i\u0026amp;\u0026amp;-0.00exper^2_i\u0026amp;\u0026amp;+0.00exper^2*city_i\u0026amp;\u0026amp;+e_i\\\\\u0026amp;(s)\u0026amp;\u0026amp;0.0132\u0026amp;\u0026amp;0.0004\u0026amp;\u0026amp;0.0002\\\\\u0026amp;(t)\u0026amp;\u0026amp;+3.23\u0026amp;\u0026amp;-2.19\u0026amp;\u0026amp;+0.79\r\\end{alignedat}\r\\end{equation}\\]\n一行形式：\nlx_out\u0026lt;- lx.est(lm.mod = mod_origin, lm.dt = mroz, style = \u0026quot;srm\u0026quot;, opt = c(\u0026quot;p\u0026quot;))\r\\[\\begin{equation}\r\\begin{alignedat}{999}\r{lwage}\u0026amp;=\u0026amp;\u0026amp;-0.53\u0026amp;\u0026amp;+0.10educ_i\u0026amp;\u0026amp;+0.01nwifeinc_i\\\\\u0026amp;(p)\u0026amp;\u0026amp;0.0093\u0026amp;\u0026amp;0.0000\u0026amp;\u0026amp;0.1116\\\\\u0026amp;(cont.)\u0026amp;\u0026amp;+0.04exper_i\u0026amp;\u0026amp;-0.00exper^2_i\u0026amp;\u0026amp;+0.00exper^2*city_i\u0026amp;\u0026amp;+e_i\\\\\u0026amp;(p)\u0026amp;\u0026amp;0.0014\u0026amp;\u0026amp;0.0288\u0026amp;\u0026amp;0.4322\r\\end{alignedat}\r\\end{equation}\\]\n\r\r\r3 一些工具函数\r3.1 将xls文件高保真地转换为xlsx文件\r参考资料1：geosalz 源代码；参考资料2：“队长问答”；参考资料3：博客文章。\n函数作用：将本地文件夹下的.xls文件批量转换为.xlsx文件。适用于windowns操作系统下，具体会调用Microsoft的本地电脑程序端。\n函数名称：convert_xls_as_xlsx(input_dir, export_dir)\n\r使用场景：“D:/github/article-west/R/xls2xlsx.R”；以及“D:/github/article-west/data-set-maintain.Rmd”\n\rconvert_xls_as_xlsx(input_dir = \u0026quot;d:/github/article-west/data/v4-cost-revenue/01-raw/\u0026quot;, export_dir = \u0026quot;d:/github/article-west/data/v4-cost-revenue/001-out/\u0026quot;)\r注意可能的提示（message）：\nFound 2 versions of \u0026#39;excelcnv.exe\u0026#39;:\rC:/Program Files/Microsoft Office/Updates/Download/PackageFiles/8BB798B7-EFF4-4781-AD0F-DE53892ADC7D/root/Office16/excelcnv.exe\rC:/Program Files/Microsoft Office/root/Office16/excelcnv.exe\r根据本地电脑的实际情况，很可能需要修改两个地方：\n\r本地电脑office的安装路径：safe_office_folder()函数的路径参数office_path = \"C:/Program Files/Microsoft Office\")\n\r可能有office更新版本：get_excelcnv_exe()函数的输出结果paths[2]\n\r\r\r3.2 df数据列元素进行快速粘合输出\r\r\r","date":1612137600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612185177,"objectID":"c69ca5bcfc80c946ef75133476b14d05","permalink":"https://huhuaping.netlify.app/2021/02/01/pkg-xmerit/","publishdate":"2021-02-01T00:00:00Z","relpermalink":"/2021/02/01/pkg-xmerit/","section":"post","summary":"1 缘由\r2 开发思路\r\r2.1 主要功能\r2.2 主要挑战\r\r2.2.1 理论公式输出\r2.2.2 数值公式输出\r\r\r3 一些工具函数\r\r3.1 将xls文件高保真地转换为xlsx文件\r3.2 df数据列元素进行快速粘合输出\r\r\r\r1 缘由\r\rR包xmetrics定位于辅助计量经济学和统计学课程进行高效的、可重现的（reproducable）教学内容准备和演示。","tags":["package"],"title":"R包开发：xmetrics","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 CSS基础\r\r1.1 CSS selector\r1.2 CSS layout\r\r2 Xaringan的本质\r3 Xaringan的CSS美化\r\r3.1 头衬和底衬（header and footer）\r3.2 个性水印图片（watermark）\r3.3 各类窗框（notes box）\r\r4 下一步需要处理的CSS问题\r\r4.1 储备炫酷技能\r4.2 灵活选用字体\r4.3 图文混排\r4.4 Todo清单\r\r5 最后的若干思考和感受\r\r\r1 CSS基础\r1.1 CSS selector\r\rCSS selector\r\r\r\r类型\r含义\r子类\r语法\r示例\r\r\r\rSimple selector\r\rID\r#\r#para1 { }\r\r\r\rclass/name\r.\r.center{ }\r\r\r\rAttribute selector\r[ ]\r\r\r\r\rUniversal Selector\r*\r* { }\r\r\r\rGrouping Selector\r,\rh1, h2, p { }\r\rCombinator selector\rrelationship\rDescendant\rspace\rdiv p { }\r\r\r\rChild\r\u0026gt;\rdiv \u0026gt; p { }\r\r\r\rAdjacent sibling\r+\rdiv + p { }\r\r\r\rGeneral sibling\r~\rdiv ~ p { }\r\rPseudo -class selector\rstate\rMouse over/ visited link/focus\r:\ra:link {}\r\rPseudo -element selector\rpart\rFirst letter/ line/ element\r::\r::first-line { }\r\r\r\rInsert content before or after\r::\rp::after { }\r\r\r\r\r1.2 CSS layout\r\r布局：margin；border；padding\n\r位置：position: static/relative/fixed/absolute/sticky\n\r定位：top/right/bottom/left\n\r\r\r\r2 Xaringan的本质\rXaringan背后是基于remark.js的。remark.js后台基本工作流程，就是采用JavaScript语言把markdown文档，映射到html上，并形成独特的slide幻灯片样式。因此，还是很有必要了解一下remark.js的说明文档（见Wiki页面）。那么Xaringan包又起到了什么作用呢？根据yihui的说法：它扩展支持了Rmarkdown语法以及R代码的直接运行！\nXaringan本质上是以html形态呈现，并使用css样式进行style视觉美化。Xaringan的技术讨论和细节见其wiki页面。\n归结起来这是对slide工具的一种选择，而且是选择了“未来感”的html呈现形态！那么CSS知识这是绕不过去的学习壁垒。html和css的学习至少也是需要在“三姑学院”（W3school）的汪洋里过水“捞一遍”（通读一遍）。\n\r3 Xaringan的CSS美化\r3.1 头衬和底衬（header and footer）\r调整header和footer视觉效果，主要是从某个slide开始里设定layout: true，并按html语法设置header和footer样式。其完整的语法如下：\n\u0026lt;!---slide area with layout---\u0026gt;\r---\rlayout: true\r\u0026lt;div class=\u0026quot;my-header-h2\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026quot;watermark1\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026quot;watermark2\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026quot;watermark3\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026quot;my-footer\u0026quot;\u0026gt;\u0026lt;span\u0026gt;huhuaping@ \u0026amp;emsp;\u0026amp;emsp; \u0026lt;a href=\u0026quot;#chapter01\u0026quot;\u0026gt; 第01章 导论\u0026lt;/a\u0026gt;\r\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\r\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\u0026amp;emsp;\r\u0026lt;a href=\u0026quot;#sec-process\u0026quot;\u0026gt;1.3 计量经济学分析过程\u0026lt;/a\u0026gt; \u0026lt;/span\u0026gt;\u0026lt;/div\u0026gt; ---\r具体样式细节包括：\n\rheading文本居中设定。需要注意叠放层级参数z-index的设置。\r\r.remark-slide-content h2, h3,h4,h5{\rposition: relative;\rtop: 0px;\rmargin: 15px 0px 50px;\rwidth: 99%;\rtext-shadow: 0px 0px;\rtext-align: center;\rz-index: 5;\r}\r\rheader背景色和渐变方式。\r\rdiv.my-header-h2 {\rbackground-color: #FFFFFF;\rbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,#f77a00), color-stop(0%,#f77a00), color-stop(10%,red), color-stop(74%,#fbd0ac), color-stop(83%,#fbd0ac), color-stop(100%,#fddfc8));\rposition: fixed;\rtop: 0px;\rleft: 0px;\rheight: 86.92913px;\rwidth: 100%;\r}\r\rfooter导航样式。\r\rdiv.my-footer {\rbackground-color: #272822;\rposition: absolute;\rbottom: 0px;\rleft: 0px;\rheight: 20px;\rwidth: 100%;\r}\rdiv.my-footer span {\rfont-size: 10pt;\rcolor: #F7F8FA;\rposition: absolute;\rleft: 15px;\rbottom: 2px;\r}\r\rfooter的导航链接功能。先在css里设定链接文本的颜色，然后在slide里设定layout: true（见前面完整语句块），并按html语法设定链接定位#a-specify-id。\r\r/* link text color*/\rdiv.my-footer a {\rcolor: white;\rbackground-color: transparent;\rtext-decoration: none;\r}\r\r3.2 个性水印图片（watermark）\r水印图片的个性化设定。首先需要设定css，然后在slide里设定layout: true（见前面完整语句块），并按html语法依次设定三个水印图片，其中之一如\u0026lt;div class=\"watermark1\"\u0026gt;\u0026lt;/div\u0026gt;。\n/* water remark image */\r.watermark1::after {\rcontent: \u0026quot;\u0026quot;;\rdisplay: block;\rwidth: 30%;\rheight: 20%;\rposition: absolute;\rtop: 150px;\rleft: 100px;\rbackground-image: url(\u0026quot;vlog-nwsuaf.jpg\u0026quot;);\rbackground-size: 80%;\rbackground-position: 0px 20px;\rbackground-repeat: no-repeat;\ropacity: 0.04; /* Rotate div */\r-ms-transform: rotate(-45deg); /* IE 9 */\r-moz-transform: rotate(-45deg); /* firefox */\r-webkit-transform: rotate(-45deg); /* Chrome, Safari, Opera */\rtransform: rotate(-45deg);\r}\r\r3.3 各类窗框（notes box）\r在多个写作场景下（如xaringan、blogdown、rmarkdown），可能会用到各类提示窗框（notes box）。可以利用css设定获得个性化的提示窗框效果，具体可参看desirée de leon的博文1。\n基本要点：\n\r背后要用到html的div语块\n\r可以借用R包bookdown的blocks代码块，进行快捷应用。\n\r\r第一步：css文件（/my-css/notes-tips.css）设定如下：\n/* -----------div tips------------- */\rdiv.puzzle, div.fyi, div.demo, div.notes {\rpadding: 0.5em;\rmargin: 0.5em 0;\rpadding-left: 100px;\rbackground-size: 70px;\rbackground-repeat: no-repeat;\rbackground-position: 15px center;\rmin-height: 100px;\rcolor: #1f5386;\rbackground-color: #bed3ec;\rborder: solid 5px #dfedff;\r}\rdiv.notes {\rbackground-image: url(\u0026quot;notes-light-bulb-ff5500.png\u0026quot;);\r}\r\r/* -----------div tips------------- */\rdiv.puzzle, div.fyi, div.demo, div.notes {\rpadding: 0.5em;\rmargin: 0.5em 0;\rpadding-left: 100px;\rbackground-size: 70px;\rbackground-repeat: no-repeat;\rbackground-position: 15px center;\rmin-height: 100px;\rcolor: #1f5386;\rbackground-color: #bed3ec;\rborder: solid 5px #dfedff;\r}\rdiv.notes {\rbackground-image: url(\"notes-light-bulb-ff5500.png\");\r}\r\r\r注意：需要自己手动下载背景图片，免费的图片icon下载网站有：\n\r\r\raiconica.net。\rfontawesome.com。正文里还可使用R函数fontawesome::fa('slideshare')。例如slide图标\r\r\r第二步：在.Rmd文件的yaml区域引用上面的css文件路径。\ncss: - ../mycss/notes-tips.css\r第三步：在.Rmd文件下进行写作，并引用对应的css样式：\n` ``{block, type=\u0026#39;notes\u0026#39;, echo=T}\r待完成：找到新数据，绘制一张条形图，但其不适合制作柱状图。\r` ``\r\r\r4 下一步需要处理的CSS问题\r4.1 储备炫酷技能\r提前准备好各类丰富slide功能的css实现方法。具体明确的一些炫酷功能，相关slide和css样板可以参看：\n\rRemark.js推荐的三个Remark templates；尤其推荐Story模板Remark-Apron。\n\r另外，有空还要好好看看xaringanthemerR包。\n\rEaro Wang’s slide展示了很多炫酷技巧，包括Javascript交互实现动画效果等。源代码见其github。\n\rYongfu Liao’s slide，提供了简单的xaringan使用介绍。其源代码github。\n\rEmi Tanaka’s slide提供了关于页面布局的多种形式。\n\r\r\r4.2 灵活选用字体\r解决字体灵活选用问题。工作量理论上不是很大，主要是受到中文字体适用性和加载速度等的限制。目前暂时还不想去碰它，大众字体就大众字体，先忍一忍。具体看yihui的相关思考和说明。如思源宋体 ；楷体。\n\r4.3 图文混排\r图文混排技巧。\n\rremark.js自带光环的边栏效果（side bar）.left-column[]或者.right-column[]。\n\rremark.js自带光环的两栏效果（two columns）.pull-left[]或者.pull-right[]。\n\r\r\r4.4 Todo清单\r\r页面布局。页面紧凑度和宽松度灵活调整。例如remark-slide-content.roomy。\n\r前导符设定。正文符号列表的前导符设定问题。\n\r动画效果。see Earo Wang’s slide\n\r添加logo。see xaringan Tip: Add A Logo to All of Your Slides。\n\r\r\r\r5 最后的若干思考和感受\r这次对Xaringan 又一次发起冲锋，直接缘由是《计量经济学》双一流课程团队的视频录制。团队里其他人都不用R和Rmarkdown，更不要提Xaringan slide了。大家仍旧还是基于PowerPoint准备和制作授课幻灯片，有的老师甚至操作系统还是win7，office套件还是2010版！所以只能我事先用powerpoint设定好ppt模板，大家各自拿去制作自己的授课ppt（其实大部分团队老师甚至连ppt母版也不会用）。考虑到我自己的实际需求，我是希望能同时兼顾自己使用xaringan 和团队其他老师使用ppt的一致性——当然是不能奢求最后两者视觉效果的完全一样！目前在Xaringan上的设定调整，基本上达到了ppt模板类似效果的80%左右。\n事实上，Xaringan和ppt二者效果一致性的达成，并不是最大的挑战。基本上基于html的Xaringan slide，可以使用css技巧实现ppt里的几乎所有功能。而况Xaringan还有很多ppt无法实现的“现代的”以及“未来的”诸多功能！真正的挑战在于团队协作，尤其是对于非常技术守旧的团队（并不指技术之外的其他方面）。到此，我的基本态度就是：最低限度地在技术方面与其他人协作，重点是把协作任务下自己事情做完、基本ok即可！\n当然，这里面也还有一个在协作冲突中推动自己不断学习进步的问题。显然，如果没有这次的协作录制课程，我肯定还是会一如往常地坚持“最小化学习”策略：也即如无实际所需，绝不去茫然学习所谓的各种知识技能。这一次，我充分认识到了CSS对于Xaringan甚至对于Html的重要性，并且看到了一些文档协作、协作和输出的“未来”趋势和走向！\n\r\rMAKING PRETTY NOTE BOXES: A div tip for all occasions↩︎\n\r\r\r","date":1612137600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612142637,"objectID":"9c440e3cdbec629b8c768f9599dca099","permalink":"https://huhuaping.netlify.app/2021/02/01/css-base-xaringan/","publishdate":"2021-02-01T00:00:00Z","relpermalink":"/2021/02/01/css-base-xaringan/","section":"post","summary":"1 CSS基础\r\r1.1 CSS selector\r1.2 CSS layout\r\r2 Xaringan的本质\r3 Xaringan的CSS美化\r\r3.1 头衬和底衬（header and footer）\r3.2 个性水印图片（watermark）\r3.3 各类窗框（notes box）\r\r4 下一步需要处理的CSS问题\r\r4.","tags":["Xaringan","CSS"],"title":"Xaringan美化：CSS功夫","type":"post"},{"authors":[],"categories":["Git"],"content":"\r\r\r1 配置git\r2 常用操作\r\r2.1 合并分支branch\r2.2 删除本地分支\r2.3 删除远程分支\r\r3 gitbash常用文件及文件夹命令\r4 常用git命令\r5 git 新挑战\r\r5.1 超越github文件容量限制（单个文件50M以上）\r5.2 忽略文件设置\r5.3 忽略文件无效的处理办法\r5.4 无法把本地repo推送到远程repo\r5.5 分支push找不到上游分支\r5.6 回到远端状态\r5.7 放弃本地的修改（未提交）\r5.8 git 查看commit历史\r5.9 删除已提交记录中的文件并添加到ignore列表\r\r\r\rgit版本控制技巧集锦\n1 配置git\r配置默认文本编辑器（text editor）。windows党还是自觉使用Notepad吧，免费又熟悉\n\r下载安装Notepad++（默认安装路径）\n\r打开GitBash，并输入如下代码\n\r\r$ git config --global core.editor \u0026quot;\u0026#39;C:/Program Files (x86)/Notepad++/notepad++.exe\u0026#39; -multiInst -notabbar -nosession -noPlugin\u0026quot;\r配置合并检查工具（mergetool）。这个必须要图形化GUI的，p4merge就是一个不错的选择。\n\r下载并安装p4merge。默认安装路径为\"C:Program Files\\Perforce\\p4merge.exe\"。\n\r打开GitBash，并输入如下代码：\n\r\r$ git config --global diff.tool p4merge\r$ git config --global difftool.p4merge.path \u0026#39;C:\\Program Files\\Perforce\\p4merge.exe\u0026#39;\r$ git config --global merge.tool p4merge\r$ git config --global mergetool.p4merge.path \u0026#39;C:\\Program Files\\Perforce\\p4merge.exe\u0026#39;\r\r2 常用操作\r2.1 合并分支branch\r$ git checkout master\r$ git merge hotfix\r\r2.2 删除本地分支\r$ git branch -d branch_name\r$ git branch -D branch_name\r\r2.3 删除远程分支\r$ git push \u0026lt;remote_name\u0026gt; --delete \u0026lt;branch_name\u0026gt;\r$ git push \u0026lt;remote_name\u0026gt; :\u0026lt;branch_name\u0026gt;\r\r\r3 gitbash常用文件及文件夹命令\rcd: change directory的简写，改变目录的意思，就是切换到哪个目录下， 如 cd e:切换 E 盘下面的fff 目录。\n\rcd ..: 回退到上一个目录。我们在写js，引入文件时，.. 表示的就是上一个目录, 所以 cd .. 回退到上一个目录就很好理解了。注意，cd 和两个点点..之间有一个空格,\n\rpwd: print working directory, 打印工作目录，它会显示我们当前所在的目录路径。\n\rls: list, 列出当前目录中的所有文件， 只不过ll(两个ll)列出的内容更为详细。\n\rtouch: 新建一个文件如 touch index.js就会在当前目录下新建一个index.js文件。\n\rrm: remove，删除一个文件, rm index.js 就会把index.js文件删除.\n\rmkdir: make directory 新建一个目录,就是新建一个文件夹. 如mkdir src 新建src 文件夹.\n\rrm -r : 删除一个文件夹， r (recusive 是递归的意思)， 删除用的就是递归，先删除文件夹里面的内容，再删除文件夹。 rm -r src 删除src目录。\n\rmv 移动文件, mv index.html src index.html 是我们要移动的文件, src 是目标文件夹,当然, 这样写,必须保证文件和目标文件夹在同一目录下.\n\rreset 清屏，把git bash命令窗口中的所有内容清空。\n\rexit 可以直接退出窗口，\n\r\r\r4 常用git命令\r视图化查看提交历史、各个分支的指向以及项目的分支分叉情况\r\r$ git log --oneline --decorate --graph --all\r\r5 git 新挑战\r5.1 超越github文件容量限制（单个文件50M以上）\r挑战的问题：git bash 命令push时，如果单个文件大于50M以上，则会提示推送失败。\n参考的解决办法包括：\n\rWorking with large files and repositories\n\rVersioning large files\n\r\r实际的解决办法为：\n\r下载安装git LFS软件\r\r# git bash下确认是否成功安装\r$ git lfs install\r\u0026gt; Git LFS initialized.\r\r\r配置LFS存储策略\r\r# 追踪大容量文件所在的文件夹\r$ git lfs track \u0026quot;data-process/\u0026quot;\r\r\r提交并推送LFS\r\r# 添加文件夹\r$ git add data-process/\r# 提交并推送\r$ git commit -m \u0026quot;add LFS directory data-process/\u0026quot;\r$ git push origin master\r\r\r5.2 忽略文件设置\r工作思路是：\n\r在工作目录下新建.gitigore文件\r\r$ touch .gitignore\r\r\rgit bash调用文本编辑工具（windows死粉的notepad++），编辑并设置.gitignore文件\r\r# 配置notepad（64bit system -windows）\r$ alias notepad=\u0026quot;/c/Program\\ Files\\ \\(x86\\)/Notepad++/notepad++.exe\u0026quot;\r# 打开编辑器，设置忽略规则\r$ notepad .gitignore\r\r忽略规则的一个样例\r\r# ignore the whole file directory\rdata-raw/\r# ignore Rproj user info file\r.Rproj.user\r\r\r5.3 忽略文件无效的处理办法\r有时候.gitignore里虽然进行了修改设定，但并不会马上生效。\n此时，问题可能就出在缓存上（cash）（参看My .gitignore file is ignored by git and it does not work，或者参看Gitignore is not Working）。\n解决办法是清理缓存-提交：\n$ git rm -r --cached .\r$ git add .\r$ git commit -m \u0026quot;Untracked files issue resolved to fix .gitignore\u0026quot;\r场景实例：（两台设备上）git操作时反复出现.Rproj.user/shared/notebooks/paths\n处理办法（参考）：\n# Once you add files to git, it will keep tracking them, # so we have to delete them and commit your deletion\rgit rm -r --cached .Rproj.user/**\r# Commit the deleted files\rgit commit -m \u0026quot;Removed files....\u0026quot;\r# now add it to the `.gitignore` and the files will be ignored\recho \u0026#39;.Rproj.user/**\u0026#39; \u0026gt; .gitignore\r\r要点：**表示文件夹。\n\r\r5.4 无法把本地repo推送到远程repo\r这种情形下，直接push会提示如下报错：\ngit error: failed to push some refs to \u0026#39;https://github.com/\r问题可能有多个：\n\r没有进行远程设置。可以通过如下代码查看是否进行了远程设置。\r\r# 正常情况下显示结果如下：\r$git remote -v\rmyOrigin ssh://git@example.com:1234/myRepo.git (fetch)\rmyOrigin ssh://git@example.com:1234/myRepo.git (push)\r# 否则就应该进行远程设置：\r$git remote add origin ssh://git@example.com:1234/myRepo.git\r\r\r然后再进行推送：\r\r# origin是远端，master是本地分支\r$git push origin master\r\r可能还会报错，比如提示远端在本地前面。因此需要pull-merge-mergetool，来实现更新步骤。下面给出处理办法（参看Dealing with non-fast-forward errors）：\r\r# 报错信息\r! [rejected] master -\u0026gt; master (non-fast-forward)\rerror: failed to push some refs to \u0026#39;git@github.com:huhuaping/netlify.git\u0026#39;\rhint: Updates were rejected because the tip of your current branch is behind\rhint: its remote counterpart. Integrate the remote changes (e.g.\rhint: \u0026#39;git pull ...\u0026#39;) before pushing again.\rhint: See the \u0026#39;Note about fast-forwards\u0026#39; in \u0026#39;git push --help\u0026#39; for details.\r\r# 同步远端和本地\r$ git pull origin master\r# 如果显示冲突conflict，则利用合并工具处理\r$ git mergetool\r\r\r5.5 分支push找不到上游分支\r如果是本地新建分支，则需要设定上游分支，否则push就会报错：\n# 报错信息。\r$ git push\rfatal: The current branch dev has no upstream branch.\rTo push the current branch and set the remote as upstream, use\r处理办法是：\n$ git push --set-upstream origin dev\r\r5.6 回到远端状态\r回到远端状态（例如，本地已提交，但是push提示合并冲突时，想把本地pull为远端状态）。参看队长问答\ngit reset --hard origin/\u0026lt;your branch\u0026gt;\r\r5.7 放弃本地的修改（未提交）\r参看队长问答.\n#删除remove所有untracked files\rgit clean -df\r#清除clear 所有untracked files\rgit checkout -- .\r#保存痕迹\rgit stash save --keep-index --include-untracked\r# 不保存痕迹\rgit stash save --keep-index\r\r\r5.8 git 查看commit历史\r查看历史commit:\ngit log --pretty=oneline\rgit log --oneline --decorate --graph --all\r\r5.9 删除已提交记录中的文件并添加到ignore列表\r参看队长问答\n\rFirst of all your files are already committed so you have to remove it from the repo:\n\r# Once you add files to git, it will keep tracking them, # so we have to delete them and commit your deletion\rgit rm -r --cached .Rproj.user/**\r# Commit the deleted files\rgit commit -m \u0026quot;Removed files....\u0026quot;\r# now add it to the `.gitignore` and the files will be ignored\recho \u0026#39;.Rproj.user/**\u0026#39; \u0026gt; .gitignore\r\r\r\r","date":1612051200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612063486,"objectID":"7927cbc9d290a5771b8c39b6f121bd66","permalink":"https://huhuaping.netlify.app/2021/01/31/note-for-git-version-control-skills/","publishdate":"2021-01-31T00:00:00Z","relpermalink":"/2021/01/31/note-for-git-version-control-skills/","section":"post","summary":"1 配置git\r2 常用操作\r\r2.1 合并分支branch\r2.2 删除本地分支\r2.3 删除远程分支\r\r3 gitbash常用文件及文件夹命令\r4 常用git命令\r5 git 新挑战\r\r5.1 超越github文件容量限制（单个文件50M以上）\r5.2 忽略文件设置\r5.3 忽略文件无效的处理办法\r5.4 无法把本地repo推送到远程repo\r5.","tags":["Github","Version control"],"title":"git版本控制实操技巧汇总","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r\r1 netlify文件夹体系\r\r1.1 netlify content文件系统\r1.2 netlify static文件夹系统\r1.3 netlify public文件系统\r\r2 netlify相关联的Github仓库\r\r2.1 Xaringan slide的正确操作\r\r2.1.1 xaringan slide的典型文件结构\r2.1.2 Xaringan Rmd调用本地图片文件\r2.1.3 Xaringan Rmd代码块生成的graph\r\r\r3 若干netlify对接技巧\r\r3.1 netlify内部相互链接\r3.2 netlify指定Rmd输出格式\r\r4 对接失败与报错\r\r4.1 include_url()服务器拒绝访问\r\r\r\r1 netlify文件夹体系\r使用blogdown进行netlify建站，下述三个文件夹及作用需要区分清楚：\n\rcontent文件夹，主要进行写作或者接口配置（链接等），对接包括：post、publication、course、project等\n\rstatic文件夹，主要存放来自其他仓库的静态资料。例如，xaringan slide课件制作往往在我的另一个课程仓库（如course-econometrics），相关文件资料（html）需要提前拷贝到这个文件夹对应位置。\n\rpublic文件夹，是建站结果的最终目录树文件系统。netlify服务器网站可以方便国际用户访问，但国内访问速度较慢。public/后期还要更新到本地另外一个域名服务器网站（方便国内访问）。（见之前的博客文章）\n\r\r1.1 netlify content文件系统\r levelName\r1 netlify 2 |--static 3 |--content 4 | |--course-advanced-statistics\r5 | |--course-econometrics 6 | | |--data 7 | | |--schedule-theory.Rmd 8 | | °--schedule-theory.html 9 | |--post 10 | |--project 11 | °--publication 12 |--public 13 |--config 14 °--netlify.Rproj \r 参看1[HTML widgets](https://bookdown.org/yihui/blogdown/html-widgets.html)\r参看2[HTML Widgets not displaying](https://github.com/rstudio/blogdown/issues/20#issuecomment-269389360)\r---\r\r1.2 netlify static文件夹系统\r levelName\r1 netlify 2 |--static 3 | |--course-advanced-statistics 4 | °--course-econometrics 5 | |--data 6 | |--pic 7 | | |--chpt1-log.png 8 | | °--chpt2-reg.png 9 | |--reading 10 | | |--cht01-history.files 11 | | °--cht01-history.html 12 | |--01-introduction-slide.html 13 | °--02-simple-reg-basic-slide.html\r14 |--content 15 |--public 16 |--config 17 °--netlify.Rproj \r\r1.3 netlify public文件系统\r levelName\r1 netlify 2 |--static 3 |--content 4 |--public 5 | |--course-advanced-statistics 6 | °--course-econometrics 7 | |--schedule-theory 8 | |--data 9 | |--pic 10 | | |--chpt1-log.png 11 | | °--chpt2-reg.png 12 | |--01-introduction-slide.html 13 | °--02-simple-reg-basic-slide.html\r14 |--config 15 °--netlify.Rproj \r\r\r2 netlify相关联的Github仓库\r目前而言，neglify主站相关联的主要github仓库有：\n\r主站仓库：netlify仓库，基于hugo-academic网站模板，集合了众多的其他仓库的展示材料\n\r教学课程仓库：主要包括本科课程《计量经济学》course-econometrics;本科课程《统计学原理》course-statistics;研究生课程《中级计量经济学》master-SEM等。主要关联材料包括：课件Xaringan slide；补充材料html；pdf等。\n\r研究项目仓库：包括各类开源的研究类仓库，如agri-trade-open；team-students等。\n\r其他仓库\n\r\r2.1 Xaringan slide的正确操作\r使用Xaringan制作教学slide。需要注意到Xaringan制作的slide是不能独立封装的（self-contained），也即它需要依赖各种必要组件或资源。\n2.1.1 xaringan slide的典型文件结构\r课程仓库下xaringan slide制作的典型文件结构：\n levelName\r1 course-econometrics 2 |--data 3 |--pic 4 | |--chpt1-log.png 5 | °--chpt1-curve-points.png 6 |--01-class-instruction 7 |--02-lab-exercise 8 |--03-slide-class 9 | |--libs 10 | | |--crosstalk-1.1.1 11 | | |--htmlwidgets-1.5.3 12 | | | °--htmlwidgets.js 13 | | °--remark-latest.min.js 14 | |--01-introduction-slide_files 15 | | °--figure-html 16 | | |--unnamed-chunk-14-1.png\r17 | | °--unnamed-chunk-15-1.png\r18 | |--01-introduction-slide.html 19 | °--01-introduction-slide.Rmd 20 |--template 21 |--EViews 22 |--mycss 23 |--public 24 °--course-econometrics.Rproj \r\r2.1.2 Xaringan Rmd调用本地图片文件\r值得注意的是Xaringan Rmd使用本地图片文件（存放在pic/文件夹下），应该使用相对路径，而不是绝对路径（参看the full path approach doesn’t work）。也即意味着：\n\r不能使用绝对路径D:/github/course-econometrics/pic/chpt1-log.png\n\r同时也不能使用here::here(\"pic\",\"chpt1-log.png\")，因为它也会给出绝对路径\"D:/github/course-econometrics/pic/chpt1-log.png\"\n\r\r那么Rmd文件01-introduction-slide.Rmd对上述本地图片的函数化引用应该设为相对路径形式，如：\n\rmarkdown语法：![](\"../pic/chpt1-log.png\")\n\r或者knitr语法：include_graphics(\"../pic/chpt1-log.png\")\n\r\r总结起来，图片绝对路径和相对路径的差异比较如下：\n\r绝对路径直接无法渲染出图形\n\r相对路径可以渲染出图形，而且可以使用chrome浏览器开发工具看到html元素\n\r\r# html develop tool view\r\u0026lt;div class=\u0026quot;figure\u0026quot; style=\u0026quot;text-align: center\u0026quot;\u0026gt;\r\u0026lt;img src=\u0026quot;../pic/chpt1-log.png\u0026quot; alt=\u0026quot;一份样本数据\u0026quot; width=\u0026quot;693\u0026quot;\u0026gt;\r\u0026lt;p class=\u0026quot;caption\u0026quot;\u0026gt;一份样本数据\u0026lt;/p\u0026gt;\r\u0026lt;/div\u0026gt;\r\r2.1.3 Xaringan Rmd代码块生成的graph\rRmd使用代码块生成的图片这会自动存放在同名文件夹下的一个文件夹内。如01-introduction-slide.Rmd，则代码块chunk-14制图将存放在自动生成的文件夹01-introduction-slide_files/figure-html/unnamed-chunk-14-1.png。\n例如，R代码块14如下：\n# r code chunk 14\rggplot(data.frame(x = seq(from = -5, to=5,length =500 )), aes(x = x)) +\rstat_function(fun = dnorm, args = list(0,1),\raes(color = \u0026quot;mean=0, sd=1\u0026quot;)) +\rstat_function(fun = dnorm, args = list(0.5,2),\raes(color = \u0026quot;mean=0.5, sd=2\u0026quot;)) +\rscale_colour_manual(\u0026quot;期望和标准差\u0026quot;, values = c(\u0026quot;red\u0026quot;, \u0026quot;blue\u0026quot;))+\rscale_y_continuous(name = \u0026quot;概率值(probability)\u0026quot;) +\rtheme(legend.text = element_text(size=16), legend.title = element_text(size=16))\r可以使用chrome浏览器开发工具看到其对应的html元素：\n\u0026lt;!--- html develop tool view---\u0026gt;\r\u0026lt;div class=\u0026quot;figure\u0026quot; style=\u0026quot;text-align: center\u0026quot;\u0026gt;\r\u0026lt;img src=\u0026quot;01-introduction-slide_files/figure-html/unnamed-chunk-14-1.png\u0026quot; alt=\u0026quot;正态分布(n=500)\u0026quot;\u0026gt;\r\u0026lt;p class=\u0026quot;caption\u0026quot;\u0026gt;正态分布(n=500)\u0026lt;/p\u0026gt;\r\u0026lt;/div\u0026gt;\r\r\r\r\r3 若干netlify对接技巧\r3.1 netlify内部相互链接\r如果要直接在/content/course-econometrics下用Rmd文件生成.html，然后再别处来调用这个内部的html文件？\n1.基于主站的相对链接引用（已测试）。参看“队长”问答Linking to another post in blogdown\n\r设置基准地址，修改config.toml参数：\r\r# config.toml\rbaseurl = \u0026quot;https://yourdomain.netlify.app/\u0026quot;\r\r设定内部引用规则，修改config.toml参数：\r\r# config.toml\r[permalinks]\r# If only creating events which are talks, we can optimize event URLs for talks.\revent = \u0026quot;/talk/:slug/\u0026quot;\r# Workaround Hugo publishing taxonomy URLs as plurals - consistently use singular across Academic.\rtags = \u0026quot;/tag/:slug/\u0026quot;\rcategories = \u0026quot;/category/:slug/\u0026quot;\rpublication_types = \u0026quot;/publication-type/:slug/\u0026quot;\rpost = \u0026quot;/:year/:month/:day/:slug/\u0026quot;\r\r\rRmd内部链接1：对于hugo标准模块内容的链接。所谓hugo标准模块内容，一般包括hugo版本内置好的post、publication、tags等，可以通过上述config.toml的参数块[permalinks]看到其影子。因此，对于hugo标准模块内容的链接引用，都需要在这里指定链接的参数形式。值得说明的是：a.务必要按前述各个模块的链接地址规则进行url设定。b.不要画蛇添足/2020/10/05/hugo-big-update/index.en.html（哪怕文件夹下有这个html文件）；c.只要设定了refer ID（如{#your-section-refer}），就可以进行更进一步的链接。\r\r\r例如，以链接其他博文post为例，见之前的一篇博客文章谈到的“双服务器建站需求”。\n\r其背后具体代码如下：\n# note your can refer the section ID as your have set\r例如，以链接其他博文post为例，见之前的一篇博客文章谈到的[\u0026quot;双服务器建站需求\u0026quot;](/2020/10/05/hugo-big-update/#double-site)。\r当然，博文内部章节或任意内容的自我链接（需要事先设定为{#a-ref-id}）也是一种常见的引用方式。此时对同一篇博文post内部ref ID的引用，则可以直接采用[link-text](#a-ref-id)的形式。\n\r例如，请查看前面的content文件系统树形图。\n\r其背后代码为：\n# 需要事先设定好引用指针\r# you should specify the reference ID before link it\r例如，请查看前面的content文件系统[树形图](#dir-content)。\r\rRmd内部链接2：对于非hugo标准模块内容的链接。与上述对应，非hugo标准模块内容一般指用户根据hugo空白模板widget = \"blank\"设定的页面。主站的课程系列（包括course-econometrics、course-advanced-statistics等）的内容（各种课程的文件结构可以参看前面提及的content文件系统树形图）就是基于hugo空白模板widget = \"blank\"生成的。具体模板参数可以逐层追溯看到，例如先查看netlify/content/course-econometrics/_index.md的yaml参数区域，然后进一步追溯其继承至netlify/config/_default/menus.toml的toml参数区域，最后发现它的模板是netlify/content/home/teaching.mdymal参数区域指定的widget = \"blank\"。\r\r此时，如果要链接在外部拷贝的一个特定静态网页文件，其存放路径netlify/static/course-econometrics/reading/cht01-history.html（具体可参看前面提到的netlify static文件夹系统树形图）。此时路径指向应精准和明确。\n\r例如，请点击查看《计量经济学》课程扩展阅读资料计量经济学的前世今生。\n\r其背后的具体代码为：\n# 路径指向应精准和明确，包含了后缀.html\r# specify the file with full path\r例如，请点击查看《计量经济学》课程扩展阅读资料[计量经济学的前世今生](/course-econometrics/reading/cht01-history.html)。\r\r2.利用hugo的shortcode特性（未测试）。参看yihui提到的Shortcode方法。正文行内引用方式：\n[第一章](r blogdown::shortcodex(\u0026quot;relref\u0026quot;, \u0026quot;chapter01-introduction.html\u0026quot;))\r需要注意的是不能直接引用chapter01-introduction.Rmd；但是可以直接引用chapter01-introduction.md或者chapter01-introduction.html。此外还要注意引用路径是相对的。例如：\n[博客文章提到](r blogdown::shortcodex(\u0026quot;relref\u0026quot;, \u0026quot;../post/2019-02-24-xaringan-for-course-slide.html\u0026quot;))\r\r\r3.2 netlify指定Rmd输出格式\r用.Rmd生成的文档能不能有其他的输出格式呢？还能做些别的么？\n# add this in yaml area\routput:\rblogdown::html_page:\rtoc: true\rnumber_sections: true\r\r\r4 对接失败与报错\r4.1 include_url()服务器拒绝访问\r报错内容：使用knitr::include_url()函数后，hugo或blogdown渲染网站，都无法显示对本地静态（\"static/course/slide.html\"）文件Xaringan slide。\n具体报错内容如下\n\r本地预览下，include_url('/path/to/file.html')则显示报错localhost 拒绝了我们的连接请求。。markdown语法[](/path/to/file.html)则只显示为纯文本。\n\rnetlify built在线建站后，include_url('/path/to/file.html')则显示服务器.netlify.app 拒绝了我们的连接请求。。但是markdown语法[](/path/to/file.html)则显示正常。\n\rchrome开发工具显示：\u0026lt;div id=\"main-frame-error class=\"interstitial-wrapper\" \u0026lt;/div\u0026gt;。\n\r\r1.use markdown syntax（link Ok）。课件（Xaringan slide）第01章-绪论.html 。\n[第01章-绪论.html](/course-statistics/03-slide-class/03-visualization.html)\r2.try local graphic（graph OK）。\nknitr::include_graphics(\u0026quot;/pic/facet-multiple-geom.png\u0026quot;, error = FALSE)\r3.test the include_url() （error）：\n# out.extra=\u0026#39;style=\u0026quot;border: none;\u0026quot;\u0026#39;, out.width=\u0026#39;80%\u0026#39;\rknitr::include_url(\u0026quot;/course-statistics/03-slide-class/03-visualization.html\u0026quot;)\r\r4.try iframe html tag（error）:\n\u0026lt;iframe seamless src=\u0026quot;/course-statistics/03-slide-class/03-visualization.html\u0026quot; width=\u0026quot;100%\u0026quot; height=\u0026quot;500\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\r\r5.test xaringanExtra::embed_xaringan()（error）:\nxaringanExtra::embed_xaringan(\rurl = \u0026quot;/course-statistics/03-slide-class/03-visualization.html\u0026quot;,\rratio = \u0026quot;16:9\u0026quot;\r)\r\rfitvids('.shareagain', {players: 'iframe'});\r\r排除可能的问题：\n\rwin10 系统防火墙设置\n\rchrome隐私设置\n\rknitr::include_url()函数是否正确，包括chunk option设定。\n\rurl地址是否正确。外部绝对url地址显示正确。本地相对地址则报错。但使用knitr::include_graphic()加载本地图片则能正确显示图片。排除url地址误写。\n\r使用iframe tag方法，仍旧报错。\n\r使用xaringanExtra::embed_xaringan()，仍旧报错。\n\r\r怀疑的可能原因：\n\r根据hugo团队的观点，它们会原生支持rveal.js，但不是remark.js。（见队长讨论）\n\rwin10操作系统静默升级，改变了hugo的链接访问权限？？\n\rNetlify的建站规则发生了变化？\n\rknitr包的bug（iframe id失效）？\n\r\r\r\r","date":1612051200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612063486,"objectID":"5cc114238a03c185d1d291b81e533048","permalink":"https://huhuaping.netlify.app/2021/01/31/file-structure-witin-blog/","publishdate":"2021-01-31T00:00:00Z","relpermalink":"/2021/01/31/file-structure-witin-blog/","section":"post","summary":"1 netlify文件夹体系\r\r1.1 netlify content文件系统\r1.2 netlify static文件夹系统\r1.3 netlify public文件系统\r\r2 netlify相关联的Github仓库\r\r2.1 Xaringan slide的正确操作\r\r2.1.1 xaringan slide的典型文件结构\r2.1.2 Xaringan Rmd调用本地图片文件\r2.","tags":["Blogdown"],"title":"Netlify建站：主站与静态static资料的正确衔接","type":"post"},{"authors":[],"categories":["R"],"content":"\r\r\rAPACHA人机验证的类型\r视觉识别OCR技术\r\r传统的tesseract识别包\rgoogle vision 云平台API\r\r\r\rAPACHA人机验证的类型\rAPACHA是一种人机验证机制，对于网络爬虫而言，大家更熟悉的是网站采用APACHA机制来设置“防爬虫”门槛，也即各类验证码、滑块验证。这种验证机制比较成熟和严谨，应用场景十分广泛。如何有效识别和破解成为现实一大难题。\n\r视觉识别OCR技术\r实际上视觉识别已经发展到多个领域，包括图片标记、面孔和地标检测、光学字符识别 (OCR)等。\n传统的tesseract识别包\rtesseract包专门用于从图片中提取文本github repo。\n\r优点：独立算法，简单快速，本地即可运行，无需联网。\n\r缺点：算法比较老旧，识别准确率不太高。\n\r\r具体代码示例如下：\n#install.packages(\u0026quot;tesseract\u0026quot;)\rlibrary(\u0026quot;tesseract\u0026quot;)\rdir_gray \u0026lt;- here::here(\u0026quot;pic\u0026quot;, \u0026quot;zhuyun\u0026quot;, \u0026quot;valid-img-gray.png\u0026quot;)\reng \u0026lt;- tesseract(\u0026quot;eng\u0026quot;)\rtxt \u0026lt;- tesseract::ocr(image = dir_gray, engine = eng) %\u0026gt;% str_extract(\u0026quot;\\\\d{4}\u0026quot;)\r\rgoogle vision 云平台API\rgoogle cloud platform 提供了Vision API，可以完成各类视觉识别任务。\n\r优点：识别技术强大，识别准确率高。\n\r缺点：（国内）需要网络和网速支持。另外就是有使用量的限制，需要支付结算进行扩容使用量。\n\r\rR用户的具体实现：\n1.申请google vision API接入授权。具体：\n\r登陆google开发者控制台（Google’s developer console）进行申请和授权。\n\r创建project，并申请开通Vision的API服务。\n\r设置OAuth 2.0客户端和OAuth同意屏幕。\n\r\r2.下载安装RoogleVision包（github repo）。\n具体代码示例如下：\n#install.packages(\u0026quot;RoogleVision\u0026quot;, repos = c(getOption(\u0026quot;repos\u0026quot;), \u0026quot;http://cloudyr.github.io/drat\u0026quot;))\rif (!require(\u0026quot;devtools\u0026quot;)) {\rinstall.packages(\u0026quot;ghit\u0026quot;)\r}\rdevtools::install_github(\u0026quot;cloudyr/RoogleVision\u0026quot;)\rlibrary(\u0026quot;RoogleVision\u0026quot;)\r### plugin your credentials\roptions(\u0026quot;googleAuthR.client_id\u0026quot; = keyring::key_get(\u0026quot;id\u0026quot;, keyring = \u0026quot;gg-vision2\u0026quot;))\roptions(\u0026quot;googleAuthR.client_secret\u0026quot; = keyring::key_get(\u0026quot;secret\u0026quot;, keyring = \u0026quot;gg-vision2\u0026quot;))\r## use the fantastic Google Auth R package\r### define scope!\roptions(\u0026quot;googleAuthR.scopes.selected\u0026quot; = c(\u0026quot;https://www.googleapis.com/auth/cloud-platform\u0026quot;))\rgoogleAuthR::gar_auth()\r#Basic: you can provide both, local as well as online images:\rtxt \u0026lt;- getGoogleVisionResponse(imagePath=\u0026quot;pic/zhuyun/valid-img-gray.png\u0026quot;, feature=\u0026quot;TEXT_DETECTION\u0026quot;,numResults = 1)\r\r\r","date":1607126400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1607157046,"objectID":"3d327c43f1757dc6278aa0233a124a98","permalink":"https://huhuaping.netlify.app/2020/12/05/web-scraping-tech-vision-volidation/","publishdate":"2020-12-05T00:00:00Z","relpermalink":"/2020/12/05/web-scraping-tech-vision-volidation/","section":"post","summary":"APACHA人机验证的类型\r视觉识别OCR技术\r\r传统的tesseract识别包\rgoogle vision 云平台API\r\r\r\rAPACHA人机验证的类型\rAPACHA是一种人机验证机制，对于网络爬虫而言，大家更熟悉的是网站采用APACHA机制来设置“防爬虫”门槛，也即各类验证码、滑块验证。这种验证机制比较成熟和严谨，应用场景十分广泛。如何有效识别和破解成为现实一大难题。\n\r视觉识别OCR技术\r实际上视觉识别已经发展到多个领域，包括图片标记、面孔和地标检测、光学字符识别 (OCR)等。\n传统的tesseract识别包\rtesseract包专门用于从图片中提取文本github repo。\n\r优点：独立算法，简单快速，本地即可运行，无需联网。\n\r缺点：算法比较老旧，识别准确率不太高。\n\r\r具体代码示例如下：\n#install.packages(\u0026quot;tesseract\u0026quot;)\rlibrary(\u0026quot;tesseract\u0026quot;)\rdir_gray \u0026lt;- here::here(\u0026quot;pic\u0026quot;, \u0026quot;zhuyun\u0026quot;, \u0026quot;valid-img-gray.","tags":["webscrape"],"title":"自动化数据抓取技术(V)：APACHA人机验证机制","type":"post"},{"authors":[],"categories":["R"],"content":"\r\r\r学习教程和文档\r常见问题场景\r\r任意中文字符\r指定出现次数\r\r杂谈\r\r中文半破折号\r\r\r\r学习教程和文档\rRegex Cheat Sheet。参看rexegg.com网站教程](https://www.rexegg.com/regex-quickstart.html#lookarounds)\nregular-expressions.info。参看网站教程\n\r常见问题场景\r任意中文字符\r具体请参看\nv=c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;,\u0026quot;中\u0026quot;,\u0026quot;e\u0026quot;,\u0026quot;文\u0026quot;)\rgrep(\u0026quot;[\\\\p{Han}]\u0026quot;, v, value = T, perl = T)\r## [1] \u0026quot;中\u0026quot; \u0026quot;文\u0026quot;\r\r指定出现次数\r具体请参看参看\n\r?, ?? : 0 or 1 occurrences (?? is lazy, ? is greedy)\n\r*, *? : any number of occurrences\n\r+, +? : at least one occurrence\n\r{n} : exactly n occurrences\n\r{n,m} : n to m occurrences, inclusive\n\r{n,m}? : n to m occurences, lazy\n\r{n,}, {n,}? : at least n occurrence\n\r\r例子：\nTo get “exactly N or M”, you need to write the quantified regex twice, unless m,n are special:\nX{n,m} if m = n+1\r(?:X{n}){1,2} if m = 2n\r\r\r\r杂谈\r中文半破折号\r通过regex查找替换\n(\\d{4})-(\\d{4}) 替换为 \\1—\\2\r\r\r","date":1607040000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1607071682,"objectID":"d1379139291ea5a57f986bf4703f2829","permalink":"https://huhuaping.netlify.app/2020/12/04/web-scraping-tech-regex/","publishdate":"2020-12-04T00:00:00Z","relpermalink":"/2020/12/04/web-scraping-tech-regex/","section":"post","summary":"学习教程和文档\r常见问题场景\r\r任意中文字符\r指定出现次数\r\r杂谈\r\r中文半破折号\r\r\r\r学习教程和文档\rRegex Cheat Sheet。参看rexegg.com网站教程](https://www.rexegg.com/regex-quickstart.html#lookarounds)\nregular-expressions.info。参看网站教程\n\r常见问题场景\r任意中文字符\r具体请参看\nv=c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;,\u0026quot;中\u0026quot;,\u0026quot;e\u0026quot;,\u0026quot;文\u0026quot;)\rgrep(\u0026quot;[\\\\p{Han}]\u0026quot;, v, value = T, perl = T)\r## [1] \u0026quot;中\u0026quot; \u0026quot;文\u0026quot;\r\r指定出现次数\r具体请参看参看","tags":["Website"],"title":"自动化数据抓取技术(IV)：正则表达Regex","type":"post"},{"authors":[],"categories":["R"],"content":"\r\r\r常见问题场景及处理方法\r\r中文乱码问题\rnodes节点选择\r利用chrome浏览器查看json数据\r\r\r\r常见问题场景及处理方法\r中文乱码问题\r中文乱码问题再次出现，见各种乱码问题。编码问题详解可以参看What Every Programmer Absolutely, Positively Needs To Know About Encodings And Character Sets To Work With Text。\n1.快捷办法，直接抓取网页表格，无论如何都显示乱码。只能放弃。\n# look for table element\rtableElem \u0026lt;- remDr$findElement(using = \u0026quot;id\u0026quot;, \u0026quot;courseTable\u0026quot;)\rtxt \u0026lt;- tableElem$getElementAttribute(\u0026quot;outerHTML\u0026quot;)[[1]]\rtable \u0026lt;- XML::readHTMLTable(txt, header=F, as.data.frame=TRUE)[[1]]\r暴力抓取网页元素总，虽然颇为费劲，但总是可行。\r\r# scrape the date and room v_date \u0026lt;- txt %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;tbody\u0026quot;) %\u0026gt;% xml_nodes(\u0026quot;td:nth-child(2)\u0026quot;) %\u0026gt;% xml_text()\rv_room \u0026lt;- txt %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;tbody\u0026quot;) %\u0026gt;% xml_nodes(\u0026quot;td:nth-child(4)\u0026quot;) %\u0026gt;% xml_text()\r# tidy data.frame\rinfo \u0026lt;- data.frame(date=v_date, room =v_room) %\u0026gt;%\rseparate(col = \u0026quot;date\u0026quot; , into = c(\u0026quot;date\u0026quot;,\u0026quot;week\u0026quot;, \u0026quot;weekday\u0026quot;, \u0026quot;slot\u0026quot;), sep = \u0026quot; \u0026quot;)\r\rnodes节点选择\r如何选择和提取网页多个节点tr下第n个元素td下的文本text。参看网络解答\n txt %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;tbody\u0026quot;) %\u0026gt;% xml_nodes(\u0026quot;td:nth-child(2)\u0026quot;) %\u0026gt;% xml_text()\r\r利用chrome浏览器查看json数据\r具体参看资料\nUsing Chrome: Right-click \u0026gt; Inspect; navigate to Network tab \u0026gt; type in .json \u0026gt; Search \u0026gt; Refresh Site (to catch calls made prior) \r\r\r","date":1606953600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606980646,"objectID":"988cbe132230d15e666714d20b6cdd2c","permalink":"https://huhuaping.netlify.app/2020/12/03/web-scraping-tech-webelem/","publishdate":"2020-12-03T00:00:00Z","relpermalink":"/2020/12/03/web-scraping-tech-webelem/","section":"post","summary":"常见问题场景及处理方法\r\r中文乱码问题\rnodes节点选择\r利用chrome浏览器查看json数据\r\r\r\r常见问题场景及处理方法\r中文乱码问题\r中文乱码问题再次出现，见各种乱码问题。编码问题详解可以参看What Every Programmer Absolutely, Positively Needs To Know About Encodings And Character Sets To Work With Text。","tags":["webscrape"],"title":"自动化数据抓取技术(III)：网页元素处理","type":"post"},{"authors":[],"categories":["R"],"content":"\r\r\r学习材料\r经常碰到的爬虫场景和处理方法\r\r正确关闭Rselenium server\r在浏览器窗口之间进行自由切换\r鼠标相关操作\r选择不可见的勾选框\r日历和下拉菜单操作\r悬置鼠标唤出下级菜单\r\r\r\r学习材料\rRSelenium包在CRAN的官方文档\n常用的操作，可以参考中文教程。\n\r经常碰到的爬虫场景和处理方法\r下面列出一些常碰到的爬虫场景和处理办法。\n正确关闭Rselenium server\rremDr$closeServer()\rremDr$close()\rrm(remDr)\rrm(driver)\rgc()\r\r在浏览器窗口之间进行自由切换\r具体见github issue社区互动 参考\nmyswitch \u0026lt;- function (remDr, windowId) {\rqpath \u0026lt;- sprintf(\u0026quot;%s/session/%s/window\u0026quot;, remDr$serverURL, remDr$sessionInfo[[\u0026quot;id\u0026quot;]])\rremDr$queryRD(qpath, \u0026quot;POST\u0026quot;, qdata = list(handle = windowId))\r}\rSys.sleep(1)\rwindows_handles \u0026lt;- remDr$getWindowHandles()\rSys.sleep(1)\r#remDr$switchToWindow(windows_handles[[2]])\rmyswitch(remDr = remDr, windowId = windows_handles[[2]])\r\r鼠标相关操作\r移动鼠标到指定位置 并点击\r\rxpath_submit \u0026lt;- \u0026quot;//*[@id=\u0026#39;loginform-1\u0026#39;]/div[4]/input\u0026quot;\rwebelm \u0026lt;- remDr$findElement(using = \u0026quot;xpath\u0026quot;, value = xpath_submit)\rloc \u0026lt;- remDr$mouseMoveToLocation(webElement = webelm)\rremDr$click(1)\r\r选择不可见的勾选框\r\r参考网络问答\n\r对于一些网站，有时候存在肉眼不可见的网页元素。具体图示如下：\n\rFigure 1: 一个示例\r\r这时，我们需要使用remDr$executeScript()函数来执行java操作。\nwebelem \u0026lt;- remDr$findElement(using = \u0026quot;xpath\u0026quot;, \u0026quot;//*[@id=\u0026#39;ztcountryCode_273_check\u0026#39;]\u0026quot;)\rremDr$executeScript(\u0026quot;arguments[0].click()\u0026quot;, args = list(webelem))\r\r日历和下拉菜单操作\r一个比较全的示例。\n\r悬置鼠标唤出下级菜单\r见示例。\n\r\r","date":1606867200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606893618,"objectID":"cd6af8bc96e35e26a47b3e1af9de0ea0","permalink":"https://huhuaping.netlify.app/2020/12/02/web-scraping-tech-rselenium/","publishdate":"2020-12-02T00:00:00Z","relpermalink":"/2020/12/02/web-scraping-tech-rselenium/","section":"post","summary":"学习材料\r经常碰到的爬虫场景和处理方法\r\r正确关闭Rselenium server\r在浏览器窗口之间进行自由切换\r鼠标相关操作\r选择不可见的勾选框\r日历和下拉菜单操作\r悬置鼠标唤出下级菜单\r\r\r\r学习材料\rRSelenium包在CRAN的官方文档\n常用的操作，可以参考中文教程。\n\r经常碰到的爬虫场景和处理方法\r下面列出一些常碰到的爬虫场景和处理办法。\n正确关闭Rselenium server\rremDr$closeServer()\rremDr$close()\rrm(remDr)\rrm(driver)\rgc()\r\r在浏览器窗口之间进行自由切换\r具体见github issue社区互动 参考","tags":["webscrape"],"title":"自动化数据抓取技术(II)： RSelenium","type":"post"},{"authors":[],"categories":["R"],"content":"\r\r\r环境和安装\r一些必要设置\rdocker设置\rTightVNC配置\r\rdocker常用操作\r\r\r环境和安装\r1.下载安装docker desk官网\nwin10用户需要注意一个操作系统的坑。\n\rWin10的专业版用户(professional version)，可以直接安装docker desk。但是也需要需要启用hyper-V 虚拟服务。可以ctrl+shift+delete查看cpu性能，能看到是否已经启用。具体启用办法：进bios –\u0026gt; system security，记得按F10确认启用。（ps. 2020版win10开始有了性的服务支持，主要是liniux模块的加入，可以进一步提升docker的运行性能。）\n\rWin10家庭版用户(home version)不支持docker desk，只能使用安装Install Docker Toolbox官网下载\n\r\r2.下载安装TightVNC用于查看实时交互。\n下载安装TightVNC用于查看实时交互。官网。一份说明供学习：Debugging Using VNC\n3.Rstudio安装RSelenium包。\n\r一些必要设置\rdocker设置\r1.注册docker hub账号。（此步骤可忽略）。\n2.配置国内镜像站点。速度明显改观！docker desk软件里设置修改：\n\u0026quot;RegistryMirror\u0026quot;: [\r\u0026quot;https://hub-mirror.c.163.com\u0026quot;,\r\u0026quot;https://mirror.baidubce.com\u0026quot;\r]\r如果是Docker toolbox则需要修改配置文件C:\\Users\\\u0026lt;user\u0026gt;\\.docker\\machine\\machines\\default\\config.json\n\rTightVNC配置\r参看资料1，或Youtube视频资料2 。\n第一步，docker命令行，拉取chrome。\n$ docker run --name chrome -v /dev/shm:/dev/shm -d -p 4445:4444 -p 5901:5900 selenium/standalone-chrome-debug:latest\r以上命令主要内容是，创建chrome实例，并分别打开两类端口。其中第一类端口4445:4444是分配给chrome通信；第二类端口5901:5900是分配给下面的TightVNC通信。\n第二步，配置TightVNC Viewer【注意：不是server】。\n端口：127.0.0.1:5901 【option 里面要设置port为5901】\r密码：secret\r\r\rdocker常用操作\r1.docker命令拉取selenium -chrome镜像。\n标准模式：\n$ docker run -d -p 4445:4444 selenium/standalone-chrome\r\r诊断模式：\n$ docker run -d -p 4445:4444 selenium/standalone-chrome-debug\r$ docker run -d -p 5901:5900 -p 192.168.31.135:4445:4444 --link http-server selenium/standalone-chrome-debug\r\r2.docker常见操作参看资料\n3.Docker与jave version的匹配\n查看java 版本。参考。\n$ docker exec 【containerId】 java -version\r\rDocker 设置jave_home环境变量。参考\n$ docker ENV JAVA_HOME /path/to/java\r\r\r","date":1606694400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606721239,"objectID":"6400f647a12ac2abe209d868eaac551b","permalink":"https://huhuaping.netlify.app/2020/11/30/web-scraping-tech-basic/","publishdate":"2020-11-30T00:00:00Z","relpermalink":"/2020/11/30/web-scraping-tech-basic/","section":"post","summary":"环境和安装\r一些必要设置\rdocker设置\rTightVNC配置\r\rdocker常用操作\r\r\r环境和安装\r1.下载安装docker desk官网\nwin10用户需要注意一个操作系统的坑。\n\rWin10的专业版用户(professional version)，可以直接安装docker desk。但是也需要需要启用hyper-V 虚拟服务。可以ctrl+shift+delete查看cpu性能，能看到是否已经启用。具体启用办法：进bios –\u0026gt; system security，记得按F10确认启用。（ps. 2020版win10开始有了性的服务支持，主要是liniux模块的加入，可以进一步提升docker的运行性能。）\n\rWin10家庭版用户(home version)不支持docker desk，只能使用安装Install Docker Toolbox官网下载","tags":["webscrape"],"title":"自动化数据抓取技术(I)：基础准备","type":"post"},{"authors":[],"categories":["R"],"content":"\r\rR提醒程序執行完成\rR提醒程序執行完成 参看\n一是beepr這個package，執行後電腦會發出聲音提醒你程式已經跑完。\nlibrary(beepr)\rbeep(sound=8)\rYou just have to wrap it into a function like this:\noptions(error = function() {beep(9)})\r最终方案：\nbeep_on_error(expr, sound = 1)\r\rblogdown 的文件位置和关系\r具体参看 Adding and reading local data files in R Markdown posts\n\r","date":1606694400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606727148,"objectID":"f30ff37612ba086bec2fdef8e1b52997","permalink":"https://huhuaping.netlify.app/2020/11/30/issue-collection-tem/","publishdate":"2020-11-30T00:00:00Z","relpermalink":"/2020/11/30/issue-collection-tem/","section":"post","summary":"R提醒程序執行完成\rR提醒程序執行完成 参看\n一是beepr這個package，執行後電腦會發出聲音提醒你程式已經跑完。\nlibrary(beepr)\rbeep(sound=8)\rYou just have to wrap it into a function like this:\noptions(error = function() {beep(9)})\r最终方案：\nbeep_on_error(expr, sound = 1)\r\rblogdown 的文件位置和关系\r具体参看 Adding and reading local data files in R Markdown posts","tags":["R language"],"title":"问题集和方法荟萃","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 Xaringan底层逻辑\r\r1.1 Xaringan的渲染方式\r1.2 共用文件夹的情形\r1.3 测试和发现\r\r2 Xaringan效率方法\r\r2.1 减少系统复杂性\r2.2 提高代码复用性\r2.3 修改预览实时化\r2.4 选用一个好模板\r2.5 定制个性化模板\r2.6 结论\r\r\r\r1 Xaringan底层逻辑\r1.1 Xaringan的渲染方式\rXaringan slide的渲染方式主要有两类\n静态渲染方式：Rstudio菜单knit\n\r实时渲染有两种方式（live preview）\n\rRstudio里插件 “Infinite Moon Reader”\rconsole里调用xaringan::xaringan::inf_mr()\r\r\r\r1.2 共用文件夹的情形\rmycss：假定课程里全部slide都使用同样的css风格。\npic：假定课程slide里的本地图片都放在pic文件夹下。\n若干可能的文件体系结构及面临的主要问题\n体系1“全部一起堆放”：随着Rmd文件数的增加，一级目录下会有很多文件！chn-chpt01.Rmd; chn-chpt02.Rmd；……；eng-chpt01.Rmd; eng-chpt02.Rmd；……\n\r体系2“分模块堆放”：比较合理。但是在实时渲染时，将面临如何管理css和pic等问题。子文件夹1：Slide-chn：chn-chpt01.Rmd; chn-chpt02.Rmd；……;子文件夹2：Slide-eng：eng-chpt01.Rmd; eng-chpt02.Rmd；……\n\r\r\r1.3 测试和发现\r测试：比较合理的体系2“分模块对方”下，进行实时渲染\ncss问题：xaringan包已经解决此问题。只要确保css文件和Rmd文件在同一个work directory下即可。\npic问题：假定pic文件夹与模块文件夹(slide-chn; slide-eng)并列\n\r静态渲染方式下，图片引用可以使用“相对路径”(\"../pic/a.png\")或“绝对路径”（here::here(\"pic\", \"a.png\")）引用的任何一种来实现正常显示。\n\r实时渲染方式下，图片引用只能使用“相对路径”(“../pic/a.png”)来实现正常显示。\n\r\r\r\r2 Xaringan效率方法\r2.1 减少系统复杂性\rYongfu的博客文章Tips to Reduce the Complexity of Slide Making with Xaringan，比较详细地介绍了如何减少xaringan制作复杂性的一些方法。\n\r使用子文档（child document）架构（see rmarkdown cookbook: 16.4 Child documents）。\r\r\r2.2 提高代码复用性\r\r引用代码块。前后slide如果要多次（2次及以上）用到同样的代码块，则可以使用代码块标签索引（see rmarkdown cookbook: reference labels）。具体有两种操作情形：\n\r简单重复引用代码块。先定义label，然后直接使用相同标签的代码块头即可。\r组合引用多个代码块。先定义label，然后设定ref.label=参数进行引用即可。\r\r\r# 简单重复引用代码块\r`` `{r, chunk-one, eval=TRUE} # def\rsome long content balabala `` `{r, chunk-one, eval=TRUE} # use\r\r\n# 组合引用多个代码块\r`` `{r chunk-a} # def1\rsome long content balabala `` `{r chunk-b} # def2\rsome long content balabala `` `{r chunk-a, ref.label=c(\u0026#39;chunk-c\u0026#39;, \u0026#39;chunk-b\u0026#39;)} # use\r\r\r2.3 修改预览实时化\r\r赶紧去看Yihui的blog，The Ultimate Infinite Moon Reader for xaringan Slides。赶快安装更新包：\r\rremotes::install_github(\u0026#39;yihui/xaringan\u0026#39;, upgrade = TRUE)\r\r\r而且是Windows用户的又一个福音啊。前面刚说Rstudio里不能Viewer预览，但是更新Xaringan包后发现Chrome浏览器竟然可以“实时”同步预览了！yoo！\r\r定制自己的字体大小：\n\r在Rmd文档里添加代码：(参看Customize font size for all the slides in xaringan)\r\r\u0026lt;style type=\u0026quot;text/css\u0026quot;\u0026gt;\r.remark-slide-content {\rfont-size: 30px;\rpadding: 1em 4em 1em 4em;\r}\r\u0026lt;/style\u0026gt;\r\r\r2.4 选用一个好模板\r\r比如我使用的杜克大学模板：Slide Template for Duke University。\n\r初学者最好先不要删除模板的内容，里面的示例说明可以很好地参考。\n\r\r\r2.5 定制个性化模板\r\r关于动画设置。并不是ppt的专利。可以实现的，请参看Animate Xaringan Slide Transitions。\n\r关于定制样式。世界另一头，总有一个大牛，已经做好了包供你使用，具体请看xaringanthemer。\n\r\r\r2.6 结论\rxaringan实时渲染方式，会调用servr package来搭建本地网页服务[参看官方文档] (https://bookdown.org/yihui/rmarkdown/xaringan-preview.html)\n因此实时渲染下：本地服务会寻找一个根目录（root directory），从而会引发上述的图片渲染问题。libs文件夹总是会和.Rmd文件并列\n总之，使用相对路径引用图片是比较保险的方式。具体的地方包括\n\rremark.js背景图：background-image: url(\"../pic/a.png\")\n\rR函数正文图：include_graphics(\"../pic/a.png\")\n\rmarkdown行内图：![](\"../pic/a.png\")\n\r\r其次，css的yaml设置\ncss: - default\r- default-fonts\r- duke-blue\r- hygge-duke\r- ../mycss/my-custom.css\r\r\r","date":1606521600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606535458,"objectID":"cd80d1286616b1746a40b86532ad8b42","permalink":"https://huhuaping.netlify.app/2020/11/28/xaringan-slide-efficiency/","publishdate":"2020-11-28T00:00:00Z","relpermalink":"/2020/11/28/xaringan-slide-efficiency/","section":"post","summary":"一般而言，保持project下的文件夹结构稳定和简洁，能够大大避免工作的低效率性。Xaringan包用于制作多个系列slide幻灯片，也会难免带来文件数量和类型的逐渐增加和膨胀。那么在Xaringan框架下，如何管理和组织文件夹结构，以提升工作效率和代码稳定性？","tags":["Xaringan"],"title":"Xaringan效率：底层与简洁","type":"post"},{"authors":[],"categories":["Research"],"content":"\r\rRmarkdown写作环境下，Zotero + rbbt的方式，基本上实现了比较满意的文献管理和引用流程。Zotero具有免费和相对开放性。Zotero对bibTeX和中文情景比较友好。此外，R包rbbt函数实现了对Zotero的实时联系，引用流程更加自动化。使用者需要正确理解Rmd渲染输出、.bib文件状态和Zotero条目库的关系。\n\rzotero环境准备\r安装zotero和扩展插件zotero-better-bibtex。\r安装文献管理软件zotero和浏览器插件 。官网\n\r软件本体Zotero 5.0 for Windows 下载。\n\r浏览器插件Zotero Connector chrome 浏览器插件下载。\n\r安装Zotero扩展插件zotero-better-bibtex 开发者网站。zotero-better-bibtex-5.2.78.xpi 下载安装。\n\r\r\r设定Citekey的形式（默认形式太冗长）。\r具体修改方法：\n\r设定citekey形式：打开Zotero\\(\\Rightarrow\\) 编辑\\(\\Rightarrow\\) 首选项\\(\\Rightarrow\\) Better Bibtex（插件菜单\\(\\Rightarrow\\) Citation keys。\n\r更新citekey值：Zotero\\(\\Rightarrow\\) 选中文献条目\\(\\Rightarrow\\)鼠标右键 \\(\\Rightarrow\\) Better Bibtex\\(\\Rightarrow\\) refresh Bibtex key。\n\r\r\r\rR环境准备\rzotero导出.bib文件\r\r选定需要的Zotero的文献组(group)，直接导出为.bib文件\n\r将.bib文件保存在写作文件.Rmd路径中\n\r写作文件.Rmd的yaml区域指明对.bib的关联关系\n\r\rbibliography: - bib-west.bib\r- west-agri.bib\r\r写作文件.Rmd的yaml区域设定文献列出样式（csl style）及关联关系\r\rbiblio-style: \u0026quot;nnsfc.csl\u0026quot;\rcsl: \u0026quot;nnsfc.csl\u0026quot;\r\r安装rbbt包，并进行文献搜索和引用\r# remotes::install_github(\u0026quot;paleolimbot/rbbt\u0026quot;)\r#require(\u0026quot;rbbt\u0026quot;)\rR包rbbt的主要作用见github：\n\r与Zotero文献库直接关联，方便引用。\n\r与.Rmd文件头yaml区域指定的.bib文件关联，实现“参考文献”列出。\n\r\r主要过程：\n\r安装rbbt包。\r\r# remotes::install_github(\u0026quot;paleolimbot/rbbt\u0026quot;)\rrequire(\u0026quot;rbbt\u0026quot;)\r\rRstudio\\(\\Rightarrow\\) 点击Addins\\(\\Rightarrow\\) Insert Zotero Citation。\r\r\r\r总结及注意事项\rRmarkdown写作环境下，Zotero + rbbt的方式，基本上实现了比较满意的文献管理和引用流程，优点如下：\n\rZotero的免费和相对开放性。免费+插件扩展。对很多网站的文章citation能够快速识别并导入到Zotero库里去，而且还能自动下载关联pdf！\n\rZotero对bibTeX的友好性。因为Rmarkdown对bibTeX的要求，而Zotero的相关操作极为便捷简单。此外，Zotero对中文文献情景也比较友好。\n\rR包rbbt函数实现了对Zotero的实时联系，引用流程更加自动化。\n\r\r重要提示：\n正确理解Rmd渲染输出、.bib文件状态和Zotero条目库的关系。简单说：a) Rmd的输出最终只会引用.bib文件里的文献条目。b)R引用包（rbbt）与Zotero可以实时联系（通过zotero-better-bibtex扩展插件），但是这并不意味着Rmd渲染输出也是与Zotero实时联系的。c).因此，在写作草稿阶段，可以暂时不用关心.bib，只需要保持与Zotero实时联系即可（完成实时搜索和插入条目）。但是在最后完稿之前，务必需要及时更新调整.bib文件（从Zotero 中导出文献为.bib文件，替换更新原来的.bib旧文件即可）。\n\rZotero中Citekey的设置是一个关键步骤，我们需要做出合理的权衡。这是因为一方面@nameYear的引用便捷性，要求每条文献的citekey必须要简单易用；但是另一方面，Zotero往往会管理海量的文献条目，从而又要求文献的citekey不能重复——不然就没办法精确引用文献了。不过Zotero考虑并提供了选择，可以用动态key（dynamic key），也可以用锁定key（pined key）。\n\r因为文献条目中可能包含了abstract等长文本域，为了避免Zotero导出.bib后，R包citr识别报错的问题。最好把Zotero 软件的Better Bibtex（插件菜单）做出如下导出设定。\n\r设定导出规则：打开Zotero\\(\\Rightarrow\\) 编辑\\(\\Rightarrow\\) 首选项\\(\\Rightarrow\\) Better Bibtex（插件菜单）\\(\\Rightarrow\\) Export\\(\\Rightarrow\\) Fields\\(\\Rightarrow\\) Fields to omit frome export\\(\\Rightarrow\\) 输入abstract等（逗号分隔）\r\r\r\r","date":1602201600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1602215538,"objectID":"49e87dad3b03edb6aa7a73c8ca8cdcb1","permalink":"https://huhuaping.netlify.app/2020/10/09/rmarkdown-zotero-rbbt/","publishdate":"2020-10-09T00:00:00Z","relpermalink":"/2020/10/09/rmarkdown-zotero-rbbt/","section":"post","summary":"Rmarkdown写作环境下，Zotero + rbbt的方式，基本上实现了比较满意的文献管理和引用流程。Zotero具有免费和相对开放性。Zotero对bibTeX和中文情景比较友好。此外，R包rbbt函数实现了对Zotero的实时联系，引用流程更加自动化。使用者需要正确理解Rmd渲染输出、.bib文件状态和Zotero条目库的关系。","tags":["bibTeX","Zotero","rbbt"],"title":"使用Zotero实现文献引用的自动化Rmarkdown写作","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 hugo的大变革\r2 本地开发预览：一条思路填平若干个坑\r3 云端开发预览：netlify的断点\r4 后续故事\r\r4.1 双服务器建站需求\r4.2 更新hugo extend\r4.3 获得public/文件夹\r4.4 升级的副效应\r\r4.4.1 RStudio插件(addins)New post的正确使用\r4.4.2 knitr::include_graphics函数调用图片可能会报错\r4.4.3 netlify开发报错的验证与修复\r\r4.5 一次意外报错\r\r5 blogdown的升级支持\r6 hugo模板微调\r\r6.1 基本原理\r6.2 给post博文添加floating toc\r\r\r\r\r对于搭建个人网站，曾经有一句经典的忠告摆在我的面前：\r永远不要使用复杂的模板，否则总有一天会掉入网站迁移漩涡，甚至万劫不复的境地。 ————nobody\n\r这种事，总算是被我赶上了一遭。\n采用hugo-academic模板搭建个人网站，2020年9月3日以后，面临一次建站流程的全新大换代升级。\n\rConvert an old Academic Kickstarter site If you have an existing site based on the Academic Kickstarter Template that was created before 3rd September 2020, it may need converting to use Hugo’s new modular system.\n\r在学习测试两天后，总算是跌跌撞撞地完成了网站的升级更新。截至写这篇博文，针对哪些blogdown用户，网络上还并没有足够完整和清晰的升级操作攻略。这里先记录一二，或许对于急迫升级的人有些许帮助。\n事先说明一下我的环境：\n\rWin 10操作系统\n\rR环境 R version 4.0.3 (2020-10-10)。\n\r升级后hugo version: Hugo Static Site Generator v0.75.1/extended windows/amd64 BuildDate: unknown。\n\rnetlify 关联 github的仓库，自动激活建站开发。\n\r\r1 hugo的大变革\rhugo academic的大换血，变革了什么？后面复杂的flow、原理之类东东我也没有完全明白。不过基本按照官方的提示，是可以完成网站升级的，完全可以忽略下面这些什么go module之类的工具或概念。\n对于windowns党，你大概需要本地安装一些工具：Edit your site on your PC\n\rHugo Extended\n\rGo installed 用于执行hugo modules命令\n\rgit bash 这个不用多说了\n\r\r不过按照官方的说法，此次最大的变革是实现了“模块化”建站流程。\n就我个人后面的感受而言，比前一代思路确实更加简洁，最关键的是建站速度贼快。\n倒是让我收获了一个很深刻的领悟：\n\r平时我可能只关心hugo的建站工具性，从来不想了解背后的最基本的指导思想和运行原理（尽管可能还是会一知半解，技术细节确实可以完全忽视）。现在看来，既然把身家大计（网站）都托付给了它，起码不能完全对其漠然无知。工具性导向很容易误人误事！\n\r\r2 本地开发预览：一条思路填平若干个坑\r现在简单说一下blogdown用户，如何从早前一代的“hugo-academic”升级到新一代的“Wowchemy Hugo Module”流程。\n先说一条思路——实际上我们完全可以用两种方法来实现academic模板的建站。如果按官方说明正确安装软件、工具和环境，则可以：\nblogdown+hugo建站。如果默认安装，hugo执行程序应该在C:\\Users\\yourname\\AppData\\Roaming\\Hugo\\hugo.exe。\n\rScoop+hugo建站。如果默认安装，hugo执行程序应该在C:\\Users\\yourname\\scoop\\shims\\hugo.exe\n\r\r\r两种方式应该可以同时建站。如果报错，则建议把其中之一的hugo.exe修改为不可识别的（如hugo.exex）。\n\r我相信对于大部分blogdown用户而言，应该不太关心后一种。不过在目前的跨代升级中，这一条却是非常重要。因为前者的一些流程，需要后者来援助！\n下面列几个要点，跳开这几个坑应该就可以完成blogdown+hugo建站升级过程：\n一定记得提前备份网站！（git用户表示窃喜中）\n\r首先下载starter-academica模板到本地，解压缩备用。Download Academic Template\n\r处理旧版网站的项目文件。如下操作删除旧模板。\n\r\rgit submodule deinit themes/hugo-academic git rm themes -r\r\r同时记得手动删除旧网站项目文件下的public/文件夹。\n\r把新模板starter-academic中的如下文件，拷贝或替换旧版网站项目文件：\n模板文件，整个exampleSite文件夹\r配置文件，整个config文件夹\r两个go文件，go.sum和go.mod文件\r其他starter-academic有，而旧项目文件里没有的文件。\r\r在win power shell命令窗口中执行go操作\ncd 命令进入到旧项目根文件夹下（此步骤自行脑补吧）\rgo 命令执行建站：hugo server（如果顺利，可以直接预览渲染的网站）；或者hugo（如果顺利，可以得到渲染后的public/文件夹）\r如果不能顺利进行go建站渲染，则按提示修改其中的升级跃迁断点问题（break issues）。我碰到的断点问题主要是：\r\r\r\r\rcallout问题。按报错依次找到文件，替换参数即可。\rjpg图片问题。按照toml里参数的提示，把文件夹路径更换即可。\r\r\r网站内容的维护和调整。具体包括：\nconfig.toml参数的更新调整（地址等）\rcontent/文件夹各个.md的核查\r\r如果在go建站预览下如果基本没有问题，则可以如常使用blogdown的blogdown::serve_site()进行独立的建站渲染。\n\r\r最后，blogdown可能还是会报出提示：\nWARN 2020/10/05 21:08:20 Module \u0026quot;github.com/wowchemy/wowchemy-hugo-modules/wowchemy\u0026quot; is not compatible with this Hugo version; run \u0026quot;hugo mod graph\u0026quot; for more information.\r不过，好在网站本地开发预览，总算是升级正常啦！\n\r3 云端开发预览：netlify的断点\r尽管前面的网站本地开发预览已经OK，但是云端自动开发流程我们还没有进行配置。——我几乎又花费了一个早上来查找问题，直到最后成功。\n核心提示：\n\r如果仍旧采用旧版网站的netlify开发流程，则云端开发会一直提示fail。所以需要采用新的netlify开发流程。\n\rnetlify新开发流程，官方说是采用了CMS管理平台——里面的原理暂时没有深究。如果注意比较新旧流程开发同样的网站代码，会发现主要的区别是：\n\r开放工具链（tool chain）中，部分工具的版本新旧，如ruby、go等的调用\n\r开发速度上，新流程明显完成得更快\n\r\r为了解决这个新旧流程得断点（break point）问题，暂时摸索出来的办法如下：\n新建一个netlify开发网站。根据starter-academic的官方说明，利用github账号接入netlify的api，创建一个基于starter-academic模板的github repo（称之为repo-B）。netlify预览网站（称之为website-B）应该是正常的。——这里纯粹是为了获得新流程的CMS平台。后面的话，这个repo可以直接不用。\n\r准备好本地开发成功的网站项目。首先，准备工作。把本地开发预览正常的网站项目（称之为repo-A），推送到github远端（remote）。当然，关联给netlify云端的开发预览网站（称之为website-A）是不会成功更新的。\n\r修改新旧网站的链接关系。此时，我们有两个netlify网站（website-B和website-A）以及对应的两个github repo（repo-B和repo-A）。新流程下的website-B网站是完全可以云端正常自动开发的，但是旧流程下的website-A网站则是无法自动激发云端开发的。关键步骤就是“嫁接替换法”：\n\r\r\r将website-B关联的github仓库，修改为repo-A。netlify操作过程：https://app.netlify.com/sites/huhuaping-kick/settings/deploys#continuous-deployment –》build settings –》 edit setting –》reopsitory –》Link a different repository\r将website-B的域名修改为原来website-A的域名。netlify操作过程：https://app.netlify.com/sites/huhuaping/settings/general –》sitede tails –》site information –》 change site name\r“嫁接替换”完成后，netlify就在CMS新流程下，开发了原来的repo-A的网站代码内容。\r\r\r至此，我们只需要继续维护本地更新升级后的repo-A，并持续推送给github，那么每次commit提交就会自动激活netlify使用新流程开发渲染网站内容啦！\n\r4 后续故事\r考虑到后期可能还会面临hugo academic升级的问题。相关升级问题记录如下：\n4.1 双服务器建站需求\r我的特殊“双服务器”建站需求。简单说，首先我会使用blogdown+hugo+github+netlify工作流建立一个服务器在netlify的网站（A服务器网站），同时会得到该网站的一个public文件夹。因为netlify服务器在国外，国际友人访问自然没有问题，但是国内访问速度明显就不行了。因此，我必须为国内访问用户搭建一个服务器在国内的同步“复刻网站”（B服务器网站），这时我只需要将前面的public/文件夹同步上去即可。因此，“双服务器”建站需求，并不是我个人有什么极客级别的建站癖好，纯粹只是出于“简单性”和“可用性”原则。以上双服务器网站的差异性和联系：\n\r二者是几乎是“完全复制”的。但就网站更新频率和时间先后而言，后者更新频率更低而且会滞后于前者。下面说原因！\n\rnetlify网站（A服务器网站）是基于自动化工作流的（automate workflow），只需要github提交（commit）即可后台自动更新整个网站。因此是时效性最强的。而且可以基于git分支进行测试（如feature 分支），即兴写博客post或测试新功能，简直是指哪打哪，顺服得不要不要的。\n\r国内网站（B服务器网站）采用的是goodsync的FTP自动上传同步功能。尽管也可以完全设定自动同步（例如，可以设定goodsync规则为：一旦public、有文件修改就自动上传），但是因为不具备git那样的分枝提交功能，会导致同步正在测试阶段的网站，从而导致用户访问失败或页面错乱。最要命的是goodsync的FTP上传速度很慢，对于我这个相对庞杂的网站，要完成一次完整的网站同步，大概需要4-6个小时才能完成（家里稳定网速下）。简单说，我不能让B服务器网站“实时同步”，而且只能在网站版本稳定后才“手动”进行goodsync同步（一般在晚上进行这个同步动作）。\n\r\r\r4.2 更新hugo extend\r注意hugo extend与hugo存在一定差异性，简单说hugo extend似乎功能性要更多一点（参看社区问答）。建议windows用户下载使用hugo extend。原因很简单：因为hugo extend能够让我顺利生成网站的本地public/文件夹，而hugo则会报错无法生成public/文件夹！更新hugo extend基本上有两种方法：\n\r方法一（已测试）：手动下载hugo extend版本进行升级更新。具体做法进入官方版本下载界面，下载后解压缩并放到指定本地电脑路径下！还是要注意blogdown和scoop两种渲染网站的hugo路径是不同的。（见前面说过的这两种渲染方式。）\r\r# hugo extended\rhugo_extended_0.80.0_Windows-64bit.zip\r# target directory path for blogdown\rC:\\Users\\huhua\\AppData\\Roaming\\Hugo\\0.80.0\\hugo.exe\r# target directory path for scoop\rC:\\Users\\huhua\\scoop\\shims\\hugo.exe\r\r方法二（未测试过）：在windows 命令行里进行hugo升级（见官方说明）。\r\r# Update to get the very latest developments:\rhugo mod get -u ./...\r# Alternatively, update to the latest official release:\rhugo mod get -u\r\r\r4.3 获得public/文件夹\r更新blogdown包。照常使用Rstudio addins serv site。需要注意的是新的hugo流程默认是在缓存里渲染网站，也就意味着public/文件夹默认不会随着渲染而自动更新。\n\r解决方案1（已测试）：那么需要blogdown执行的是本地渲染（参看 网络问答）。（尽管如此，blogdown本地预览会优先使用public/文件夹，所以好像必须要删除public/才能获得实时修改更新，这似乎是一个bug啊！目前对这个问题也是纠结中。因为它带来了goodsync的一个同步问题，每次获得blogdown方法下的public/文件夹里的每一个文件都是全新的、不同于原同步文件（生成时间或内容改变了），这将意味着goodsync每次同步都必须上传public/的所有文件！——而实际上我只是小步调更改了网站的部分内容！）\r\rblogdown::build_site(local=TRUE)\r\r\r解决方案2（已测试）：直接在windows命令视窗里指定hugo生成public/文件夹。具体参看blogdown社区讨论。\r\rhugo -d ./public\r\r\r4.4 升级的副效应\r4.4.1 RStudio插件(addins)New post的正确使用\r使用RStudio插件(addins)中blogdown下的New post暂时还会带来困扰（参看“stackoverflow队长”问答）。\n按照hugo的新流程，每个blog都会建立自己的对应的文件夹（参看网页）。当然，其背后的原因是hugo新版本（Hugo version 0.32以上）引入了“页面束捆”（Page Bundles）特性。具体文件夹结构如下：\n levelName\r1 post 2 |--data 3 | |--fultonfish.rda 4 | |--fultonfish.xlsx 5 | °--other-data-file.dat 6 |--pic 7 | |--check-box-invisible.png 8 | °--other-image-file.jpeg 9 |--2020-12-05-web-scraping-tech-webelem.en.Rmd 10 |--2020-12-05-web-scraping-tech-webelem.en.html\r11 °--2021-01-31-new-post 12 |--index.en_file 13 |--index.en.Rmd 14 °--index.en.html \rblogdown这样的new-post文件夹系统变化带来的一个影响效应是：\n\r新旧文件夹体系的不一致性（见上面树形结构图）。虽然只是视觉上的差异，但是还是不够“一致”！当然，也可以关闭这样的新文件夹体系（“页面束捆”），具体需要在.Rprofile文件设定 options(blogdown.new_bundle = FALSE)。\n\r致命的影响是Rmarkdown引以为傲的直接R代码块功能。新体系下，可以丝滑般得到正常的R代码块运行效果（已测试。这得益于新文件系统下的self-contained理念）；旧体系下则无法运行。而且经测试，新文件夹体系下，不会影响图片/pic/.png和数据文件/data/.rds的调用。\n\r\r\r4.4.2 knitr::include_graphics函数调用图片可能会报错\r使用knitr::include_graphics函数调用图片，需要额外设定参数error = FALSE。（参看网络问答）\n#knitr::include_graphics(here::here(\u0026quot;static\u0026quot;,\u0026quot;pic\u0026quot;,\u0026quot;check-box-invisible.png\u0026quot;))\r#knitr::include_graphics(\u0026quot;../../static/img/check-box-invisible.png\u0026quot;)\rknitr::include_graphics(\u0026quot;/pic/check-box-invisible.png\u0026quot;, error = FALSE)\r\r4.4.3 netlify开发报错的验证与修复\r有时候本地预览显示正常，但netlify网站开发仍可能出错（Deploy failed），导致无法更新云端网站，此时则建议：\n\r登陆netlify账户，立即查看开发日志（Deploy log）\n\rRstudio里利用blogdown::check_site()函数进行网站检查，并根据提示做出修改调整。具体参看blogdown社区问答。\n\r\r下面是我的Rstudio里的一个网站检查结果和建议清单：\nblogdown::check_site()\r# here my check result\r― Running a series of automated checks for your blogdown website project...\r----------------------------------------------------------------------------------------------\r○ A successful check looks like this.\r● [TODO] A check that needs your attention looks like this.\r| Let\u0026#39;s check out your blogdown site!\r----------------------------------------------------------------------------------------------\r― Checking config.toml\r| Checking \u0026quot;baseURL\u0026quot; setting for Hugo...\r○ Found baseURL = \u0026quot;https://huhuaping.netlify.app/\u0026quot;; nothing to do here!\r| Checking \u0026quot;ignoreFiles\u0026quot; setting for Hugo...\r● [TODO] Add these items to the \u0026quot;ignoreFiles\u0026quot; setting: \u0026quot;\\\\.knit\\\\.md$\u0026quot;, \u0026quot;\\\\.utf8\\\\.md$\u0026quot;\r| Checking setting for Hugo\u0026#39;s Markdown renderer...\r○ All set! Found the \u0026quot;unsafe\u0026quot; setting for goldmark.\r― Check complete: config.toml\r― Checking .gitignore\r| Checking for items to remove...\r○ Nothing to see here - found no items to remove.\r| Checking for items to change...\r● [TODO] Change items in .gitignore: blogdown -\u0026gt; /blogdown, public/ -\u0026gt; /public/\r| Checking for items you can safely ignore...\r● [TODO] You can safely add to .gitignore: .DS_Store, Thumbs.db\r| Checking for items to ignore if you build the site on Netlify...\r● [TODO] When Netlify builds your site, you can safely add to .gitignore: /public/, /resources/\r| Checking for files required by blogdown but not committed...\r● [TODO] Found 1 file that should be committed in GIT:\rlayouts/shortcodes/blogdown/postref.html\r― Check complete: .gitignore\r― Checking Hugo\r| Checking Hugo version...\r○ Found 4 versions of Hugo. You are using Hugo 0.80.0.\r| Checking .Rprofile for Hugo version used by blogdown...\r| Hugo version not set in .Rprofile.\r● [TODO] Set options(blogdown.hugo.version = \u0026quot;0.80.0\u0026quot;) in .Rprofile and restart R.\r― Check complete: Hugo\r― Checking netlify.toml...\r○ Found HUGO_VERSION = 0.80.0 in [build] context of netlify.toml.\r| Checking that Netlify \u0026amp; local Hugo versions match...\r○ It\u0026#39;s a match! Blogdown and Netlify are using the same Hugo version (0.80.0).\r| Checking that Netlify \u0026amp; local Hugo publish directories match...\r○ Good to go - blogdown and Netlify are using the same publish directory: public\r― Check complete: netlify.toml\r― Checking content files\r| Checking for validity of YAML metadata in posts...\r○ All YAML metadata appears to be syntactically valid.\r| Checking for previewed content that will not be published...\r○ Found 0 files with future publish dates.\r● [TODO] Found 2 files marked as drafts. To un-draft, run the command:\rblogdown::edit_draft(c(\r\u0026quot;content/privacy.md\u0026quot;,\r\u0026quot;content/terms.md\u0026quot;\r))\rand change a file\u0026#39;s YAML from \u0026#39;draft: true\u0026#39; to \u0026#39;draft: false\u0026#39; or delete it\r| Checking your R Markdown content...\r○ All R Markdown files have been knitted.\r● [TODO] Found 2 R Markdown files to update by re-rendering:\rcontent/post/2019-04-10-note-for-git-version-control-skills.Rmd\rcontent/post/2020-10-05-hugo-big-update/index.en.Rmd\rTo update a file, re-knit or use blogdown::build_site(build_rmd = \u0026#39;timestamp\u0026#39;)\r| Checking for .html/.md files to clean up...\r○ Found 0 duplicate .html output files.\r○ Found 0 incompatible .html files to clean up.\r| Checking for the unnecessary \u0026#39;content/\u0026#39; directory in theme...\r○ Great! Your theme does not contain the content/ directory.\r― Check complete: Content\r具体调整如下：\n调整1：根据建议，config.toml需要调整ignoreFiles参数\nChecking \u0026quot;ignoreFiles\u0026quot; setting for Hugo...\r[TODO] Add these items to the \u0026quot;ignoreFiles\u0026quot; setting: \u0026quot;\\\\.knit\\\\.md$\u0026quot;, \u0026quot;\\\\.utf8\\\\.md$\u0026quot;\r\r调整2：根据建议，.gitignore需要调整参数\n[TODO] Change items in .gitignore: blogdown -\u0026gt; /blogdown, public/ -\u0026gt; /public/\r调整3：根据建议，.Rprofilee需要调整hugo版本参数\nHugo version not set in .Rprofile.\r[TODO] Set options(blogdown.hugo.version = \u0026quot;0.80.0\u0026quot;) in .Rprofile and restart R.\r调整4：根据建议，部分Rmd文件需要重新渲染更新，可采用函数blogdown::build_site(build_rmd = 'timestamp')\n[TODO] Found 2 R Markdown files to update by re-rendering:\rcontent/post/2019-04-10-note-for-git-version-control-skills.Rmd\rcontent/post/2020-10-05-hugo-big-update/index.en.Rmd\rTo update a file, re-knit or use blogdown::build_site(build_rmd = \u0026#39;timestamp\u0026#39;)\r\r\r\r4.5 一次意外报错\r实在莫名其妙，无论hugo渲染网站（powershell命令下hugo server），还是blogdown渲染网站（server_site）分别出现如下报错。\n1.报错信息1：\nError: from config: failed to resolve output format \u0026quot;WebAppManifest\u0026quot; from site config\r2.报错信息2：\nError: from config: failed to resolve output format \u0026quot;headers\u0026quot; from site config\r两次报错，如同官网提到的“Error: failed to resolve output format”：\n最后按照官方处理办法：\nconfig.toml的[outputs]清单中暂时先删除\"RSS\", \"JSON\", \"WebAppManifest\"\n\r然后在powershell命令窗口中依次输入如下命令：\n\r\rhugo mod clean\rhugo mod get -u ./...\rhugo mod tidy\r完成上述操作后，再把\"RSS\", \"JSON\", \"WebAppManifest\"补回原处即可。\r\r\r\r5 blogdown的升级支持\r由于hugo在建站流程上做了很大的改变，blogdown包也在2021年1月迭代到了v1.0版本，显然这次是大版本升级以支持hugo，具体可以参看包作者的声明“Announcing blogdown v1.0”。\n其中一些包函数值得关注：\n\rblogdown::built_site()函数，涉及到是否产生/public文件夹和如何渲染.Rmd文件。\n\rblogdown::check_.()类函数，主要用于核查和比对blogdown与hugo在配置等方面是否一致。\n\rblogdown::find_hugo('all')函数，方便掌握自己正在（或曾经）使用的hugo版本。为稳定hugo版本，可以设定.Rprofile文件，具体可设定为例如options(blogdown.hugo.version = \"0.79.0\")。\n\rblogdown::remove_hugo()函数，可以删除未使用的hugo版本。\n\r\r\r6 hugo模板微调\r\r劝君更进一杯酒，模板莫要闲折腾。——somebody\n\r如果使用blogdown开发课程内容，网上有人提醒慎重升级1：\n\r不要升级hugo（包括hugo extend）\n\r不要更新hugo theme\n\r课程开发期间，不要升级任何东西！\n\r\r6.1 基本原理\r考虑到hugo-academic模板会不断升级，如果用户想要对模板进行个性化调整，因此hugo开发了一套模板查找顺位机制（template lookup）。用户可以在不直接修改hugo-academic官方模板文件下，独立地进行个性化修改和微调。当然用户的任何个性化修改，都需要在约定文件路径下，且使用go语法。\n\r优点：官方模板文件和用户个性化修改文件互相分离和独立，保证了二者并行不悖。\n\r缺点：用户需要熟悉go语法。此外，因为官方模板会不断迭代变化，用户个性化修改可能会失效，因而需要不断去配合官方的迭代步骤！\n\r\r\r6.2 给post博文添加floating toc\r官方模板下，默认的post是基于widget: pages样式。其视觉效果特点是：\n\r在pc端，chrome浏览器下post博文正文宽度为720px，如果显示器分辨率为1920*1080，那么正文的宽度占比为37.5%。按照时兴的说法就是“屏占比”太低！\n\r在移动手机端，post博文正文宽度显示不错。\n\r默认情况下，是没有目录导航的（toc）。当然也可以通过添加yaml参数toc: true来添加目录导航，但是toc显示在正文之前（而且没有“目录”字样）。对于分节较多的长篇博文，非常不利于读者阅读定位和前后对照。\n\r\r因此，对于分节较多的长篇博文，自然就有了“侧边浮动目录”（sidebar floating toc）的个性化页面样式修订念头。yihui建议可以通过JavaScript或CSS进行设定。Xiaoou WANG也提供了一个hugo语法下的实现方法，但是有不少bug。又比如CharlieLeee的方法，只是对于.md格式的写作有效，而对.Rmd格式的写作无效。因此，最后的忠告就是专注于内容写作：劝君更进一杯酒，模板莫要闲折腾。\n\r\r\r\rblogdown advice↩︎\n\r\r\r","date":1601856000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1601903301,"objectID":"2d15af8588f6e95c694cfe56f3da8cdb","permalink":"https://huhuaping.netlify.app/2020/10/05/hugo-big-update/","publishdate":"2020-10-05T00:00:00Z","relpermalink":"/2020/10/05/hugo-big-update/","section":"post","summary":"对于搭建个人网站，曾经有一句经典的忠告摆在我的面前：永远不要使用复杂的模板，否则总有一天会掉入网站迁移漩涡，甚至万劫不复的境地。这种事，难免大家都会赶上那么一遭。这篇博文给出了一些使用经验和若干建议。本博文会随时更新。","tags":["Website","hugo"],"title":"建站平台hugo-academic大升级","type":"post"},{"authors":[],"categories":["Research"],"content":"\r使用Rmarkdown写科学论文，自然避免不了管理和使用参考文献，以及文献输出样式。\nEndNote和流程\r目前为止，我的唯一文献工具是EndNote（版本X9）。掐指一算，差不多已经坚持使用了近13年了。多年来攒下的一个文献库.enl里，文献条目多达3500条（多半是存而不读的啦）。\n在使用Rmarkdown写文章后，工作流程总是免不了受这个多年的工具牵连。可行的办法如下：\n查找学术文献。利用谷歌学术查找文献，导入EndNote。（google学术设置里拉选一下默认导入工具）\n\r修改定制EndNote软件。Endnote里一番神设置（具体见后），获得文献条目的BibTex格式。\n\r集中注意力写文章的地方。Rmarkdown文档.Rmd里写文章，同时新建一个.bib的附带文件。\n\r管理BibTex文献的地方。把BibTex格式的文献条目，复制到.bib文件里面去。\n\r管理正文里文献引用显示和以及参考文献的输出样式。与.Rmd并行配置一个.csl文档。关于引用样式语言——Citation Style Language (CSL) ，后面再说。\n\r\r目前的流程是没有可行的，但是几个问题仍旧存在：\nEndNote重度使用的后遗症。一是要手动把EndNote文献条目的BibTeX内容复制到.bib里面去，太费手啦！二是，EndNote文献条目的BibTeX内容中，引用ID需要手动调整，这个也是很费手！\n\r文献管理存档的主副之争。EndNote文献条目，跟.bib里的文献条目是无法关联的。意味着，要同时管理两个家伙！\n\r引用样式语言Citation Style Language (CSL) 文档，可能需要定制化修改！\n\r\r先不说这些血泪控诉的坑吧，下面把基本过程里的小九九暂时给记录下来。\n\r配置EndNote软件（Windows系统）\r修改定制EndNote软件。具体可以参考攻略。\n\r基本步骤大概是：\r- 下载style模板，导入并保存模板；然后选用此模板\r- 修改Preferences ： “modify reference types”\r- 修改display fields： “Custom1”\n\r\rEndNote里编辑条目\r编辑文献条目。独立设置ID ：BibTeX里编辑。\n\r定制输出和显示样式\r准备好输出显示样式。cls样式可以参看样式库\n\r设置.Rmd文档的yaml参数，示例如下：\n\r\r# 一级yaml参数\rbiblio-style: \u0026quot;nnsfc.csl\u0026quot;\rcsl: \u0026quot;nnsfc.csl\u0026quot;\r\r\r文献引用\r直接使用条目的唯一标识。例如：\n研究发现，balabalabala[@Birthal2011]。\r\r\r","date":1601683200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1601713975,"objectID":"9e4a50cffc5853e23c9dd3afb933d0a7","permalink":"https://huhuaping.netlify.app/2020/10/03/bib-and-cite-on-research-article/","publishdate":"2020-10-03T00:00:00Z","relpermalink":"/2020/10/03/bib-and-cite-on-research-article/","section":"post","summary":"因为多年使用EndNote软件管理文献，在使用Rmarkdown写文章时，自然免不了遭遇传统与尝新的大碰撞。这篇博文记录了二者协调使用中的困难，以及基本的协作流程和注意事项。不得不承认，在软件工具使用上，我们不得不在坚守传统的“稳固性”以及拥抱创新的“生命力”之间，不断做出权衡、抉择、隐忍，直至最后的突破和归宿。对我而言，目前无疑还处在这隐忍和彻底破除的过渡时期。","tags":["article","bibTeX"],"title":"Endnote参考文献及Rmarkdown引用问题","type":"post"},{"authors":[],"categories":["Econometrics"],"content":"\r\r孩时的方言事件\r计量经济学的疯言风语\r计量经济学“疯言风语”1：数学符号语言（母语）\r计量经济学“疯言风语”2：回归报告语言（暗语）\r计量经济学“疯言风语”3：矩阵语言matrix（狂语）\r\r后话：语言障碍还是心理障碍\r\r\r孩时的方言事件\r打小时起，我就对各种村落方言带来的困惑感受至深。我的故乡，属于典型的南方村落。古时是被算作南蛮之地的，外族异性零落杂居。虽然还不至于一村一俗，但是一村一个方言那是十分常见。我们村周边，3里地范围内，大概分布4个村落，就存在4种方言。好在距离不是太远，自小接触融通，还不至于听不懂。这种方言的差异，不是普通人想象的口音上的差异。就我而言，也仅限于听懂而已，要是模仿发音，那实在是难于上青天。\n我的家庭里就有两种方言，母亲带来了4里远的外婆家族的方言。大姨嫁到离我家约6里地远的村子，那种村落语言对于小时候的我简直就是外星语一般的存在。因为暑假或春节会到大姨家待上一阵子，我总有一种被那个村落完全隔绝的感觉。因为无法跟这个村里其他小孩对话沟通，我大多数情况都是跟在表哥的屁股后面，生怕落单。有一次，村里一个热心的小孩看到我一个人在路边独自玩得起劲，就凑过来打招呼，可能是希望加入一起玩耍的意思。但是他的方言发音咿咿呀呀，我一个字都不懂。再加上这小孩神情诡谲，动作夸张，我飞一般地赶紧逃离是非之地，躲进大姨家里半天没出门。表哥知道后，找来那小孩问明来由，一通翻译，真相大白，大家笑得肚疼。因为这事，小孩这句接头暗话，都是目前为止我唯一能说出来而且知道意思的该村方言了，真是印象至深。\n\r小孩的方言发音（此处纯粹表达出发音）:\r\r\r“哟斯呗嗟嘎？哈粤郭。”\n\r\r我当时理解的意思是：\r\r\r“你是北京来的？唱个歌吧。”（我天生五音不全！）\n\r\r表哥翻译的结果是：\r\r\r“你是哪里来的？一起玩喽。”\n\r这个事情让我知道，语言不通还要一起好好玩耍，简直就是个灾难！\n\r计量经济学的疯言风语\r有一部经典的二战电影《风语者》，讲的是战争双方的密码攻防。美军为了通讯安全，专门雇请神秘的印第安部落纳瓦霍人参军，使用纳瓦霍人的语言进行通讯。因为纳瓦霍语是一种没有文字，只通过世世代代口耳相传，极其复杂的语言，可以说就是不为人知的、偏远地带的“鸟语”。由于他们的语言发音来自于大自然，所以给他们的外号就叫做“风语者”。\n哪怕具备了一定的统计学知识，我相信大部分人一开始学习《计量经济学》时也会语言障碍。就好比是日本通讯兵在听美军用纳瓦霍语发送的电报，一头雾水，根本就不带人玩耍的节奏。\n下面我就分三个方面来罗列一下计量经济学的三类“疯言风语”：\n计量经济学“疯言风语”1：数学符号语言（母语）\r数学符号是计量经济学的母语，一点都不为过。其中数学符号主要是搭建了一套共同的语言规则，把社会经济分析中各种含混的概念、术语、各种情景用清晰无误的数学语言表达出来。这样，那些仍旧坚持说自己“方言”的经济学家，自然就不能跟别的小朋友好好玩耍了。\n以计量经济学最基础的总体和样本模型定义和内涵为例：\n\r总体回归函数PRF:\n\r\\[\\begin{align}\rE(Y|X_i) \u0026amp;= \\beta_1 +\\beta_2X_i \u0026amp;\u0026amp; \\text{(PRF)}\r\\end{align}\\]\n\r总体回归模型PRM:\n\r\\[\\begin{align}\rY_i \u0026amp;= \\beta_1 +\\beta_2X_i + u_i \u0026amp;\u0026amp; \\text{(PRM)}\r\\end{align}\\]\n\r样本回归函数SRF:\n\r\\[\\begin{align}\r\\hat{Y}_i =\\hat{\\beta}_1 + \\hat{\\beta}_2X_i \u0026amp;\u0026amp; \\text{(SRF)}\r\\end{align}\\]\n\r样本回归模型SRM:\n\r\\[\\begin{align}\rY_i \u0026amp;= \\hat{\\beta}_1 + \\hat{\\beta}_2X_i +e_i \u0026amp;\u0026amp; \\text{(SRM)}\r\\end{align}\\]\n看似一堆数学符号，里面乾坤可大着呐。\n\r英文字母表示变量\n\r希腊字母表示参数，戴个帽子就表示参数对应的估计量。\n\r同样是\\(Y_i\\)，在总体回归模型（PRM）里和样本回归模型（SRM）却是不等价的（为什么？）\n\r总体回归模型里的随机干扰项要用\\(u_i\\)表达，但是到了样本回归模型里的残差则要用\\(e_i\\)表达。为什么呢？而且最糟糕的是，国内还有著者习惯把随机干扰项表达成希腊字母\\(\\mu_i\\)，这个简直就是计量经济学语言世界里最容易引起小伙伴惶恐的、不规范的“鸟语方言”！为什么这么说呢？因为大家在概率论与数理统计里都学过了，正态分布由期望和方差两个参数决定\\(Z_i \\sim N(\\mu, \\sigma^2)\\)。还记得我们前面说好的么：希腊字母表示参数的啊，语言规范可不能说变就变的吧！试想一下，如果你要表达“随机干扰项服从正态分布”，那岂不是一个捉急！（\\(\\mu_i \\sim N(\\mu, \\sigma^2)\\)!!!!）\n\r\r简言之，计量经济学语言用数学符号来规范用语，并形成普遍共识，大家理解起来就不会相互打架。\n\r计量经济学“疯言风语”2：回归报告语言（暗语）\r好吧，只要数学符号能让计量经济语言更加精准一直，大家似乎也能稍微接受这些“枯燥”的数学记号和“不为常人所知”的表达规则了。\n不过我们还会碰到第二个语言拦路虎！那就非属哪些惊为天书般的“计量经济分析报告”了！你见过医院里化验科或检验科出具的哪些成沓的身体检查单没？对，就是这些外人看不懂的鬼画符天书！！\n\r先来看一个EViews软件出具的多元回归分析报告吧：\n\r一个多元回归分析Eviews报告\n\r\r再来看一个R软件出具的两阶段最小二乘法（2SLS）回归分析报告吧：\n\r\rsystemfit results method: 2SLS N DF SSR detRCov OLS-R2 McElroy-R2\rsystem 222 213 109.612 0.107301 0.094242 -0.597812\rN DF SSR MSE RMSE R2 Adj R2\req1 111 105 52.0903 0.496098 0.704342 0.139124 0.098130\req2 111 108 57.5218 0.532610 0.729801 0.049360 0.031755\rThe covariance matrix of the residuals\req1 eq2\req1 0.496098 0.396138\req2 0.396138 0.532610\rThe correlations of the residuals\req1 eq2\req1 1.000000 0.770653\req2 0.770653 1.000000\r2SLS estimates for \u0026#39;eq1\u0026#39; (equation 1)\rModel Formula: lquan ~ lprice + mon + tue + wed + thu\rInstruments: ~mon + tue + wed + thu + stormy\rEstimate Std. Error t value Pr(\u0026gt;|t|) (Intercept) 8.5059113 0.1661669 51.18896 \u0026lt; 2.22e-16 ***\rlprice -1.1194169 0.4286450 -2.61152 0.0103334 * mon -0.0254022 0.2147742 -0.11827 0.9060766 tue -0.5307694 0.2080001 -2.55177 0.0121574 * wed -0.5663511 0.2127549 -2.66199 0.0089895 ** thu 0.1092673 0.2087866 0.52334 0.6018373 ---\rSignif. codes: 0 \u0026#39;***\u0026#39; 0.001 \u0026#39;**\u0026#39; 0.01 \u0026#39;*\u0026#39; 0.05 \u0026#39;.\u0026#39; 0.1 \u0026#39; \u0026#39; 1\rResidual standard error: 0.704342 on 105 degrees of freedom\rNumber of observations: 111 Degrees of Freedom: 105 SSR: 52.090321 MSE: 0.496098 Root MSE: 0.704342 Multiple R-Squared: 0.139124 Adjusted R-Squared: 0.09813 2SLS estimates for \u0026#39;eq2\u0026#39; (equation 2)\rModel Formula: lquan ~ lprice + stormy\rInstruments: ~mon + tue + wed + thu + stormy\rEstimate Std. Error t value Pr(\u0026gt;|t|) (Intercept) 8.62835440 0.38897023 22.18256 \u0026lt; 2e-16 ***\rlprice 0.00105931 1.30954697 0.00081 0.99936 stormy -0.36324606 0.46491248 -0.78132 0.43632 ---\rSignif. codes: 0 \u0026#39;***\u0026#39; 0.001 \u0026#39;**\u0026#39; 0.01 \u0026#39;*\u0026#39; 0.05 \u0026#39;.\u0026#39; 0.1 \u0026#39; \u0026#39; 1\rResidual standard error: 0.729801 on 108 degrees of freedom\rNumber of observations: 111 Degrees of Freedom: 108 SSR: 57.521843 MSE: 0.53261 Root MSE: 0.729801 Multiple R-Squared: 0.04936 Adjusted R-Squared: 0.031755 \r以上两个分析报告，局外人自然是云山雾罩，头大不已，真是应了那句老话“隔行如隔山”！\n简言之，计量经济学充满了此类“暗语”——各类计算软件的统计分析报告。他们是在各种精致的计量理论下，衍生出来的各类分析方法、诊断工具、统计手段的软件结果的视觉呈现！这里面有蕴含着诸多数学家、统计学家、经济学家大神们的天才设计、神思妙想。然后我们借助神奇的“计算机”，分分钟把天才们的洞见给呈现出来了。这个暗语难于解读，主要在于两点：（1）天才们的思想我们难以领会，或者天才们太多，或者天才的奇思妙想太多！所谓机关算尽，不达目的誓不休！（2）计算分析软件种类繁多，呈现方式各异，处处都是“技术黑箱”（blackbox），无疑又是新手们需要面对的一个个“巨坑”！\n\r计量经济学“疯言风语”3：矩阵语言matrix（狂语）\r看过以上两条计量经济学“疯言风语”，估计暗地里给自己使劲加油，必须要鼓足满满的学习勇气了！而下面这第三条计量经济学“疯言风语”，对于很多人而言，简直就是不可逾越的“认知障碍”！\n\r传说计量经济学家都开始抓狂痴怪了，上帝说他们需要清净一下！于是给了计量经济学家一件法宝，那就是“矩阵理论”。\n\r计量经济学“疯言风语”3——矩阵语言matrix（狂语）。矩阵理论运用在计量经济学中，能把高维繁杂的代数问题，转换为紧凑简洁的矩阵语言。这既是语言形式上的一次完美变身，更是思维视野上的一次大跳跃！矩阵点睛，化石成金！\n难的是各种矩阵术语和关系式表达扑面而来：矩阵、方阵\r对角阵、行列式、秩、列满秩、特征根、转置、逆矩阵、内积和外积、正定矩阵……。\n下面给大家展示二元回归下，分别用代数语言和矩阵语言分别求解回归系数的结果。\n\r总体回归模型为，待估计参数包括\\(\\beta_1,\\beta_2, \\beta_3\\)，假定它们的OLS估计值分别为\\(\\hat{\\beta}_1,\\hat{\\beta}_2, \\hat{\\beta}_3\\)\n\r\\[\\begin {align} Y_{i}=\\beta_{1}+\\beta_{2} X_{2 i}+\\beta_{3} X_{3 i}+u_{i}\r\\end {align}\\]\n\r下面是用代数语言下OLS的求解结果：\n\r\\[\\begin{cases}\r\\begin {align} \\hat{\\beta}_{1} \u0026amp;=\\overline{Y}-\\hat{\\beta}_{2} \\overline{X}-\\hat{\\beta}_{3} \\overline{X}_{3} \\\\ \\hat{\\beta}_{2} \u0026amp;=\\frac{\\left(\\sum y_{i} x_{2 i}\\right)\\left(\\sum x_{3 i}^{2}\\right)-\\left(\\sum y_{i} x_{3 i}\\right)\\left(\\sum x_{2 i} x_{3 i}\\right)}{\\left(\\sum x_{2 i}^{2}\\right)\\left(\\sum x_{3 i}^{2}\\right)-\\left(\\sum x_{2 i} x_{3 i}\\right)^{2}} \\\\ \\hat{\\beta}_{3} \u0026amp;=\\frac{\\left(\\sum y_{i} x_{3 i}\\right)\\left(\\sum x_{2 i}^{2}\\right)-\\left(\\sum y_{i} x_{2 i}\\right)\\left(\\sum x_{2 i} x_{3 i}\\right)}{\\left(\\sum x_{2 i}^{2}\\right)\\left(\\sum x_{3 i}^{2}\\right)-\\left(\\sum x_{2 i} x_{3 i}\\right)^{2}} \\end {align}\r\\end{cases}\\]\n\r下面是则是矩阵语言下OLS的求解结果：\n\r\\[\\begin{align}\r\\boldsymbol{\\hat{\\beta}} \u0026amp;=\\boldsymbol{(X\u0026#39;X)^{-1}X\u0026#39;y} \\end{align}\\]\n二者谁更简洁？两个世界，那个更清净？相信一上台即有分晓。\n\r\r后话：语言障碍还是心理障碍\r与计量经济学的交锋，往往同时夹杂着计量经济学的“疯言风语”语言障碍，以及抽象数学、众多经济理论等的认知心理障碍。\n然而，随着计量经济学理论的规范化和互联网信息获取的开源化、便利化，学习上的认知障碍和成本正在逐步消减，而“疯言风语”的语言障碍，则需要假以时日，反复训练（跟学英语或者学计算机语言，大抵相似！）。\n总之，计量经济学有其一套独特的科学语言，背后更是有无数天才的智慧和思想闪光，需要大家去沉下心去认真感受和领略！\n\r","date":1586044800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586087567,"objectID":"aea3527cceab092f32d9fb7631eb91d2","permalink":"https://huhuaping.netlify.app/2020/04/05/econometrics-language/","publishdate":"2020-04-05T00:00:00Z","relpermalink":"/2020/04/05/econometrics-language/","section":"post","summary":"这篇博文提出了计量经济学语言的内涵，从三个层面做了有意思的思考。计量经济学的母语是数学符号语言；计量经济学的暗语是各种繁杂的回归报告语言；计量经济学的狂语是矩阵语言。计量经济学有其一套独特的科学语言，背后更是有无数天才的智慧和思想闪光，需要大家去沉下心去认真感受和领略！","tags":["notation","Econometrics"],"title":"风语者：计量经济学语言","type":"post"},{"authors":null,"categories":["graph"],"content":"\r\r调整轴题与轴标签之间的间距\rgeom_text()如何控制字体大小\r如何给geom_hline()添加图例\r保持读取csv编码正确\rfacet_grid() 实现多种图形并存\r\r\r调整轴题与轴标签之间的间距\rIncrease distance between text and title on the y-axis\nggplot(mpg, aes(cty, hwy)) + geom_point()+\rtheme(axis.title.y = element_text(margin = margin(t = 0, r = 20, b = 0, l = 0)))\r\rgeom_text()如何控制字体大小\r首先，geom_text()的size是按mm计量的。所以并不是跟font size一样的计量规则。所以不要混同二者的度量尺度。（参看The size in geom_text is not a font size）\n其次，ggplot中字体控制的关系如下。简言之：geom_text()是单独控制字体的！！（参看：ggplot geom_text font size control）\np \u0026lt;- p + theme(axis.text = element_text(size = 15)) # changes axis labels\rp \u0026lt;- p + theme(axis.title = element_text(size = 25)) # change axis titles\rp \u0026lt;- p + theme(text = element_text(size = 10)) # this will change all text size # (except geom_text)\r\r如何给geom_hline()添加图例\r给geom_hline添加图例\n\r保持读取csv编码正确\r编码正确\n\rfacet_grid() 实现多种图形并存\rfacet_grid()可以同时绘制多个子图，但是默认情况下每个子图都是同一种类型，如都是line，或都是point。\n下面是多个子图不同类型的实现思路1 2：\n\r保持数据为long format data格式\n\r设定一个factor作为子图分类。 factor levels 将决定子图的个数。\n\r绘制空白图p1。含有factor levels个数的子图，data为全数据集。\n\r通过subset()函数选定数据子集，并分别叠加绘制在p1上,直至所有空白子图都绘制完成。子图的geom_xxx()可以各不相同。\n\r\r一个样本案例可以参照：\n# for column select\rgot_vars \u0026lt;- c(\u0026quot;bigtractor\u0026quot;,\u0026quot;bigtractor1\u0026quot;, \u0026quot;smalltractor\u0026quot;, \u0026quot;smalltractor1\u0026quot;, \u0026quot;match_big\u0026quot;, \u0026quot;match_small\u0026quot;)\r# gather for facet\rsmry_tractor \u0026lt;- smry %\u0026gt;%\rfilter(region_pro == \u0026quot;旱区\u0026quot;) %\u0026gt;%\rselect(one_of(c(\u0026quot;year\u0026quot;, \u0026quot;region_pro\u0026quot;, got_vars))) %\u0026gt;%\rgather(key=\u0026quot;variables\u0026quot;, value=\u0026quot;value\u0026quot;, bigtractor:match_small) %\u0026gt;%\rmutate(mark = as.factor(if_else(str_detect(variables, \u0026quot;bigtractor.?\u0026quot;), \u0026quot;bigtractor\u0026quot;,\rif_else(str_detect(variables, \u0026quot;^smalltractor\u0026quot;),\r\u0026quot;smalltractor\u0026quot;,\rif_else(str_detect(variables, \u0026quot;^match\u0026quot;),\r\u0026quot;match\u0026quot;,\r\u0026quot;NA\u0026quot;))))) %\u0026gt;%\rmutate(mark= fct_relevel(mark,\u0026quot;bigtractor\u0026quot;, \u0026quot;smalltractor\u0026quot;, \u0026quot;mathch\u0026quot;))\r# list for facet labels list_chn \u0026lt;- c(bigtractor=\u0026quot;中大型及配套(万台)\u0026quot;,\rsmalltractor=\u0026quot;小型及配套(万台)\u0026quot;, match=\u0026quot;配套比(%)\u0026quot;)\r# base plot\rp0 \u0026lt;- ggplot(smry_tractor, aes(factor(year), value)) +\rfacet_grid(mark~., scales = \u0026quot;free\u0026quot;,\rlabeller = labeller(mark = list_chn)) +\rlabs(x =\u0026quot;年份\u0026quot;, y=\u0026quot;\u0026quot;) +\rtheme(axis.title.x = element_text(margin = margin(t = 10, r = 0, b = 0, l = 0)),\rstrip.text.y = element_text(size = 8)) # tune facet label font size\r# raw 1 plot list_big \u0026lt;- c(\u0026quot;bigtractor\u0026quot;, \u0026quot;bigtractor1\u0026quot;) # for subset\rlist_text \u0026lt;- c(\u0026quot;中大型\u0026quot;, \u0026quot;中大型配套\u0026quot;, \u0026quot;小型\u0026quot;, \u0026quot;小型配套\u0026quot;) # for legend text\rp1 \u0026lt;- p0 +\rgeom_bar( subset(smry_tractor, variables %in% list_big),\rmapping = aes(fill = variables),\rstat = \u0026quot;identity\u0026quot;, position = \u0026quot;stack\u0026quot;) +\rgeom_text( subset(smry_tractor, variables %in% list_big),\rmapping = aes(label = round(value,0)),\rposition = position_stack(vjust = 0.7), size =3) +\rscale_fill_discrete(name = \u0026quot;\u0026quot;, labels = list_text)\r# raw 2 plot list_small \u0026lt;- c(\u0026quot;smalltractor\u0026quot;, \u0026quot;smalltractor1\u0026quot;) # for subset\rp2 \u0026lt;- p1 +\rgeom_bar( subset(smry_tractor, variables %in% list_small),\rmapping = aes(fill = variables),\rstat = \u0026quot;identity\u0026quot;, position = \u0026quot;stack\u0026quot;) +\rgeom_text( subset(smry_tractor, variables %in% list_small),\rmapping = aes(label = round(value,0)),\rposition = position_stack(vjust = 0.7), size =3) +\rscale_fill_discrete(name = \u0026quot;\u0026quot;, labels = list_text)\r# raw 3 plot list_match \u0026lt;- c(\u0026quot;match_big\u0026quot;, \u0026quot;match_small\u0026quot;) # for subset\rlist_text \u0026lt;- c(\u0026quot;中大型\u0026quot;, \u0026quot;小型\u0026quot;) # for legend text\rp3 \u0026lt;- p2 +\rgeom_line( subset(smry_tractor, variables %in% list_match),\rmapping = aes(linetype = variables, group = variables)) +\rgeom_point( subset(smry_tractor, variables %in% list_match),\rmapping = aes(color = variables, group = variables)) +\rgeom_text_repel( subset(smry_tractor, variables %in% list_match),\rmapping = aes(label = formatC(value,1, format = \u0026quot;f\u0026quot;)), direction =\u0026quot;both\u0026quot;, size =3) +\rscale_linetype_discrete(name = \u0026quot;\u0026quot;, labels = list_text) +\rscale_color_discrete(name = \u0026quot;\u0026quot;, labels = list_text) +\rguides(fill = guide_legend(order = 1)) # tune legend order\rp3\r\rFigure 1: include_graphics函数方法插入图片\r\r\r\rggplot2: Three Variable Time Series Panel Chart↩︎\n\rA GGPLOT TRICK TO PLOT DIFFERENT PLOT TYPES IN FACETS↩︎\n\r\r\r","date":1583539200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1583539200,"objectID":"83320adc39d5712cfe95e4d15ece9f65","permalink":"https://huhuaping.netlify.app/2020/03/07/ggplot2-refined-adjustment-skills/","publishdate":"2020-03-07T00:00:00Z","relpermalink":"/2020/03/07/ggplot2-refined-adjustment-skills/","section":"post","summary":"调整轴题与轴标签之间的间距\rgeom_text()如何控制字体大小\r如何给geom_hline()添加图例\r保持读取csv编码正确\rfacet_grid() 实现多种图形并存\r\r\r调整轴题与轴标签之间的间距\rIncrease distance between text and title on the y-axis\nggplot(mpg, aes(cty, hwy)) + geom_point()+\rtheme(axis.title.y = element_text(margin = margin(t = 0, r = 20, b = 0, l = 0)))\r\rgeom_text()如何控制字体大小\r首先，geom_text()的size是按mm计量的。所以并不是跟font size一样的计量规则。所以不要混同二者的度量尺度。（参看The size in geom_text is not a font size）","tags":["ggplot2"],"title":"ggplot2绘图细节及美化技巧","type":"post"},{"authors":[],"categories":["Econometrics"],"content":"\r\r专著类\r编著类\r\r\r专著类\rWooldridge, J. M. Econometric Analysis of Cross Section and Panel Data [M], MIT press, 2010.\n\rBaltagi, B. H. Econometric analysis of panel data [M]. Chichester (West Sussex), John Wiley \u0026amp; Sons, Inc., 2013.\n\rTsounis, N. and A. Vlachvei. ADVANCES IN PANEL DATA ANALYSIS IN APPLIED ECONOMIC RESEARCH [M], SPRINGER, 2017.\n\rErik, B. Econometrics of panel data : methods and applications [M], Oxford University Press, 2017.\n\rCroissant, Y. and G. Millo. Panel data econometrics with R [M]. Hoboken, John Wiley \u0026amp; Sons, 2019.\n\r\r\rR编程建模实现，与Baltagi的专著相呼应。\n\r\r编著类\rBaltagi, B. H. The Oxford handbook of panel data [M], Oxford press, 2015.\n\rTsionas, M. Panel Data Econometrics: Theory [M], Academic Press, 2019.\n\rTsionas, M. Panel Data Econometrics: Empirical Applications [M], Academic Press, 2019.\n\r\r\r","date":1582156800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1582208540,"objectID":"8f8352b9b04d4bc82887b7c330353434","permalink":"https://huhuaping.netlify.app/2020/02/20/pannel-data-books-collection/","publishdate":"2020-02-20T00:00:00Z","relpermalink":"/2020/02/20/pannel-data-books-collection/","section":"post","summary":"汇总了关于面板数据分析的经典教材和编著","tags":[],"title":"面板数据学习书籍清单","type":"post"},{"authors":null,"categories":["Git"],"content":"\r\r确认是否本地存有密钥\r生成SSH key\r查看并拷贝密钥\r把密钥添加到github账号\r\r\r许多 Git 服务器都使用 SSH 公钥进行认证。为了向Git服务器提供SSH公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。简单说，如果本地电脑采用SSH key来与服务器对话，就能省去繁复的账号密码输入过程。\n确认是否本地存有密钥\r首先，你需要确认自己是否已经拥有密钥。默认情况下，用户的SSH密钥存储在其~/.ssh目录下。进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：\n$ cd ~/.ssh\r$ ls\r\r生成SSH key\r打开gitbash，输入如下代码:\n$ ssh-keygen -t rsa -b 4096 -C \u0026quot;your_email@example.com\u0026quot;\r\r用自己的github账号邮箱替换上面的邮箱\n\r如果提示文件夹，默认即可，直接按Enter\n\r如果提示密码，不设密码的话，也直接按Enter\n\r\r确保已经运行密钥：\n$ eval $(ssh-agent -s)\r把密钥添加到本地代理：\n$ ssh-add ~/.ssh/id_rsa\r\r查看并拷贝密钥\r默认生成路径下，可以输入如下代码查看密钥：\n$ cat ~/.ssh/id_rsa.pub\r\r拷贝到剪贴板：\n$ clip \u0026lt; ~/.ssh/id_rsa.pub\r# Copies the contents of the id_rsa.pub file to your clipboard\r\r把密钥添加到github账号\r\r账号登陆github\n\r点击头像，下拉点击setting\n\r点击SSH and GPG keys\n\r点击New SSH key 或者 Add SSH key\n\r粘贴密钥\n\rtitle命名备注\n\r点击 Add SSH key\n\r\r\r","date":1581724800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1581724800,"objectID":"28dcef37ffd911340c3e7552240b1ddd","permalink":"https://huhuaping.netlify.app/2020/02/15/ssh-key-for-github/","publishdate":"2020-02-15T00:00:00Z","relpermalink":"/2020/02/15/ssh-key-for-github/","section":"post","summary":"确认是否本地存有密钥\r生成SSH key\r查看并拷贝密钥\r把密钥添加到github账号\r\r\r许多 Git 服务器都使用 SSH 公钥进行认证。为了向Git服务器提供SSH公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。简单说，如果本地电脑采用SSH key来与服务器对话，就能省去繁复的账号密码输入过程。\n确认是否本地存有密钥\r首先，你需要确认自己是否已经拥有密钥。默认情况下，用户的SSH密钥存储在其~/.ssh目录下。进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：\n$ cd ~/.ssh\r$ ls\r\r生成SSH key\r打开gitbash，输入如下代码:\n$ ssh-keygen -t rsa -b 4096 -C \u0026quot;your_email@example.","tags":["SSH"],"title":"给github帐号添加SSH key","type":"post"},{"authors":null,"categories":["Research"],"content":"\r\r\r工具和准备\r安装工具软件\rdocker配置准备\rRSelenium相关操作\r\r一个实例：抓取并下载智慧教学云平台资料\r案例数据抓取的目标\r案例数据抓取的特点\rR代码实现\r\r\r\r工具和准备\r安装工具软件\r\r下载安装docker 官网\n\r一个教程供学习：A Docker Tutorial for Beginners\r\rRstudio中安装RSelenium包 官网\n\r\r# install.packages(\u0026quot;devtools\u0026quot;)\rdevtools::install_github(\u0026quot;ropensci/RSelenium\u0026quot;)\r\r下载安装TightVNC用于查看实时交互。官网\n\r一份说明供学习：Debugging Using VNC\r\r\r\rdocker配置准备\r\r注册docker hub账号（非必须）\n\r配置国内镜像站点（强烈建议）。速度将明显改观！具体参看材料\n\r使用docker命令拉取selenium -chrome镜像（请根据自己的浏览器选择，chrome或者firefox）\n\r\r在Rstudio的Terminal窗口中执行如下命令！\n\r启动docker服务：\r\r$ docker run -d -p 4445:4444 selenium/standalone-chrome\r\rRSelenium相关操作\r使用RSelenium包控制浏览器主要依靠remoteDriver系列函数。简单操作命令如下。可参考网络材料\nlibrary(RSelenium)\rremDr \u0026lt;- remoteDriver(browserName =\u0026quot;chrome\u0026quot;)\r# 打开浏览器\rremDr$open()\r# 关闭浏览器\rremDr$quit() # 直接退出\rremDr$close() # close用于关闭当前会话，也可以用作关闭浏览器\r# 打开网页\rurl \u0026lt;- \u0026#39;http://www.baidu.com\u0026#39;\rremDr$navigate(url)\r# 关闭网页\rremDr$closeWindow()\r# 打开网页\rurl \u0026lt;- \u0026#39;http://www.baidu.com\u0026#39;\rremDr$navigate(url)\r# 定位\rxpath \u0026lt;- \u0026#39;//*[@id=\u0026quot;su\u0026quot;]\u0026#39;\rbtn \u0026lt;- remDr$findElement(using = \u0026#39;xpath\u0026#39;, value = xpath)\r# 单击\rbtn$clickElement()\r\r\r一个实例：抓取并下载智慧教学云平台资料\r案例数据抓取的目标\r\r目标是获得全部视频（83x3= 249）的下载地址。\n\r整理各个视频的基本信息，用于下载视频后期的准确重命名（下载地址url是一串字符而已）。\n\r\r登录后的目标页面：\n\r案例数据抓取的特点\r\r需要账号/密码登陆\n\r动态网页：可能会碰到JavaScript、下拉选择等操作\n\r网站可能随时调整：例如视频材料定期清除\n\r\r\rR代码实现\r# useful packages\rlibrary(RSelenium)\rlibrary(wdman)\rlibrary(\u0026quot;XML\u0026quot;)\rlibrary(\u0026quot;tidyverse\u0026quot;)\rlibrary(xml2)\rlibrary(rvest)\r# remote driver\rremDr \u0026lt;- RSelenium::remoteDriver(remoteServerAddr = \u0026quot;localhost\u0026quot;,\rport = 4445L,\rbrowserName = \u0026quot;chrome\u0026quot;)\rremDr$open()\r# navigate to the website of interest\rremDr$navigate(\u0026quot;http://172.26.3.11:8080/\u0026quot;)\r# check on there\rremDr$screenshot(display = TRUE)\r# login info\rremDr$findElement(\u0026quot;id\u0026quot;, \u0026quot;username\u0026quot;)$sendKeysToElement(list(\u0026quot;your-id\u0026quot;))\rremDr$findElement(\u0026quot;id\u0026quot;, \u0026quot;password\u0026quot;)$sendKeysToElement(list(\u0026quot;your-password\u0026quot;))\rremDr$findElement(\u0026quot;css\u0026quot;, \u0026quot;.login-aside input[type=\u0026#39;submit\u0026#39;]\u0026quot;)$clickElement()\r# check again\rremDr$screenshot(display = TRUE)\r# click my video\rremDr$navigate(\u0026quot;https://ylb.nwafu.edu.cn/ICloudRecordPlay/teacherVideoManagement\u0026quot;)\r# click one year (avoid random jump)\rremDr$findElement(using = \u0026quot;css\u0026quot;, \u0026quot;#body \u0026gt; div.mod-filter \u0026gt; dl:nth-child(1) \u0026gt; dd \u0026gt; a:nth-child(1)\u0026quot;)$clickElement()\r# click page 2\rremDr$findElement(using = \u0026quot;css\u0026quot;, \u0026quot;#body \u0026gt; div.bootstrap-table \u0026gt; div.fixed-table-container \u0026gt; div.fixed-table-pagination \u0026gt; div.pull-right.pagination \u0026gt; ul \u0026gt; li:nth-child(3) \u0026gt; a\u0026quot;)$clickElement()\rremDr$screenshot(display = TRUE)\r# set page number css (number 1 begin with par 2)\rpage_total \u0026lt;- 6\rpage_css \u0026lt;- paste0(\u0026quot;#body \u0026gt; div.bootstrap-table \u0026gt; div.fixed-table-container \u0026gt; div.fixed-table-pagination \u0026gt; div.pull-right.pagination \u0026gt; ul \u0026gt; li:nth-child(\u0026quot;, 1:page_total+1, \u0026quot;) \u0026gt; a\u0026quot;)\r# set download page (click \u0026quot;下载\u0026quot;)\ritem_total \u0026lt;- 15\rpos \u0026lt;- paste(\u0026quot;#courseTable \u0026gt; tbody \u0026gt; tr:nth-child(\u0026quot;, 1:item_total,\u0026quot;) \u0026gt; td:nth-child(6) \u0026gt; a:nth-child(2)\u0026quot;, sep =\u0026quot;\u0026quot;)\rpageinfo \u0026lt;- NULL\r#----- page loop --------\rfor (i in 1:5){\r# click one year (avoid random jump)\r#remDr$findElement(using = \u0026quot;css\u0026quot;, \u0026quot;#body \u0026gt; div.mod-filter \u0026gt; dl:nth-child(1) \u0026gt; dd \u0026gt; a:nth-child(1)\u0026quot;)$clickElement()\r# set chromeDriver window size (very important! for page number \u0026gt;3)\rremDr$setWindowSize(1600, 900)\r# click the page number(number 1 begin with par 2)\rremDr$findElement(using = \u0026quot;css\u0026quot;, page_css[6] )$clickElement()\r# wait load page\rSys.sleep(2)\rremDr$screenshot(display = TRUE)\r# look for table element\rtableElem \u0026lt;- remDr$findElement(using = \u0026quot;id\u0026quot;, \u0026quot;courseTable\u0026quot;)\r# Html output\rtxt \u0026lt;- tableElem$getElementAttribute(\u0026quot;outerHTML\u0026quot;)[[1]]\r# scrape the date and room v_date \u0026lt;- txt %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;tbody\u0026quot;) %\u0026gt;% xml_nodes(\u0026quot;td:nth-child(2)\u0026quot;) %\u0026gt;% xml_text()\rv_room \u0026lt;- txt %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;tbody\u0026quot;) %\u0026gt;% xml_nodes(\u0026quot;td:nth-child(4)\u0026quot;) %\u0026gt;% xml_text()\r# tidy data.frame\rinfo_tem \u0026lt;- data.frame(date=v_date, room =v_room) #----- loop for download url-------\rurl \u0026lt;- NULL\rfor (i in 1:8 ){\r# click and open window\rremDr$findElement(using = \u0026quot;css\u0026quot;, pos[i])$clickElement()\rSys.sleep(1)\r#remDr$setImplicitWaitTimeout(milliseconds = 10000)\rremDr$screenshot(display = TRUE)\r# look for download element\rdownElem \u0026lt;- remDr$findElement(using = \u0026quot;css\u0026quot;, \u0026quot;#downloadVideo-modal \u0026gt; div \u0026gt; div\u0026quot;)\rtxt_down \u0026lt;- downElem$getElementAttribute(\u0026quot;outerHTML\u0026quot;)[[1]]\r# get attributes\rurl_down \u0026lt;- txt_down %\u0026gt;% read_html() %\u0026gt;% xml_nodes(\u0026quot;div \u0026gt;div \u0026gt; a\u0026quot;) %\u0026gt;% xml_attr(\u0026quot;href\u0026quot;)\r# close the float window\rremDr$findElement(using = \u0026quot;css\u0026quot;, \u0026quot;#closePicResourceDetail-modal \u0026gt; span\u0026quot;)$clickElement()\rurl_tem \u0026lt;- t(data.frame(url_down)) %\u0026gt;% as_tibble() url \u0026lt;- rbind(url, url_tem)\r}\rpageinfo_tem \u0026lt;- bind_cols(info_tem, url) pageinfo \u0026lt;- bind_rows(pageinfo, pageinfo_tem)\r}\r# close drivers\rremDr$getStatus()\rremDr$closeWindow()\r# tidy data pageinfo_ok \u0026lt;- pageinfo %\u0026gt;%\rgather(key = \u0026quot;VideoAngle\u0026quot;, value = \u0026quot;url\u0026quot;, V1:V3) %\u0026gt;%\rseparate(col = \u0026quot;date\u0026quot; , into = c(\u0026quot;date\u0026quot;,\u0026quot;week\u0026quot;, \u0026quot;weekday\u0026quot;, \u0026quot;slot\u0026quot;), sep = \u0026quot; \u0026quot;) %\u0026gt;%\rarrange(date, week, weekday, slot,room) %\u0026gt;%\rmutate(VideoRole= recode(VideoAngle,\u0026quot;V1\u0026quot;=\u0026quot;teacher\u0026quot;,\u0026quot;V2\u0026quot;=\u0026quot;student\u0026quot;, \u0026quot;V3\u0026quot;=\u0026quot;slide\u0026quot;)) %\u0026gt;%\rmutate(exist= if_else(url==\u0026quot;javascript:void(0)\u0026quot;, \u0026quot;NO\u0026quot;, \u0026quot;YES\u0026quot;)) %\u0026gt;%\rmutate(week.en = str_c(\u0026quot;week\u0026quot;,str_extract(week, \u0026#39;[:digit:]\u0026#39;)),\rslot.en = str_c(\u0026quot;slot\u0026quot;,str_extract(slot, \u0026quot;[:digit:]\u0026quot;))) %\u0026gt;%\r#mutate( weekday.en =weekday) %\u0026gt;%\rmutate(weekday.en =recode(weekday, \u0026quot;星期一\u0026quot;=\u0026quot;1\u0026quot;, \u0026quot;星期二\u0026quot;=\u0026quot;2\u0026quot;,\u0026quot;星期三\u0026quot;=\u0026quot;3\u0026quot;,\r\u0026quot;星期四\u0026quot;=\u0026quot;4\u0026quot;,\u0026quot;星期五\u0026quot;=\u0026quot;5\u0026quot;)) %\u0026gt;%\rmutate(weekday.en =str_c(\u0026quot;weekday\u0026quot;,weekday.en)) %\u0026gt;%\rmutate(dir= str_c(\rstr_c(date, week.en, weekday.en, slot.en, VideoRole, sep=\u0026quot;-\u0026quot;),\r\u0026quot;.mp4\u0026quot;)\r) # export file\rxlsx::write.xlsx2(pageinfo_ok, \u0026quot;page-info-ok.xlsx\u0026quot;)\r\r\r","date":1581206400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1581206400,"objectID":"a91e62f622caa2d944ff702361a51429","permalink":"https://huhuaping.netlify.app/2020/02/09/dynamic-web-scraping/","publishdate":"2020-02-09T00:00:00Z","relpermalink":"/2020/02/09/dynamic-web-scraping/","section":"post","summary":"工具和准备\r安装工具软件\rdocker配置准备\rRSelenium相关操作\r\r一个实例：抓取并下载智慧教学云平台资料\r案例数据抓取的目标\r案例数据抓取的特点\rR代码实现\r\r\r\r工具和准备\r安装工具软件\r\r下载安装docker 官网\n\r一个教程供学习：A Docker Tutorial for Beginners\r\rRstudio中安装RSelenium包 官网\n\r\r# install.","tags":["webscrape"],"title":"R+docker进行动态网页数据抓取","type":"post"},{"authors":null,"categories":null,"content":"\r第20章：结构方程模型的估计方法\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","date":1575129600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575129600,"objectID":"674d468b84bcc8a21bce70778b49c0be","permalink":"https://huhuaping.netlify.app/course-econometrics-master/sem-part03-estimation/","publishdate":"2019-12-01T00:00:00+08:00","relpermalink":"/course-econometrics-master/sem-part03-estimation/","section":"course-econometrics-master","summary":"\r第20章：结构方程模型的估计方法\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","tags":null,"title":"模块2：联立方程模型SEM","type":"docs"},{"authors":null,"categories":null,"content":"\rtrue\r\r计量经济学II：复习资料(要点、试题和答案)\r大礼包1（右键下载）：2018年秋学期的考试真题.pdf\n大礼包2（右键下载）：2018年秋学期的复习提要.pdf\n大礼包3（点击进入）：2018年秋学期的试题参考答案（网页版）\n大礼包4（点击进入）：2019年秋学期的复习提要（网页版）\n说明：\n\r以上资料不作为最新课程考试的最终依据，仅供参考！\n\r每年考试题型和风格可能都会变化，以最新课程考试要求为准！\n\r研究生计量课程学习既需要体系性，也需要有侧重点，尤其注重实证案例的分析和应用。\n\r\r\r","date":1575129600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575129600,"objectID":"0487a5286e9accbc3422fc9210c71d4e","permalink":"https://huhuaping.netlify.app/course-econometrics-master/ecno-master-2018-2019-fall/","publishdate":"2019-12-01T00:00:00+08:00","relpermalink":"/course-econometrics-master/ecno-master-2018-2019-fall/","section":"course-econometrics-master","summary":"\rtrue\r\r计量经济学II：复习资料(要点、试题和答案)\r大礼包1（右键下载）：2018年秋学期的考试真题.pdf\n大礼包2（右键下载）：2018年秋学期的复习提要.pdf\n大礼包3（点击进入）：2018年秋学期的试题参考答案（网页版）\n大礼包4（点击进入）：2019年秋学期的复习提要（网页版）\n说明：\n\r以上资料不作为最新课程考试的最终依据，仅供参考！\n\r每年考试题型和风格可能都会变化，以最新课程考试要求为准！\n\r研究生计量课程学习既需要体系性，也需要有侧重点，尤其注重实证案例的分析和应用。\n\r\r\r","tags":null,"title":"计量经济学II复习资料(要点、试题和答案)","type":"docs"},{"authors":null,"categories":["Research"],"content":"\r\r怎么跟指导老师打交道？\r第一轮沟通（谈初步想法）\r第二轮沟通（落实实证数据和分析模型）\r第三轮沟通（明确创新点）\r第四轮沟通（论文初稿，提出自己的困难和问题，尝试解决）\r第五轮沟通（论文完善、改进）\r\r本科生选题的基本原则\r关于选题要以“问题导向”\r研究内容和研究方案的几点建议\r\r\r怎么跟指导老师打交道？\r论文选题到写作的整个流程，老师和学生能否有效沟通，很大程度上决定着研究质量改进的程度！\n有两种典型的沟通状态：\n\r学生很积极，一有机会就找老师谈自己的想法。但学生碰到困难就躲避，选题经常变换；学生没有全局观，经常掉入各种技术细节的泥沼，碰到问题就找老师，而不是尝试自己先想办法解决。\n\r学生有了一个想法，就开始闷头做，与老师极少沟通。学生不看别人已有的研究成果（文献），或者只是粗略地看一些很浅的新闻报道。\n\r\r如果是跟我沟通交流，大家一定要带问题带话题来！请按如下“姿势”进行：\n第一轮沟通（谈初步想法）\r这一轮沟通主要是把你的初步想法提出来，表达清楚，写得明白！可以是“拿来主义”！先模仿别人写得好的文章来！什么是比较好的文章？估计你很难判断。那么你就找期刊级别是属于中文核心（北大或南京大学的）、CSSCI、SCI或SSCI的！！请带如下带问题带话题来：\n\r老师，我想做【题目】为“XXXXXX”（题目不超过20字）的研究，我的【研究内容和设计】是XXXXXXXXXXX（不超过200字）。\r我是基于对这篇（或若干篇）科研文献“XXXXXXX”的阅读获得的灵感。（1）请对文献标明：期刊名、年、卷、期；（2）请提供这几篇【科研文献】的电子版（.pdf或.caj）。\r\r\r注意：次轮沟通可能要反复进行多次。建议要真正地看一两篇直接相关的英文文章！！！\n\r第二轮沟通（落实实证数据和分析模型）\r这一步主要沟通研究的可操作性问题。一是你的实证数据（一手调查数据或者二手数据）是否拿得到？二是分析模型能不能搞得定？\n\r老师，我的【题目】初步定为“XXXXXXXXX”（题目不超过20字），我的研究内容和设计进一步明确了，具体是XXXXXXXXXXX（不超过200字）。——经过前面交流，不断改进！\r我是基于对这篇（或若干篇）【科研文献】“XXXXXXX”的阅读获得的灵感，这篇文章的数据来源是XXXXXXXX（不超过100字），我也能拿到这样的数据。我的数据来源是XXXXXXX。这是我初步的【数据表】（请提供数据.xls或.csv等）。\r对这篇（或若干篇）科研文献“XXXXXXX”的分析模型是XXXXX方法，我也可以用他这个方法。我的【理论模型和分析方法】具体是这样的XXXXXXXX（不超过200字）。\r\r\r\r第三轮沟通（明确创新点）\r注意学术规范，切忌完全复制或照搬别人的文章！！多多思考，多多分析，最后要实现“我们不一样！”！我的文章起码有一个创新点！！！\n\r老师，我的【题目】进一步确定为“XXXXXXXXX”（题目不超过20字），我的研究内容和设计进一步明确了，具体是XXXXXXXXXXX（不超过200字）。——经过前面交流，不断改进！\r我是基于对这篇（或若干篇）科研文献“XXXXXXX”的阅读获得的灵感，我跟这篇文章最大的【不同点】是XXXXXXXX（不超过200字），这就是我的创新点。\r\r\r\r第四轮沟通（论文初稿，提出自己的困难和问题，尝试解决）\r写作每一篇论文，必然会碰到困难和问题！不要随意就投降、屈服！先把问题指出来、列出来，然后自己尝试找到可行的解决办法！再跟老师来沟通！\n\r老师，这是我的【论文初稿】（要按论文写作格式和规范来！！）\r我的论文还有很多地方不成熟。下面是我碰到的一些【困难和问题列表和我的解决办法】XXXXXXX（不超过500字，列出一个清单来，按急迫和重要程度来列1、2、3、）。\r\r\r\r第五轮沟通（论文完善、改进）\r论文都是改出来的！！每次一小步，最终成大器！\n\r老师，这是我的【论文修改稿】。我这次的【论文改进主要有】XXXXXX（不超过200字，列出一个清单来，按修改的重要程度来列1、2、3、）。\r与老师沟通后，老师会进一步提出修改意见，请把老师的【修改意见】汇总起来，回去自己抓紧修改，有问题的话就继续下一轮沟通！！\r\r\r\r\r本科生选题的基本原则\r\r专业导向：与自己所学专业相关\n\r问题导向：题目应有明确的科学问题。\n\r可操作性：数据获取可行，可以利用身边、老家等资源。\n\r理论性：科创论文不是调研报告，应有一定的理论高度。\n\r具体性：题目要具体要小，切记出现“我国”这样的宏大字眼。\n\r\r\r关于选题要以“问题导向”\r选题要以“问题导向”，就是说你的研究应该着眼于社会实际问题、民生疾苦问题等，目标是解释社会问题、解决社会问题、缓解民生疾苦。选题不应该空谈阔论，不能无病呻吟！\n简单的比喻：\n\r你现在是医生，你要研究一个病人，那首先应该搞清楚病人有什么问题（病症）？\n\r你现在是研究者，你要研究一个社会现象，那你要研究的社会现象有什么实际问题？\n\r\r建议大家多用经济学的思维来看待和思考问题。学以致用，好多同学都没有把现实问题看得足够深。\n\r研究内容和研究方案的几点建议\r研究方案写作中大家应反复思考如下几个问题是否能搞定：\n分析用的数据是否可行？\n\r明确数据获取方式？（问卷调研/统计数据/商业统计数据/网络爬取数据）\r明确要获得多少数据样本？（样本数/年度数据/月度数据/周数据……，有多少样本点？）\r明确数据变量有哪些？（如影响因素变量都有哪些？能得到数据么？）\r\r研究的理论问题与实证模型是否一致？\n\r有没有一个相对明确的分析思路？（如绩效分析需要AHP层次分析法）\r在这个分析思路下，有没有找到一个对应的分析模型？（如logistics模型等）\r\r研究内容提纲是否明确和具体？\n\r研究内容要写具体一点，要写到三级标题（章-节-点）。\r\r参考文献阅读是否充分？\n\r要懂得站在巨人的肩膀上的价值！\r要先学会“拿来主义”！\r阅读量要足够：起码15篇中文文献，5-10篇外文文献\r文献的质量要高：中文起码要CSSCI或中文核心期刊索引，外文文献应该是SSCI或SCI！\r\r\r","date":1571270400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571270400,"objectID":"84e516b02b3801db0422a0490672e042","permalink":"https://huhuaping.netlify.app/2019/10/17/how-to-do-research-for-undergraduate-students/","publishdate":"2019-10-17T00:00:00Z","relpermalink":"/2019/10/17/how-to-do-research-for-undergraduate-students/","section":"post","summary":"怎么跟指导老师打交道？\r第一轮沟通（谈初步想法）\r第二轮沟通（落实实证数据和分析模型）\r第三轮沟通（明确创新点）\r第四轮沟通（论文初稿，提出自己的困难和问题，尝试解决）\r第五轮沟通（论文完善、改进）\r\r本科生选题的基本原则\r关于选题要以“问题导向”\r研究内容和研究方案的几点建议\r\r\r怎么跟指导老师打交道？\r论文选题到写作的整个流程，老师和学生能否有效沟通，很大程度上决定着研究质量改进的程度！\n有两种典型的沟通状态：\n\r学生很积极，一有机会就找老师谈自己的想法。但学生碰到困难就躲避，选题经常变换；学生没有全局观，经常掉入各种技术细节的泥沼，碰到问题就找老师，而不是尝试自己先想办法解决。\n\r学生有了一个想法，就开始闷头做，与老师极少沟通。学生不看别人已有的研究成果（文献），或者只是粗略地看一些很浅的新闻报道。\n\r\r如果是跟我沟通交流，大家一定要带问题带话题来！请按如下“姿势”进行：\n第一轮沟通（谈初步想法）\r这一轮沟通主要是把你的初步想法提出来，表达清楚，写得明白！可以是“拿来主义”！先模仿别人写得好的文章来！什么是比较好的文章？估计你很难判断。那么你就找期刊级别是属于中文核心（北大或南京大学的）、CSSCI、SCI或SSCI的！！请带如下带问题带话题来：\n\r老师，我想做【题目】为“XXXXXX”（题目不超过20字）的研究，我的【研究内容和设计】是XXXXXXXXXXX（不超过200字）。\r我是基于对这篇（或若干篇）科研文献“XXXXXXX”的阅读获得的灵感。（1）请对文献标明：期刊名、年、卷、期；（2）请提供这几篇【科研文献】的电子版（.pdf或.caj）。\r\r\r注意：次轮沟通可能要反复进行多次。建议要真正地看一两篇直接相关的英文文章！！！","tags":["thesis"],"title":"本科生如何入手一个研究项目","type":"post"},{"authors":null,"categories":null,"content":"\r第19章：结构方程模型的识别问题\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","date":1570982400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570982400,"objectID":"390656cf7e700616ca78f38005f5c0ce","permalink":"https://huhuaping.netlify.app/course-econometrics-master/sem-part02-identification/","publishdate":"2019-10-14T00:00:00+08:00","relpermalink":"/course-econometrics-master/sem-part02-identification/","section":"course-econometrics-master","summary":"\r第19章：结构方程模型的识别问题\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","tags":null,"title":"模块2：联立方程模型SEM","type":"docs"},{"authors":null,"categories":null,"content":"\r课程模块介绍\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"7b816cb54f5a2c221bd3151d2ba0929a","permalink":"https://huhuaping.netlify.app/course-econometrics-master/sem-part00-over/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/sem-part00-over/","section":"course-econometrics-master","summary":"\r课程模块介绍\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","tags":null,"title":"课程序言","type":"docs"},{"authors":null,"categories":null,"content":"\r第01章：经典模型\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r家庭收入和支出数据:下载xlsx\r\r\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"854f98b5c515241afc52b9415a0b52fa","permalink":"https://huhuaping.netlify.app/course-econometrics-master/part01-slide-01-reg-basic/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/part01-slide-01-reg-basic/","section":"course-econometrics-master","summary":"\r第01章：经典模型\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r家庭收入和支出数据:下载xlsx\r\r\r","tags":null,"title":"模块1：计量经济学基础","type":"docs"},{"authors":null,"categories":null,"content":"\r第02章：矩阵分析\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r私人消费支出数据:下载xlsx\r\r\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"a17507d0c890320036450cdb8a7ee735","permalink":"https://huhuaping.netlify.app/course-econometrics-master/part01-slide-02-reg-matrix/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/part01-slide-02-reg-matrix/","section":"course-econometrics-master","summary":"\r第02章：矩阵分析\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r私人消费支出数据:下载xlsx\r\r\r","tags":null,"title":"模块1：计量经济学基础","type":"docs"},{"authors":null,"categories":null,"content":"\r第03章：放宽假设\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r（多重共线性）朗利数据:下载xlsx\n\r（异方差）吸烟数据:下载xlsx\n\r（自相关）薪水数据:下载xlsx\n\r\r\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"4cf1f3ed84a7c936b316963b22dd54d4","permalink":"https://huhuaping.netlify.app/course-econometrics-master/part01-slide-03-reg-relax/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/part01-slide-03-reg-relax/","section":"course-econometrics-master","summary":"\r第03章：放宽假设\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r（多重共线性）朗利数据:下载xlsx\n\r（异方差）吸烟数据:下载xlsx\n\r（自相关）薪水数据:下载xlsx\n\r\r\r","tags":null,"title":"模块1：计量经济学基础","type":"docs"},{"authors":null,"categories":null,"content":"\r第04章：扩展方法\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r（虚拟变量）印度工人数据:下载xlsx\r\r\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"32ea9c8a16230c0a610942a841227a16","permalink":"https://huhuaping.netlify.app/course-econometrics-master/part01-slide-04-reg-extention/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/part01-slide-04-reg-extention/","section":"course-econometrics-master","summary":"\r第04章：扩展方法\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n配套案例数据：\n\r（虚拟变量）印度工人数据:下载xlsx\r\r\r","tags":null,"title":"模块1：计量经济学基础","type":"docs"},{"authors":null,"categories":null,"content":"\rtrue\r\r第05章：机器学习\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"1204082b1ce07c43db974f5e2eec845c","permalink":"https://huhuaping.netlify.app/course-advanced-statistics/part05-machine-learning/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-advanced-statistics/part05-machine-learning/","section":"course-advanced-statistics","summary":"\rtrue\r\r第05章：机器学习\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r\r","tags":null,"title":"第05章-机器学习(machine learning)","type":"docs"},{"authors":null,"categories":null,"content":"\r第17章：内生性自变量问题\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"63ecc9660607d28b42e4d6f104b9402a","permalink":"https://huhuaping.netlify.app/course-econometrics-master/sem-part01-endogeneity-variable/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/sem-part01-endogeneity-variable/","section":"course-econometrics-master","summary":"\r第17章：内生性自变量问题\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","tags":null,"title":"模块2：联立方程模型SEM","type":"docs"},{"authors":null,"categories":null,"content":"\r第18章：联立方程模型的表达和本质\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","date":1567958400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567958400,"objectID":"b2caeaf6313cfa216ce572e0d2ec3034","permalink":"https://huhuaping.netlify.app/course-econometrics-master/sem-part01-note-and-nature/","publishdate":"2019-09-09T00:00:00+08:00","relpermalink":"/course-econometrics-master/sem-part01-note-and-nature/","section":"course-econometrics-master","summary":"\r第18章：联立方程模型的表达和本质\r操作提示：\n\r点击课件区域，按F键，可全屏观看\n\r按方向键，可以前进/后退\n\r敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页\n\r\r\r课件pdf下载\n本模块的参考教材章节pdf版本Gujarati, D. and D. Porter. Basic Econometrics (5ed） [M], McGraw-Hill Education, 2008. 第18章、19章、20章\n\r","tags":null,"title":"模块2：联立方程模型SEM","type":"docs"},{"authors":null,"categories":["Git"],"content":"\r\r明确自己git使用的安全环境\r多设备git工作的基本流程\r两步验证下如何正确地clone远程repo\r最后的忠告\r\r\r明确自己git使用的安全环境\rgithub有多重安全条件，用户可以自行决定自己的安全等级。需要注意的是，在多台工作设备下，git需要确认不同设备的使用权限。因此，明确自己的安全环境是多设备工作的第一步：\n\r是否开启两步验证。若开启，在一些重要的安全操作下（登陆账户或删除仓库），就需要获得实时动态密码（token）。动态密码的管理工具包括authy等。\n\r是否设定加密SSH。简单说，如果本地电脑采用SSH key来与服务器对话，就能省去繁复的账号密码输入过程。\n\r\r\r多设备git工作的基本流程\r\r条件准备。主力设备A；新设备B；需要异端工作的sharerepo。\n\r主力设备A：对sharerepo已完成工作进行push，上传到云端。add-commit-push三部曲。\n\r新设备B：创建文件夹，并clone云端的sharerepo。\n\r\r# 明确存放在本地的文件路径\r$ cd /j/github/\r# clone远程sharerepo到本地文件路径下\r$ git clone https://github.com/huhuaping/sharerepo.git\r# 进入本地sharerepo\r$ cd ./sharerepo\r\r工作设备下：pull-edit-add-commit-push 四部曲。\r\r\r两步验证下如何正确地clone远程repo\r\r对于私有仓库，上述方法clone会提示错误。\r\rRepository not found. fatal: repository not found\r\rgithub托管下，两步验证法要求对新设备B设定私有进入授权码。github账号 ——\u0026gt;setting ——\u0026gt;Developer settings ——\u0026gt; personal access tokens ——\u0026gt; generate new token ——\u0026gt;勾选权限范围 ——\u0026gt; 复制授权码备用。\n\rgitbash中输入如下代码colone私有仓库\n\r\r# tokens 也就是上述复制备用的授权码。既不是github账户登录密码，也不是两步验证动态码！\r$ git clone https://username:tokens@github.com/username/repo.git\r\r最后的忠告\r\r在任何终端设备上工作，最后都要记得对修改进行add-commit-push三部曲操作\n\r云端永远保持最新状态！\n\r\r参考资料1\n参考资料2\n\r","date":1567209600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567209600,"objectID":"407c5716c7eb15b4697a08c61b9bf1dd","permalink":"https://huhuaping.netlify.app/2019/08/31/git-with-multiple-devices/","publishdate":"2019-08-31T00:00:00Z","relpermalink":"/2019/08/31/git-with-multiple-devices/","section":"post","summary":"明确自己git使用的安全环境\r多设备git工作的基本流程\r两步验证下如何正确地clone远程repo\r最后的忠告\r\r\r明确自己git使用的安全环境\rgithub有多重安全条件，用户可以自行决定自己的安全等级。需要注意的是，在多台工作设备下，git需要确认不同设备的使用权限。因此，明确自己的安全环境是多设备工作的第一步：\n\r是否开启两步验证。若开启，在一些重要的安全操作下（登陆账户或删除仓库），就需要获得实时动态密码（token）。动态密码的管理工具包括authy等。\n\r是否设定加密SSH。简单说，如果本地电脑采用SSH key来与服务器对话，就能省去繁复的账号密码输入过程。\n\r\r\r多设备git工作的基本流程\r\r条件准备。主力设备A；新设备B；需要异端工作的sharerepo。\n\r主力设备A：对sharerepo已完成工作进行push，上传到云端。add-commit-push三部曲。\n\r新设备B：创建文件夹，并clone云端的sharerepo。\n\r\r# 明确存放在本地的文件路径\r$ cd /j/github/\r# clone远程sharerepo到本地文件路径下\r$ git clone https://github.","tags":["Github","2-Factor authentication"],"title":"多工作设备下的git控制和使用","type":"post"},{"authors":["胡华平"],"categories":["Bookdown"],"content":"\r\r\r1 安装tinyTeX\r2 踩过的Latex各种坑\r\r2.1 千分数\r\r\r\r1 安装tinyTeX\r参看谢益辉TinyTeX\n安装tinytex\r\rinstall.packages(\u0026#39;tinytex\u0026#39;)\rtinytex::install_tinytex()\r测试并调用tlmgr命令安装latex包\r\rwriteLines(c(\r\u0026#39;\\\\documentclass{article}\u0026#39;,\r\u0026#39;\\\\begin{document}\u0026#39;, \u0026#39;Hello world!\u0026#39;, \u0026#39;\\\\end{document}\u0026#39;\r), \u0026#39;test.tex\u0026#39;)\rtinytex::pdflatex(\u0026#39;test.tex\u0026#39;)\r\r2 踩过的Latex各种坑\r2.1 千分数\r注意这里的千分数是指千分之几（也即\\(\\unicode{x2030}\\)），而不是指千分位分隔符（一般用逗点或空格）。\n\rLatex环境下，一般用法有latex包textcomp::\\textperthousand或者wasysym::\\permil\n\rRmarkdown下，最好直接使用\\unicode{x2030}1来输出千分数\\(\\unicode{x2030}\\)。\n\r\r\r\r\r具体可参看。↩︎\n\r\r\r","date":1563235200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612142637,"objectID":"4e0cf5c0d5623aa75f0e0a88af579404","permalink":"https://huhuaping.netlify.app/2019/07/16/work-around-latex-output/","publishdate":"2019-07-16T00:00:00Z","relpermalink":"/2019/07/16/work-around-latex-output/","section":"post","summary":"1 安装tinyTeX\r2 踩过的Latex各种坑\r\r2.1 千分数\r\r\r\r1 安装tinyTeX\r参看谢益辉TinyTeX\n安装tinytex\r\rinstall.packages(\u0026#39;tinytex\u0026#39;)\rtinytex::install_tinytex()\r测试并调用tlmgr命令安装latex包\r\rwriteLines(c(\r\u0026#39;\\\\documentclass{article}\u0026#39;,\r\u0026#39;\\\\begin{document}\u0026#39;, \u0026#39;Hello world!\u0026#39;, \u0026#39;\\\\end{document}\u0026#39;\r), \u0026#39;test.tex\u0026#39;)\rtinytex::pdflatex(\u0026#39;test.","tags":["LaTex","tinyTeX"],"title":"LateX输出的相关设置","type":"post"},{"authors":null,"categories":["Bookdown"],"content":"\r中文字体问题总是会在时不时出来捣乱。今天就碰到了ggplot2绘图时，latex pdf输出和html网页输出显示不一致的问题（类似的 问题报告）。\n问题描述\rgoogle神搜一遍，大家普遍把问题指向：\n\r操作系统OS问题。Linux/Mac OS普遍采用UTF-8编码格式，而Windows系统则坚持GBK编码格式。因此，如果Rstudio里Rmarkdown文件用UTF-8编码，自然就会导致Windowns粉出现悲催的混乱事件。Windowns系统下还可能存在本地字体库不全的问题。\n\r中文字体库问题。除了系统阵营的锅，中文字体本身也会给编码世界带来混乱。其实不单是中文字体，CJK字体库就是专门为了解救中文-日文-韩文字体等东亚语言字体问题的。另外就是，字体库有“真体”（TrueType Collection 字体文件 (.ttc)）等字体版本。因此，latex包\\usepackage{xeCJK}渲染时，可能会提示错误（类似报告1；报告2）\n\rengine或dev问题。第三个锅就是软件的问题了。其一，bookdown下默认的Latex引擎pdflatex对Unicode characters支持不好，需要改用xelatex引擎（yihuixie留爪）。其二，绘图装置dev也有小九九类似报告。最关键的是绘图装置可以自己根据需要设定，包括：dev=‘cairo_pdf’；dev=‘pdf’；dev=‘svg’（见友情提示）。\n\r\r\r解决办法\r（windowns系统）安装缺少的字体库。大概就先去看看“c:/windows/fonts”目录吧！。也可以在R中用package如 \"showtext\"来安装。——不说这个了，都是泪。\n\rlatex中设定header.tex的包调用。最重要的\\usepackage{xeCJK}，大抵如下：\n\r\r\\usepackage{xeCJK}\r%\\setCJKmainfont{SimSun}\r\\setCJKmainfont{宋体} % 字体可以更换\r\\setCJKmonofont{simsun.ttc} % for \\textsf\r\\setmainfont{宋体} % 設定英文字型\r\\setromanfont{Georgia} % 字型\r\\setmonofont{Courier New}\rRmarkdown中设定engine和dev。这个地方倒是有一个逻辑性的问题我之前一直没有弄清楚。engine设好后（如前，最好用xelatex引擎），不同输出形式（pdf、html）对绘图转置dev需求是不一样的，因此需要考虑latex_engine和dev所处的环境。这个环境不一样，控制的范围自然就不同，但大概有三个级别：a. yaml区域的全局性- output环境； b. R代码块的文档级设置；c.特定R代码块的设置。\r\r环境1：yaml区域的全局性设置\routput: bookdown::pdf_document2:\rlatex_engine: xelatex\rdev: cairo_pdf\r\r环境2：R代码块的文档级设置\r{r global_options,echo=FALSE, message=FALSE}\rknitr::opts_chunk$set(fig.align=\u0026#39;center\u0026#39;, dev=\u0026quot;cairo_pdf\u0026quot;,\recho=FALSE, fig.pos = \u0026#39;H\u0026#39;) #\r\r环境3：特定绘图R代码块环境\r{r common-get-sum,echo=FALSE, dev=\u0026quot;cairo_pdf\u0026quot;, message=FALSE,error=FALSE,warning=F, fig.width=10,fig.height=7,fig.cap=\u0026quot;学生累计获得通识课程学分情况\u0026quot;}\rggplot() +\rtheme(text=element_text(family=\u0026quot;Batang\u0026quot;, size=12))\r总结起来，最后的问题解决就是：\n\r更改pdf全局性环境的引擎为latex_engine: xelatex。\n\r更改pdf全局性环境里绘图装置为：dev: cairo_pdf。设好后就不要画蛇添足再在环境2或环境3中做额外配置了。因为控制范围是不一样的！html输出默认绘图转置为dev: cairo_pdf\n\r因为字体库问题，还得在绘图R代码块里指定一个能够显示的字体。如theme(text=element_text(family=\"Batang\", size=12))。\n\r\r最后，html和pdf显示都一致啦！！\n\r","date":1562198400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1562198400,"objectID":"4b152e981c546b2887dde85f33ed4e58","permalink":"https://huhuaping.netlify.app/2019/07/04/chinese-character-in-graph-consistence-with-both-latex-and-html/","publishdate":"2019-07-04T00:00:00Z","relpermalink":"/2019/07/04/chinese-character-in-graph-consistence-with-both-latex-and-html/","section":"post","summary":"中文字体问题总是会在时不时出来捣乱。今天就碰到了ggplot2绘图时，latex pdf输出和html网页输出显示不一致的问题（类似的 问题报告）。\n问题描述\rgoogle神搜一遍，大家普遍把问题指向：\n\r操作系统OS问题。Linux/Mac OS普遍采用UTF-8编码格式，而Windows系统则坚持GBK编码格式。因此，如果Rstudio里Rmarkdown文件用UTF-8编码，自然就会导致Windowns粉出现悲催的混乱事件。Windowns系统下还可能存在本地字体库不全的问题。\n\r中文字体库问题。除了系统阵营的锅，中文字体本身也会给编码世界带来混乱。其实不单是中文字体，CJK字体库就是专门为了解救中文-日文-韩文字体等东亚语言字体问题的。另外就是，字体库有“真体”（TrueType Collection 字体文件 (.ttc)）等字体版本。因此，latex包\\usepackage{xeCJK}渲染时，可能会提示错误（类似报告1；报告2）\n\rengine或dev问题。第三个锅就是软件的问题了。其一，bookdown下默认的Latex引擎pdflatex对Unicode characters支持不好，需要改用xelatex引擎（yihuixie留爪）。其二，绘图装置dev也有小九九类似报告。最关键的是绘图装置可以自己根据需要设定，包括：dev=‘cairo_pdf’；dev=‘pdf’；dev=‘svg’（见友情提示）。\n\r\r\r解决办法\r（windowns系统）安装缺少的字体库。大概就先去看看“c:/windows/fonts”目录吧！。也可以在R中用package如 \"showtext\"来安装。——不说这个了，都是泪。\n\rlatex中设定header.tex的包调用。最重要的\\usepackage{xeCJK}，大抵如下：\n\r\r\\usepackage{xeCJK}\r%\\setCJKmainfont{SimSun}\r\\setCJKmainfont{宋体} % 字体可以更换\r\\setCJKmonofont{simsun.","tags":["LaTex","ggplot2"],"title":"Latex pdf和html输出下ggplot绘图中文字体显示问题","type":"post"},{"authors":["胡华平","周丹"],"categories":null,"content":"研究报告请点击查看(HTML网页形式)；(pdf形式)\n汇报总结请点击查看(slide形式)\n 操作提示：\n  点击课件区域，按F键，可全屏观看 按方向键，可以前进/后退 敲击数字键，再按Enter可进入任意指定的页码。如，敲击数字10，观看第10页  ","date":1562083200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1562083200,"objectID":"92edb2a5715a5e1aed043b6b224c8984","permalink":"https://huhuaping.netlify.app/publication/education-research/","publishdate":"2019-07-03T00:00:00+08:00","relpermalink":"/publication/education-research/","section":"publication","summary":"本项目主要分析了学生课程形式选择、学习投入与学习效果的关系等议题，通过收集了四个年级（2013-2016级）共19452名学生在11个连续学期（2013秋学期-2018春学期）上的通识课程学习相关数据，进行了相关实证分析。本研究实证分析部分重点比较了学生在传统课程和在线课程上的学习行为和学习效果差异。相关实证分析发现：（1）为了完成通识课程模块学分，大部分学生在传统通识课程和在线通识课程之间做出了理性选择和平衡。大部分学生的通识课学分获得任务主要在前两年就会完成，学生在各个观察年的累计获得通识课程总学分基本服从正态分布。学生都会大二学年及以前选择并获得相应的在线课程学分，后续阶段基本就不再通过在线课程平台获得通识课程学分。（2）学生不会因为“新奇”心理而参加在线课程平台（无论是智慧树平台还是尔雅平台），更多只是为了完成通识课学分要求，因而学生的学习行为表现出典型的“理性人”特点。即便是同时拥有两个在线课程平台的选择自由，学生的选课决策和学习行为更多地是受到学分政策、平台依赖性等因素的决定。（3）影响学生选择在线或传统课程方式及学习效果的因素有很多，通过在线课程学习形式选择的倾向得分分析，发现高考分数与一本录取线分差越大、入学年龄越大、理科生、政治面貌为党员、来自农村地区、女生，越**不倾向**于选择在线课程；此外，学生更倾向于认为在线课程和传统课程学习形式在学习决策中具有较强的替代性关系。（4）对于课程学习效果的影响分析中，研究发现是否选择在线课程对课程成绩有显著正向影响。如果某个学生选择在线课程，则会比其选择传统课程高1.5205分。高考分数与录取线的分差对课程学习成绩有显著正向影响，如果一个学生高考分数与录取线（本省一本）的分差35分，那么这一分差水平将会为其带来课程成绩0.7406分的提高。（5）倾向得分分析方法的处置效应结论认为，男生的在线课成绩会潜在低于其传统课程成绩；高考分数与录取线分差小的学生、来自城镇的学生、非东部生源学生，这三类群体在线课程成绩都会潜在高于其传统课程成绩。如果学生能够自由选择在线课程，那么在线课程学习能够提高其课程成绩（ATT为正数）；但是正因为学生有了这种自由选择，却带来了全体学生平均课程成绩的降低（ATE为负数）。基于相关研究和实证结论，本项目进一步构建了在线课程学习效果评价指标体系，指出了学习型社区发展理念的重要实践价值，最后提出了若干政策建议。","tags":["high education research"],"title":"基于学习型社区模式的在线课程学习行为投入、效果评价及优化路径研究","type":"publication"},{"authors":null,"categories":null,"content":"\r\r1 参考教材1：古扎拉蒂-计量经济学基础\r2 参考教材2：李子奈-计量经济学\r\r\r\r友情提示：\r- 因新冠疫情，为方便师生教学，以下材料仅供延迟开学期间学生学习使用，后期将会择机删除。\r- 任何个人和机构不得用于商业目的，如产生法律纠纷，后果一律使用者承担。\r- 支持著者，保护版权！\n\r1 参考教材1：古扎拉蒂-计量经济学基础\r古扎拉蒂,计量经济学基础（上下册）(第5版)[M], 北京:中国人民大学出版社, 2013\n\r第01章 导论 在线浏览或下载\n\r第02章 一元回归分析：基本思想 在线浏览或下载\n\r\r\r2 参考教材2：李子奈-计量经济学\r李子奈,潘文卿. 计量经济学(第四版)[M].高等教育出版社,北京:2015,9\n\r第一章 绪论 (pdf格式，文件大小14.4 MB) 下载站点1；下载站点2;\n\r第二章 经典单方程计量经济学模型：一元线性回归模型 (pdf格式，文件大小13.4 MB) 下载站点1；下载站点2\n\r第三章 经典单方程计量经济学模型：多元线性回归模型 (pdf格式，文件大小19.6 MB) 下载站点1；下载站点2\n\r第四章 经典单方程计量经济学模型：放宽基本假定的模型 (pdf格式，文件大小17.8 MB) 下载站点1；下载站点2\n\r第五章 时间序列计量经济学模型 (pdf格式，文件大小22.1 MB) 下载站点1；下载站点2\n\r\r\r","date":1556294400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556294400,"objectID":"8ee132cd0808126362369e70f8820bd3","permalink":"https://huhuaping.netlify.app/course-econometrics/textbook/","publishdate":"2019-04-27T00:00:00+08:00","relpermalink":"/course-econometrics/textbook/","section":"course-econometrics","summary":"1 参考教材1：古扎拉蒂-计量经济学基础\r2 参考教材2：李子奈-计量经济学\r\r\r\r友情提示：\r- 因新冠疫情，为方便师生教学，以下材料仅供延迟开学期间学生学习使用，后期将会择机删除。\r- 任何个人和机构不得用于商业目的，如产生法律纠纷，后果一律使用者承担。\r- 支持著者，保护版权！\n\r1 参考教材1：古扎拉蒂-计量经济学基础\r古扎拉蒂,计量经济学基础（上下册）(第5版)[M], 北京:中国人民大学出版社, 2013\n\r第01章 导论 在线浏览或下载\n\r第02章 一元回归分析：基本思想 在线浏览或下载","tags":null,"title":"参考资料电子版","type":"docs"},{"authors":null,"categories":null,"content":"\r\r\r1 课程平台\r1.1 个人课程网站\r1.2 学校平台课程\r\r2 在线资源\r3 使用教材\r4 参考教材\r5 软件材料\r6 考核方式\r7 理论课内容\r8 实验课安排\r\r\r1 课程平台\r1.1 个人课程网站\r\r说明：\r1. 个人开发的独立网站，应用R编程语言和Rmarkdown语言开发建设；\r2. 只要设备能联网，就等浏览课程资源（建议使用chrome浏览器）；\r3. 连接速度根据你的电信供应商而定。\n\rPC电脑访问网站：\n\r使用浏览器（chrome或360极速浏览器）登陆个人网站网址huhuaping.com\n\r点击首页导航栏Teaching，然后点击计量经济学（本科）。\n\r\r手机设备访问课程网站：\n\r使用浏览器（chrome、Safari或360极速浏览器）登陆个人网站网址huhuaping.com\n\r手机界面下，需要点击网站导航三道杠。\n\r\r\r1.2 学校平台课程\r\r说明：\r1. 外网可以访问；\r2. 手机端暂时不支持\n\r西北农林科技大学在线教育综合平台，我的课程在平台上运行多年。《计量经济学》（胡华平）课程网址：http://eol.nwsuaf.edu.cn/meol/jpk/course/layout/newpage/index.jsp?courseId=35257\n西北农林科技大学在线教育综合平台，登陆方式：\n\r门户登陆（建议）：西农首页—\u0026gt;（登陆）信息综合服务平台—\u0026gt;（点击进入）网络综合教学平台—\u0026gt;（选择课程）《计量经济学》（胡华平）\r\r\r\r2 在线资源\r课程资源：\n\r教学课件（课堂ppt、实验指导书…）\n\r统计软件（EVieWs、mathtype、office…）\n\r参考图书\n\r\r教学活动：\n\r实验上机作业\n\r实验指导视频…\n\r教学答疑\n\r\r\r3 使用教材\r\r李子奈和潘文卿：《计量经济学》第4版，高等教育出版社，2015\r\r\r4 参考教材\r伍德里奇：《计量经济学导论：现代观点》第5版，中国人民大学出版社，2015.4\n古扎拉蒂：《计量经济学基础》（上下册）第5版，北京：中国人民大学出版社，2013\n\r5 软件材料\r熟练掌握一门计量软件。\nEViews软件（课程指定软件）：\n\r实验室版本：EViews 10.0\n\r软件参考使用书：高铁梅，计量经济分析方法与建模:EViews应用及实例(第3版)，清华大学出版社，2016.12\r]\n\r\rR软件（选用，自学）\n\rAdler, J. R in a Nutshell (2ed) [M], Reilly, 2012.\n\rCrawley, M. J. The R Book (2nd) [M], Wiley, 2013.\n\r\rstata软件（选用，自学）：\n\r陈强：《计量经济学及Stata应用》，高等教育出版社，2015.7\r\r\r6 考核方式\r\r期末成绩（60%）：闭卷考试（务必带上科学计算器）\n\r平时成绩（10%）：考勤+随堂提问\n\r上机实验（30%）：7次实验作业\n\r\r\r7 理论课内容\r\r第1章 导论（2学时）\n\r1.1 科学哲学简介*\n\r1.2 计量经济学的方法论基础*\n\r1.3 计量经济学的内容体系\n\r1.4 计量经济学建模步骤和要点\n\r\r第2章 一元回归分析：基本思想(4学时)\n\r2.1 一个假设的例子\n\r2.2 总体回归函数的概念\n\r2.3 “线性”一词的含义\n\r2.4 总体回归函数\n\r2.5 随机平扰顶的含义\n\r2.6 样本回归函数\n\r2.7 说明性例子\n\r\r第3章 一元回归分析：估计问题（4学时）\n\r3.1 普通最小二乘法\n\r3.2 经典线性回归模型: 最小二乘法的基本假定\n\r3.3 最小二乘估计的精度就标准误\n\r3.4 最小二乘估计量的性质:高斯-马尔可夫定理\n\r3.5 判定系数:“似合优度”的一个度量\n\r3.6 说明性例子\n\r\r第4章 一元回归分析：正态假设（2学时）\n\r4.1 随机干扰项的概率分布\n\r4.2 随机干扰项的正态性假设\n\r4.3 在正态性假设下OLS估计量的性质\n\r4.4 极大似然法\n\r\r第5章 一元回归分析：推断与预测（4学时）\n\r5.1 区间估计: 一些基本思想\n\r5.2 回归系数的置信区间\n\r5.3 回归误差方差的置信区间\n\r5.4 假设检验: 置信区间方法\n\r5.5 假设检验: 显著性检验方法\n\r5.6 假设检验:一些实际操作问题\n\r5.7 回归分析与方差分析\n\r5.8 回归分析的应用:预测问题\n\r5.9 报告回归分析的结果\n\r5.10 评价回归分析的结果\n\r\r第6章 一元回归分析：模型选择（2学时）\n\r6.1 过原点回归\n\r6.2 尺度与测量单位\n\r6.3 标准化变量的回归\n\r6.4 对数模型\n\r6.5 倒数模型\n\r6.6 函数形式的选择\n\r\r第7章 多元回归分析：估计问题（4学时）\n\r7.1 三变量模型:符号与假定\n\r7.2 对多元回归方程的解释\n\r7.3 偏回归系数的含义\n\r7.4 偏回归系数的OLS与ML估计\n\r7.5 多元判定系\\(R2\\)与多元相关系数R\n\r7.6 \\(R^2\\)及调整\\(R^2\\)\n\r\r第8章 多元回归分析：推断与预测（4学时）\n\r8.1 多元回归中的假设检验\n\r8.2 检验关于个别偏回归系数的假设\n\r8.3 检验样本回归的总显著性\n\r8.4 检验两个回归系数是否相等\n\r8.5 受约束的最小二乘法:检验线性等式约束条件\n\r8.6 检验回归模型的结构或稳定性:邹至庄检验\n\r8.7 用多元回归做预测\n\r8.8 假设检验: 似然比、瓦尔德与拉格朗日乘数检验\n\r\r第9章 虚拟变量回归模型（4学时）\n\r9.1 虚拟变量的性质\n\r9.2 ANOVA 模型\n\r9.3 含有两个定性变量的ANOVA模型\n\r9.4 同时含有定性和定量回归元的回归: ANOVA模型\n\r9.5 邹至庄检验的虚拟变量方法\n\r9.6 使用虚拟变量的交互效应\n\r9.7 季节分析中虚拟变量的使用\n\r9.8 分段线性回归\n\r\r第10章 放宽经典假设：多重共线性（6学时）\n\r10.1 多重共线性的性质\n\r10.2 出现完全多重共线性 时的估计问题\n\r10.3 出现“高度”但“不完全”多重共线性的估计问题\n\r10.4多重共线性的理论后果\n\r10.5 多重共线性的实际后果\n\r10.6 说明性的例子\n\r10.7 多重共线性的侦察\n\r10.8 补救措施\n\r10.9 多重共线性一定是坏事吗?\n\r\r第11章 放宽经典假设：异方差性（6学时）\n\r11.1 异方差的性质\n\r11.2 出现异方差性时的OLS 估计\n\r11.3 广义最小二乘法\n\r11.4 出现异方差性时使用OLS的后果\n\r11.5 异方差性的侦察\n\r11.6 补救措施\n\r11.7 总结性的例子\n\r11.8 谨防对异方差性反应过度\n\r\r第12章 放宽经典假设：自相关性（6学时）\n\r12.1 自相关的性质\n\r12.2 出现自相关时的OLS估计量\n\r12.3 自相关出现时的BLUE\n\r12.4 出现自相关时使用OLS的后果\n\r12.5 说明案例：工资与生产率\n\r12.6 侦察自相关\n\r12.7 补救措施\n\r12.8 模型误设与纯粹自相关\n\r12.9 OLS与FGLS和HAC\n\r\r\r\r8 实验课安排\r\r\r序号\r\r实验主题\r\r学时\r\r\r\r\r\rLab 1\r\rEViews软件入门与基本操作\r\r4\r\r\r\rLab 2\r\r一元线性回归及参数估计\r\r4\r\r\r\rLab 3\r\r模型函数形式与模型选择\r\r4\r\r\r\rLab 4\r\r多元线性回归及矩阵运算\r\r4\r\r\r\rLab 5\r\r虚拟变量模型的设置和处理\r\r4\r\r\r\rLab 6\r\r多重共线性的检验与处理\r\r4\r\r\r\rLab 7\r\r异方差模型的检验和处理\r\r4\r\r\r\rLab 8\r\r自相关模型的检验和处理\r\r4\r\r\r\r\r\r","date":1556294400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556294400,"objectID":"c5d9e1e0186965c86e113a1ad23186bf","permalink":"https://huhuaping.netlify.app/course-econometrics/syllabus/","publishdate":"2019-04-27T00:00:00+08:00","relpermalink":"/course-econometrics/syllabus/","section":"course-econometrics","summary":"1 课程平台\r1.1 个人课程网站\r1.2 学校平台课程\r\r2 在线资源\r3 使用教材\r4 参考教材\r5 软件材料\r6 考核方式\r7 理论课内容\r8 实验课安排\r\r\r1 课程平台\r1.1 个人课程网站\r\r说明：\r1.","tags":null,"title":"教学大纲","type":"docs"},{"authors":null,"categories":null,"content":"\r\r\r1 内容安排（48学时）\r2 教学环节\r2.1 （课前）预习材料\r2.2 （课中）教学讲稿\r2.3 （课后）随堂作业\r\r\r\r1 内容安排（48学时）\r下表列出了教学内容和相关材料，大家可以点击观看或下载，并完成相关学习要求。\n\r\r章内容\r\r阅读材料\r\r幻灯片\r\rpdf课件\r\r随堂作业\r\r\r\r\r\r第00章 课程说明\r\r\r\r\r\r\r\r\rPart I 经典假设\r\r\r\r第01章 绪论\r\r\r\r\r\r\r\r\r\r\r第02章 一元回归：基本思想\r\r\r\r\r\r\r\r\r\r第03章 一元回归：估计问题\r\r\r\r\r\r\r\r\r\r\r第04章 一元回归：假设检验\r\r\r\r\r\r\r\r\r\r第05章 一元回归：模型形式\r\r\r\r\r\r\r\r\r\r第06章 多元回归1：代数部分\r\r\r\r\r\r\r\r\r\r第06章 多元回归2：矩阵部分\r\r\r\r\r\r\r\r\rPart II 放宽假设\r\r\r\r第07章 放宽基本假设：多重共线性\r\r\r\r\r\r\r\r\r\r第08章 放宽基本假设：异方差性\r\r\r\r\r\r\r\r\r\r第09章 放宽基本假设：自相关性\r\r\r\r\r\r\r\r\rPart III 模型扩展\r\r\r\r第10章 虚拟变量回归模型\r\r\r\r\r\r\r\r\r\r第11章 内生解释变量问题\r\r\r\r\r\r\r\r\r\r\r\r2 教学环节\r2.1 （课前）预习材料\r上课之前必须阅读提供的相关预习资料。\n\r2.2 （课中）教学讲稿\r你可以用浏览器在线观看讲稿幻灯片。强烈建议360极速浏览器、chrome浏览器、Safari浏览器中任何之一。\n\r通过电脑pc在线观看。主要操作技巧有：\r\r全屏观看：先鼠标点击幻灯片，再按键盘F键；\r退出全屏观看：按键盘Esc键；\r前进后退：点击键盘方向键上/下；或左/右；\r观看指定页码：按键盘数字键输入数字如“56”，再按键盘Enter则会播放第56页幻灯片。\r\r手机可以观看。\r\r建议横屏观看；\r前进后退：点击幻灯片的左/右区域。\r\r\r\r2.3 （课后）随堂作业\r随堂作业应该在课堂内完成，师生讨论并点评。\n\r\r","date":1556294400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556294400,"objectID":"7529168c196738aca55155f0e13c5fcb","permalink":"https://huhuaping.netlify.app/course-econometrics/schedule-theory/","publishdate":"2019-04-27T00:00:00+08:00","relpermalink":"/course-econometrics/schedule-theory/","section":"course-econometrics","summary":"1 内容安排（48学时）\r2 教学环节\r2.1 （课前）预习材料\r2.2 （课中）教学讲稿\r2.3 （课后）随堂作业\r\r\r\r1 内容安排（48学时）\r下表列出了教学内容和相关材料，大家可以点击观看或下载，并完成相关学习要求。\n\r\r章内容\r\r阅读材料\r\r幻灯片\r\rpdf课件\r\r随堂作业\r\r\r\r\r\r第00章 课程说明\r\r\r\r\r\r\r\r\rPart I 经典假设\r\r\r\r第01章 绪论\r\r\r\r\r\r\r\r\r\r\r第02章 一元回归：基本思想\r\r\r\r\r\r\r\r\r\r第03章 一元回归：估计问题\r\r\r\r\r\r\r\r\r\r\r第04章 一元回归：假设检验\r\r\r\r\r\r\r\r\r\r第05章 一元回归：模型形式\r\r\r\r\r\r\r\r\r\r第06章 多元回归1：代数部分\r\r\r\r\r\r\r\r\r\r第06章 多元回归2：矩阵部分\r\r\r\r\r\r\r\r\rPart II 放宽假设\r\r\r\r第07章 放宽基本假设：多重共线性\r\r\r\r\r\r\r\r\r\r第08章 放宽基本假设：异方差性\r\r\r\r\r\r\r\r\r\r第09章 放宽基本假设：自相关性\r\r\r\r\r\r\r\r\rPart III 模型扩展\r\r\r\r第10章 虚拟变量回归模型\r\r\r\r\r\r\r\r\r\r第11章 内生解释变量问题\r\r\r\r\r\r\r\r\r\r\r\r2 教学环节\r2.","tags":null,"title":"计量经济学理论课教学安排","type":"docs"},{"authors":null,"categories":["Bookdown"],"content":"\r\r1 配置及相关设置\r1.1 yaml信息的设置\r\r2 表格的HTML和LaTeX“和谐共存”\r2.1 注意bookdown的渲染方式\r2.2 环境参数的全局性影响\r2.3 表格中插入有图片\r2.3.1 latex宏包longtable的使用\r\r2.4 表格中字符格式（如加粗）\r2.5 表格中显示数学公式\r\r3 block的使用\r3.1 定理和证明block\r3.2 个性化blocks\r3.3 注意事项\r\r4 Latex输出各种“梗”\r4.1 fig.cap\r4.2 latex list\r4.3 段落首行缩进\r4.4 页边距调整\r4.5 正确设置章序号\r4.6 正确处理页码序号\r\r5 诡异现象\r5.1 编译报错但删除临时文件又好了\r\r6 blogdown相关话题（hugo academic）\r6.1 通过静态页面的使用\r6.2 直接引用本地数据和图片文件\r\r\r\rbookdown编写LaTex书籍中的注意事项。\n1 配置及相关设置\r1.1 yaml信息的设置\r只有index.Rmd具有设置yaml信息的地位！\n\rindex.Rmd: This is the only Rmd document to contain a YAML frontmatter as described within Chapter 2, and is the first book chapter.\r—R Markdown: The Definitive Guide\n\r\r\r2 表格的HTML和LaTeX“和谐共存”\r2.1 注意bookdown的渲染方式\r表格排版还是需要kable和kableExtra的结合。kableExtra的latex参数请参看Zhuhao的awesome_table_in_pdf。\nzhuhao提到了kableExtra如何实现多形式输出的办法\n\r首先要采用“M-K”的图书渲染方式，也即先合并（merge）再编译（knit）。具体的实现是在文件_bookdown.yml设置new_session: true。\r\r# Example _bookdown.yml\rbook_filename: \u0026quot;bookdown_example\u0026quot;\rdelete_merged_file: true\rnew_session: true\rlanguage:\rui:\rchapter_name: \u0026quot;Chapter \u0026quot;\r\r采用“M-K”图书渲染方式后，图书每一章的.Rmd文件在代码运行时都会强制使用new session，也即意味着各章的packages和data都相互独立。所以每一章的.Rmd文件最开始，需要分别设置options及加载packages\r\r\r2.2 环境参数的全局性影响\r需要注意的是环境参数设置的变化。一种情形是，在Rstudio中点击knitr（或biuld），都会自动识别knitr.table.format =是latex环境还是html环境。另一种情形就是在console中手动运行比如render_或preview_chapter()，这时就需要手动写入执行环境是latex或hetml。\n\r自动配置情形下，可以全局设置options(knitr.table.format = \"latex\")。如果不想自动配置，则可以禁用它options(kableExtra.auto_format = FALSE)。\n\r手动配置情形下，则需要在code chunk里对kable()函数设定format=\"latex\"。\n\r\r函数kable()处理的数据类型应该是dataframe（或tibble）。不然booktab=T或kable_styling(latex_options = c(\"striped\"))将会不起作用。请参看在线问答R markdown KableExtra latex table booktabs not working\n调用latex包的先后顺序很有影响。例如涉及到颜色的使用，可能出现报错Option clash for package xcolor。这个时候latex包的先后顺序会带来各种问题。参看在线问答Option clash for package xcolor\n(https://stackoverflow.com/questions/16507191/automatically-adjust-latex-table-width-to-fit-pdf-using-knitr-and-rstudio)\n\r2.3 表格中插入有图片\r有时候我们会独立地展示图片（.png之类），有时候我们还希望在表格中展示图片（.png之类）或图标（icon之类）。\n如下R代码块（R code chunk）情况下，是可以正确输出html，但是却无法正确输出Latex：\n\r动图是不行的。knitr::include_graphics('local.gif')\n\r在线图片是不行的。knitr::include_graphics('https://commonmark.org/images/markdown-mark.png')\n\r\r此外，在kable环境下，data.frame中出现如下value，也是可以正确输出html，但是却无法正确输出Latex：\n\rRmarkdown语言，![](picture/object/Alpha,png)\n\rHTML语言，\u0026lt;image source=\"picture/object/Alpha,png\"\u0026gt;\n\r\ryihuixie指出了这种混合表格是不能兼得两种输出，同时也为latex输出指明了出路——使用//includgraphics。然而此//includgraphics并非彼include_graphics()。\n错误的include_graphics()。我开始一直认为是使用R code chunk下的include_graphics()函数。当然是无功而返，无论怎么做都无法实现正确的latex输出。\n正确的//includgraphics。进一步googlew问答add and resize a local image to a .Rmd file in RStudio that will produce a pdf，终于明白了其中玄机。原来yihuixie所说的//includgraphics是一种原生的latex语法。——略加调整，问题果真迎刃而解！\n\r使用latex语法正确处理data.frame的单元格value（此处为字符串）：\"\\\\includegraphics{picture/object/Alpha.png}\"。如果需要调整图片属性（如大小），则可以处理data.frame的单元格value为：\"\\\\includegraphics[width=0.9\\linewidth]{picture/object/Alpha.png}\"\n\r设置kable参数：kable(dat, escape = FALSE,booktab=T)。（假定环境配置为自动判别latex还是html输出，此处为latex输出）\n\rif函数上场，实现latex和html并行输出。根据输出格式（output）来设定data.frame的value值。而且再knitr1.18版本开始，可以直接使用两个函数来自动判明输出格式：\n\r\rknitr::is_html_output()\rknitr::is_latex_output()\r2.3.1 latex宏包longtable的使用\r如果latex表格很长，一般需要调用longtable参数，但是kableExtra()函数下自动缩放大小latex_options = c( \"scale_down\")就会失效。并提示：Longtable cannot be resized。但是可以利用kableextra的函数column_sep()来设定各列的宽度。\nkable_styling(full_width = F,\rlatex_options = c( \u0026quot;scale_down\u0026quot;,\u0026quot;striped\u0026quot;)) %\u0026gt;%\rcolumn_spec(5, width = \u0026quot;15em\u0026quot;)\r表格中显示图标（icon）。则可以参看add a fontawesome icon to a table in Rmarkdown\n\r\r2.4 表格中字符格式（如加粗）\r建议尽量对整个单元格进行latex参数操作。\n单元格部分字符加粗，则必须使用latex语法：\ndat \u0026lt;- data.frame(\rcountry = c(\u0026#39;Canada\u0026#39;, \u0026#39;United Kindom\u0026#39;),\rabbr = c(\u0026quot;Alpha\u0026quot;,\u0026quot;Coef\u0026quot;),\rvar1 = c(1, 2),\rvar2 = rnorm(2),\rvar3 =c(\u0026quot;\\\\textbf{加粗}\u0026quot;,\u0026quot;*斜体*\u0026quot;)\r)\r\r2.5 表格中显示数学公式\rkable如何显示数学公式。\n数学公式可以参看在线问答math in table-header not working\n\r\r3 block的使用\r3.1 定理和证明block\rBookdown说明书2.2.2 Theorems and proofs\n定理环境（theorem environment）下的block类型有：\n\rtheorem\n\rlemma\n\rcorollary\n\rproposition\n\rconjecture\n\rdefinition\n\rexample\n\rexercise\n\r\r证明环境（proof environments）下目前支持的block类型包括：\n\rproof\n\rremark\n\rsolution\n\r\r\r3.2 个性化blocks\rBookdown说明书里指出了个性化blocks2.7 Custom blocks\n如果是html输出，则需要去设置。bookdown内置的block类型包括：\n\rrmdcomment\n\rrmdlist\n\rrmdnotes\n\r\r也可以参考yihuixie的案例CSS\n\r3.3 注意事项\r\r注意block参数的设置\r\r\\BeginKnitrBlock{theorem}\\iffalse{-91-39640-26031-45-39532-23572-21487-22827-23450-29702-40-71-97-117-115-115-45-77-97-114-107-111-118-32-84-104-101-111-114-101-109-41-93-}\\fi{}\u0026lt;div class=\u0026quot;theorem\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;theorem\u0026quot; id=\u0026quot;thm:BLUE\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;(\\#thm:BLUE) \\iffalse (高斯-马尔可夫定理(Gauss-Markov Theorem)) \\fi{} \u0026lt;/strong\u0026gt;\u0026lt;/span\u0026gt;在正态经典线性回归模型假设（N-CLRM）下，采用普通最小二乘法（OLS），得到的估计量$\\hat{\\beta}$，是真实参数$\\beta$最优的、线性的、无偏估计量（BLUE）。记为：\r\\xrightarrow[\\text{N-CLRM}]{\\text{OLS}}\\hat{\\beta} \\xrightarrow[\\text{}]{\\text{BLUE}} \\beta\u0026lt;/div\u0026gt;\\EndKnitrBlock{theorem}\r\r所有类型的block都需要给出echo=TRUE的参数设置才能正常显示\n\rhtml输出和latex输出的block类型支持是不一样的，前者应该更多\n\r\r\r\r4 Latex输出各种“梗”\r4.1 fig.cap\r不要在R code chunk的options中出现特殊字符。比如：fig.cap=中出现了特殊符号\u0026amp;，则会报错。\nfig.cap=\u0026quot;绘制Line \u0026amp; Symbol图\u0026quot;\r图题中的数学公式符号，使用货币符号表达是需要注意LaTeX的规范写法（特定命令符需要加双斜杠\\\\alpha）。例如：fig.cap=\"判定系数$R^2$和调整判定系数$\\bar{R}^2$\"，则LaTex会报错! Text line contains an invalid character.。正确的写法应该是（参看解决方案）：\nfig.cap=\u0026quot;判定系数$R^2$和调整判定系数$\\\\bar{R}^2$\u0026quot;\r\r4.2 latex list\r正文内容中列表（list）层级太多，则会报错：LaTeX Error: Too deeply nested.。如果非要那么多层级，就需要加载LaTex的enumitem package（让tinytex自动加载去吧），并在preamble.tex中调用它（参看在线文达jgm的 解决方案）：\n\\usepackage{enumitem}\r\\setlistdepth{9}\r\\setlist[itemize,1]{label=$\\bullet$}\r\\setlist[itemize,2]{label=$\\bullet$}\r\\setlist[itemize,3]{label=$\\bullet$}\r\\setlist[itemize,4]{label=$\\bullet$}\r\\setlist[itemize,5]{label=$\\bullet$}\r\\setlist[itemize,6]{label=$\\bullet$}\r\\setlist[itemize,7]{label=$\\bullet$}\r\\setlist[itemize,8]{label=$\\bullet$}\r\\setlist[itemize,9]{label=$\\bullet$}\r\\renewlist{itemize}{itemize}{9}\r\\setlist[enumerate,1]{label=$\\arabic*.$}\r\\setlist[enumerate,2]{label=$\\alph*.$}\r\\setlist[enumerate,3]{label=$\\roman*.$}\r\\setlist[enumerate,4]{label=$\\arabic*.$}\r\\setlist[enumerate,5]{label=$\\alpha*$}\r\\setlist[enumerate,6]{label=$\\roman*.$}\r\\setlist[enumerate,7]{label=$\\arabic*.$}\r\\setlist[enumerate,8]{label=$\\alph*.$}\r\\setlist[enumerate,9]{label=$\\roman*.$}\r\\renewlist{enumerate}{enumerate}{9}\r\r4.3 段落首行缩进\r段落首行缩进。在preamble.tex中条用如下包[解决方案(https://stackoverflow.com/questions/29460112/first-line-paragraph-indenting-in-pdfs-using-r-markdown)]\n% first-line paragraph indenting\r\\usepackage{indentfirst}\r\\setlength\\parindent{24pt}\r\r4.4 页边距调整\r页边距调整。需要在output.yaml文件中进行设置（参看解决方案）\ngeometry: [a4paper, tmargin=2.5cm, bmargin=2.5cm, lmargin=2.5cm, rmargin=2.5cm]\r\r\r4.5 正确设置章序号\r正确设置章序号。如果修改了documentclass:，那么就需要告诉Pandoc你是按chapter来编码的，而不是section（默认）。在output.yaml文件下设置pandoc_args: --top-level-division=chapter。（参看解决方案）\ndocumentclass: ctexbook\rbookdown::pdf_book:\rincludes:\rin_header: latex/preamble.tex\rbefore_body: latex/before_body.tex\rafter_body: latex/after_body.tex\rkeep_tex: yes\rdev: \u0026quot;cairo_pdf\u0026quot;\rlatex_engine: xelatex\rcitation_package: natbib\rtemplate: latex/template.tex\rpandoc_args: \u0026quot;--top-level-division=chapter\u0026quot;\rtoc_depth: 4\rtoc_unnumbered: no\rtoc_appendix: yes\rquote_footer: [\u0026quot;\\\\begin{flushright}\u0026quot;, \u0026quot;\\\\end{flushright}\u0026quot;]\r\r4.6 正确处理页码序号\r正确处理页码序号。其实bookdown电子书 6.3 Publishers专门提到了这一点，只是我一直没有细看。另外也可以参看在线问答Page Numbering in R Bookdown。 总体意思就是要让Pandoc知道哪些部分属于\\frontmatter,\\mainmatter,\\backmatter。所以需要做如下几件事情：\n\r在preamble.tex文件下加入代码行\\frontmatter\n\r\r在before_body.tex文件下加入代码行\\frontmatter\n\r\r在（序言）index.Rmd文件第一行加入代码行\\frontmatter\n\r\r在（第一章）01-introduction.Rmd文件第一行加入代码行\\mainmatter\n\r\r在after_body.tex文件下加入代码行\\backmatter\n\r\r总之，这些标记代码可以插入到相应的章节，合适的位置。跟word的分节符很像。\n\r\r\r5 诡异现象\r5.1 编译报错但删除临时文件又好了\rLatex错误提示：! File ended while scanning use of \\@writefile.。突然之间，Latex无法编译，反复查看yaml代码，感觉都没有问题，大半个下午解决不了（包括更新bookdown和Rstudio；多次重启。）。google搜索，最后采用了David Carlisle的建议，把.aux等日志文件删除，重新Latex编译，最后消除了不能编译的错误。——最终还是没有明白原因。\r\r\r\r6 blogdown相关话题（hugo academic）\r6.1 通过静态页面的使用\r\r6.2 直接引用本地数据和图片文件\r既然blogdown下就能直接编写.Rmd文件，那就可以直接在里面进行数据分析、可视化等操作。问题的关键是如何引用本地数据（“data/”目录下）和图片文件（“pic/”目录下）。\nAdding and reading local data files in R Markdown posts\n\r\r","date":1554940800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554940800,"objectID":"7dc28e050ba4da86a1cd9e50f8d99113","permalink":"https://huhuaping.netlify.app/2019/04/11/notes-in-latex-output-format-for-bookdown-books/","publishdate":"2019-04-11T00:00:00Z","relpermalink":"/2019/04/11/notes-in-latex-output-format-for-bookdown-books/","section":"post","summary":"1 配置及相关设置\r1.1 yaml信息的设置\r\r2 表格的HTML和LaTeX“和谐共存”\r2.1 注意bookdown的渲染方式\r2.2 环境参数的全局性影响\r2.3 表格中插入有图片\r2.3.1 latex宏包longtable的使用\r\r2.4 表格中字符格式（如加粗）\r2.5 表格中显示数学公式\r\r3 block的使用\r3.1 定理和证明block\r3.2 个性化blocks\r3.3 注意事项\r\r4 Latex输出各种“梗”\r4.","tags":["Bookdown","LaTex"],"title":"bookdown下Latex pdf格式输出技巧清单","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 安装R软件和第三方编译软件Rstudio\r2 用R进行编程统计分析\r3 用R进行绘图（图形可视化）：\r4 用R来写文章\r5 project版本控制和团队协作\r6 几点忠告\r\r\rR语言及Rmarkdown语言快速上手参考资料 。\n说明：\n本文档中提到的图书pdf文件可以通过百度云下载（下载地址：https://pan.baidu.com/s/1ZRuVSf2Jv_u3C_XmAUingA）。\n下载地址永久有效！如有问题请反馈wsad2008@gmail.com。\n材料仅供学习交流使用，请尊重原作者的版权！祝大家开心学习，学有所成！\n1 安装R软件和第三方编译软件Rstudio\r（开源软件，免费公开，自行安装）\n\rR CRAN主站下载安装R程序(根据自己的电脑操作系统选择)。网址https://cran.r-project.org/\n\rRstudio主站下载安装Rstudio软件。网址https://www.rstudio.com/\n\r\r\r2 用R进行编程统计分析\r\rAdler, J. R in a Nutshell (2ed) [M], Reilly, 2012.这是R语言学习的红宝书之一，手中常备，随时翻阅。建议要通览一遍，并对照实例运行代码。\n\rCrawley, M. J. The R Book (2nd) [M], Wiley, 2013. 这是R语言学习的红宝书之二。两本红宝书写作风格不同，自己挑一本就行。\n\rWickham, H. and G. Grolemund. R for Data Science: Import, Tidy, Transform, Visualize, and Model Data [M], O’Reilly Media, 2017. 这是Hadley大神的一大力作。这是进入R语言统计功力快速升级的超级秘笈！它让你能很快找到指哪打哪的酣畅淋漓！你会因为它更加热爱R！建议在红宝书之后务必要好好学习这本秘籍！\n\rHadley, W. Advanced R [M], CRC Press, 2015.（高级进阶学习，更深入地认识R语言的基本奥义。建议后续学习。简单说，要成为R高手，就应该参透R语言的内部逻辑和底层架构！）\n\r\r\r3 用R进行绘图（图形可视化）：\r\rHadley, W. ggplot2: Elegant Graphics for Data Analysis [M], Springer, 2016. 没错，这又是Hadley大神出品。R可视化绘图ggplot2的创造者。说实话，他的文笔简练精准，毫不拖泥带水。真的把ggplot2绘图思想说得一清二楚！让你的R可视化技能瞬间提升N级。\r\r\r4 用R来写文章\rRmarkdown语言与谢益辉大神：\n\r关注一个bookdown网站https://bookdown.org/。里面都是用Rmarkdown写的书，免费下载，书籍内容作者还会不断更新！改变了出版行业！下面几本书都可以在线阅读和下载！！（神奇吧！）\n\rXie, Y. Dynamic Documents with R and knitr [M], Chapman \u0026amp; Hall/CRC, 2015. 谢大神的一本书，基本让你明白为什么可以抛弃word、ppt……\n\rXie, Y. bookdown: Authoring Books and Technical Documents with R Markdown [M], Chapman \u0026amp; Hall _ CRC 2016. 谢大神的又一本书，他开发的bookdown包，让你真正的可以抛弃word、ppt……\n\ryihui, X. R Markdown: The Definitive Guide [M]2018. 谢大神的新作，你可以完全掌握Rmarkdown了。\n\r\r\r5 project版本控制和团队协作\r版本控制系统：git知识学习\n\r什么是“版本控制”？我为什么要关心它呢？ 版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。\n\r我们对保存着软件源代码的文件作版本控制，但实际上，你可以对任何类型的文件进行版本控制。\n\r\r代码托管和协作：github网站\n\r注册github账号（请用你们西农邮箱注册，高校邮箱github有惊喜）。\n\r安装github桌面软件（如果熟练掌握了git命令操作，这一步骤可以跳过）。\n\r后github就是我们的交流平台了——你们可以管理文件、托管R代码和版本控制,并进行协作。\n\r\r\r6 几点忠告\r\r人在江湖走，该有的技能还得练到手！\n\r技术手段是不断发展变化的，要有拥抱未来的情怀！R或Rmarkdown也只是选择之一，不是唯一。够你用和适合你就行！\n\r坚持并常用，才是熟练掌握一门语言的根本所在！R和Rmarkdown，就跟你学英语一样。相信我，半年不学不用，你的英语也就忘得差不多了！\n\r不要看翻译成中文的图书或“教程”！编程语言都是英语的世界！你坚持用英语，顶住了最开始的吃力、费解和艰难，后面必然就是你得胜凯旋的荣光时刻！\n\r\r\r","date":1554249600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554249600,"objectID":"59c5260f29011cef7fc1c2b06a8f98f7","permalink":"https://huhuaping.netlify.app/project/r-learning-reference-for-newcomers/","publishdate":"2019-04-03T00:00:00Z","relpermalink":"/project/r-learning-reference-for-newcomers/","section":"project","summary":"R语言及Rmarkdown语言快速上手参考资料。","tags":["R language"],"title":"R新手快速指南","type":"project"},{"authors":null,"categories":["R"],"content":"\r\r1 安装R软件和第三方编译软件Rstudio\r2 用R进行编程统计分析\r3 用R进行绘图（图形可视化）：\r4 用R来写文章\r5 project版本控制和团队协作\r6 几点忠告\r\r\rR语言及Rmarkdown语言快速上手参考资料。\n说明：\n本文档中提到的图书pdf文件可以通过百度云下载（下载地址：https://pan.baidu.com/s/1ZRuVSf2Jv_u3C_XmAUingA）。\n下载地址永久有效！如有问题请反馈wsad2008@gmail.com。\n材料仅供学习交流使用，请尊重原作者的版权！祝大家开心学习，学有所成！\n1 安装R软件和第三方编译软件Rstudio\r（开源软件，免费公开，自行安装）\n\rR CRAN主站下载安装R程序(根据自己的电脑操作系统选择)。网址https://cran.r-project.org/\n\rRstudio主站下载安装Rstudio软件。网址https://www.rstudio.com/\n\r\r\r2 用R进行编程统计分析\r\rAdler, J. R in a Nutshell (2ed) [M], Reilly, 2012.这是R语言学习的红宝书之一，手中常备，随时翻阅。建议要通览一遍，并对照实例运行代码。\n\rCrawley, M. J. The R Book (2nd) [M], Wiley, 2013. 这是R语言学习的红宝书之二。两本红宝书写作风格不同，自己挑一本就行。\n\rWickham, H. and G. Grolemund. R for Data Science: Import, Tidy, Transform, Visualize, and Model Data [M], O’Reilly Media, 2017. 这是Hadley大神的一大力作。这是进入R语言统计功力快速升级的超级秘笈！它让你能很快找到指哪打哪的酣畅淋漓！你会因为它更加热爱R！建议在红宝书之后务必要好好学习这本秘籍！\n\rHadley, W. Advanced R [M], CRC Press, 2015.（高级进阶学习，更深入地认识R语言的基本奥义。建议后续学习。简单说，要成为R高手，就应该参透R语言的内部逻辑和底层架构！）\n\r\r\r3 用R进行绘图（图形可视化）：\r\rHadley, W. ggplot2: Elegant Graphics for Data Analysis [M], Springer, 2016. 没错，这又是Hadley大神出品。R可视化绘图ggplot2的创造者。说实话，他的文笔简练精准，毫不拖泥带水。真的把ggplot2绘图思想说得一清二楚！让你的R可视化技能瞬间提升N级。\r\r\r4 用R来写文章\rRmarkdown语言与谢益辉大神：\n\r关注一个bookdown网站https://bookdown.org/。里面都是用Rmarkdown写的书，免费下载，书籍内容作者还会不断更新！改变了出版行业！下面几本书都可以在线阅读和下载！！（神奇吧！）\n\rXie, Y. Dynamic Documents with R and knitr [M], Chapman \u0026amp; Hall/CRC, 2015. 谢大神的一本书，基本让你明白为什么可以抛弃word、ppt……\n\rXie, Y. bookdown: Authoring Books and Technical Documents with R Markdown [M], Chapman \u0026amp; Hall _ CRC 2016. 谢大神的又一本书，他开发的bookdown包，让你真正的可以抛弃word、ppt……\n\ryihui, X. R Markdown: The Definitive Guide [M]2018. 谢大神的新作，你可以完全掌握Rmarkdown了。\n\r\r\r5 project版本控制和团队协作\r版本控制系统：git知识学习\n\r什么是“版本控制”？我为什么要关心它呢？ 版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。\n\r我们对保存着软件源代码的文件作版本控制，但实际上，你可以对任何类型的文件进行版本控制。\n\r\r代码托管和协作：github网站\n\r注册github账号（请用你们西农邮箱注册，高校邮箱github有惊喜）。\n\r安装github桌面软件（如果熟练掌握了git命令操作，这一步骤可以跳过）。\n\r后github就是我们的交流平台了——你们可以管理文件、托管R代码和版本控制,并进行协作。\n\r\r\r6 几点忠告\r\r人在江湖走，该有的技能还得练到手！\n\r技术手段是不断发展变化的，要有拥抱未来的情怀！R或Rmarkdown也只是选择之一，不是唯一。够你用和适合你就行！\n\r坚持并常用，才是熟练掌握一门语言的根本所在！R和Rmarkdown，就跟你学英语一样。相信我，半年不学不用，你的英语也就忘得差不多了！\n\r不要看翻译成中文的图书或“教程”！编程语言都是英语的世界！你坚持用英语，顶住了最开始的吃力、费解和艰难，后面必然就是你得胜凯旋的荣光时刻！\n\r\r\r","date":1554249600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554249600,"objectID":"4bea5c4311b3eddc36e481a2b3e5d4a0","permalink":"https://huhuaping.netlify.app/2019/04/03/r-learning-reference-for-newcomers/","publishdate":"2019-04-03T00:00:00Z","relpermalink":"/2019/04/03/r-learning-reference-for-newcomers/","section":"post","summary":"1 安装R软件和第三方编译软件Rstudio\r2 用R进行编程统计分析\r3 用R进行绘图（图形可视化）：\r4 用R来写文章\r5 project版本控制和团队协作\r6 几点忠告\r\r\rR语言及Rmarkdown语言快速上手参考资料。\n说明：\n本文档中提到的图书pdf文件可以通过百度云下载（下载地址：https://pan.baidu.com/s/1ZRuVSf2Jv_u3C_XmAUingA）。\n下载地址永久有效！如有问题请反馈wsad2008@gmail.com。\n材料仅供学习交流使用，请尊重原作者的版权！祝大家开心学习，学有所成！\n1 安装R软件和第三方编译软件Rstudio\r（开源软件，免费公开，自行安装）\n\rR CRAN主站下载安装R程序(根据自己的电脑操作系统选择)。网址https://cran.r-project.org/\n\rRstudio主站下载安装Rstudio软件。网址https://www.rstudio.com/\n\r\r\r2 用R进行编程统计分析\r\rAdler, J.","tags":["Rmarkdown","R beginer"],"title":"一份给R新手的学习指南","type":"post"},{"authors":null,"categories":["Econometrics"],"content":"\r计量经济学的聊天方式和说教腔调。\n在计量经济学课堂上，如果开始有一个又一个的学生不断向老师发起各种提问，这似乎是一个好的预示——至少有那么一些学生已经开始对某些“枯燥乏味”的话题开始自己的思考。但是，也不要高兴太早。因为后面的来回反馈和互动，可能更加让人焦头烂额。情形就好比如，菜市场热闹早市下熙熙攘攘吵闹讨价的买家和卖主，各自吆喝一番，然后各得其所，好像都赚了。\n计量经济学学习中有很多坑，不一一失足踏过，就千万不敢妄称深谙其道、门儿清。\n\r外文原著的中文翻译版不可读，或者起码要少读少碰。一是翻译错误多（多半是态度和责任心问题）；或者译词怪异（各种创造，也不能说是谬误，就是觉得奇怪，比如time constant variable译成时常变量看起来“很妥帖”啊；又比如innovation译成新息也有相同后遗症），或者一词多译（还往往出现在同一译本下）；或者前后颠倒语句生涩（大多是生硬套译，中文里美妙的“意译”技巧好像完全施展不出来。ps:怀念一下傅雷翻译罗曼罗兰的《约翰克里斯多夫》，不过人家操刀上架的可是文学作品）。如此种种，能耐心看完的也算得上是忍性极好之人。\n\r计量经济学独特的语言体系。计量经济学充满了各类符号、记号、公式等，初接触它无异于观地外文明、听梦魇呓语。总体上看，计量经济学好似有其独特的语言体系。这套语言体系，主体应该以数学语言为其蓝本，但是又大量加入了各种神秘万千的假设（Assumptions），远不如数学语言那么严格优美。\n\r场景变幻和剧情线条很重要。模型千万个，理论各有理。同一个符号出现在A场景里，可能在B场景里就完全变了另一个含义。比如总体回归模型（PRM）\\(Y_i = \\beta_1 +\\beta_2X_i +u_i\\)和样本回归模型（SRM）\\(Y_i = \\hat{\\beta}_1 + \\hat{\\beta}_2X_i +e_i\\)，两个场景下\\(Y_i\\)的含义完全不同（前者是总体\\(Y_i\\)，后者是样本\\(Y_i\\)，一般前者要包含后者的）。另外就是要考虑讲故事的剧情。同样是表达方差，总体方差要记成\\(\\sigma^2_{\\hat{\\beta}_2}=\\frac{\\sigma^2}{\\sum{x_i^2}}\\)，样本方差就要记成\\(S^2_{\\hat{\\beta}_2}=\\frac{\\hat{\\sigma}^2}{\\sum{x_i^2}}\\)，而\\(\\hat{\\sigma}^2\\)又是PRM中随机干扰项\\(u_i\\)的方差的无偏估计量，如此这番，这个剧情和故事线的深度简直堪比HBO神剧的编剧设定，让你欲罢不能，脑细胞非要死一大片不罢休。\n\r统计软件上手操作，那是真的“伤痛”。EViews、SPSS之类的软件，菜单驱动的做法本质上就是给初学者完美定制了一个个“宠坏孩子”的“工具黑箱”！使用这些方便的套件久了，真的会禁锢人的思维，麻痹人类的神经。事实上，你会发现书本上的理论和假设，跟你的实际分析案例总是那么格格不入。削足适履也好，生搬硬套也好，总觉得那那难受。\n\r\r下面说一点“建设性”的意见：\n\r计量经济学原著走起吧，少年！这个舶来品，还是原汁原味的读起来更顺畅。它不能像文学作品那样，意译可以活灵活现，能植入到本土文化中并让你感同身受。它更多的是科学作品，追求严格和准确，因此直译你会水土不服（产生文化排斥），意译你会不知所云（丢失太多信息）。\n\r熟悉“主流话语”，忘掉哪些非主流的“方言”吧。计量大咖们（已经被封神）的经典传世之作一定要好好拜读（Wooldridge、Green之类的），它们的“语言符号”大多经过精巧打磨，形成了、影响着、并决定着“主流话语”（官方语言）。\n\r理论与实践，各露一手。熟悉一门编程统计语言（R语言,Python,Stata等等皆可，最好精通一门），有备无患，上能通天会仙，下能镇妖除魔。理论和实践要兼顾，相得益彰。\n\r\r下面以面板数据（panel data analysis）的相关学习为例：\n理论方面的书籍主要可以看：\n\rWooldridge, J. M. Introductory econometrics. A modern approach(6th) [M], Cengage Learning, 2016. 关于面板的内容，精简了很多。\n\rWooldridge, J. M. Econometric Analysis of Cross Section and Panel Data 2ed [M], MIT press, 2010. 当然是经典了，但是阅读难度较大（矩阵知识和技巧）。\n\rBaltagi, B. H. Econometric analysis of panel data (5th) [M]. Chichester (West Sussex), John Wiley \u0026amp; Sons, Inc., 2013.\n\rErik, B. Econometrics of panel data : methods and applications [M], Oxford University Press, 2017. 作者基于40年相关教学经验，编写了这本书。作者也深切感受到矩阵知识的学习难度，尝试用尽量简单的向量符号来表达其中的精华。（可惜的是，我觉得这种勇敢的尝试并没有达到其目的。或者换句话，矩阵语言的优势是难以替代的。）\n\r\r\rI have experienced that many students starting on the topic feel parts of the matrix algebra, especially when written in a dense, compact style, to be an obstacle.\r– Erik,2017\n\rR应用的一些书籍可以看：\n\rCroissant, Y. and G. Millo. Panel data econometrics with R [M]. Hoboken, John Wiley \u0026amp; Sons, 2019. 写作套路好像很不一样。\n\r随书配套有R包pder (Croissant \u0026amp; Millo, 2017)\r\rHeiss, F. Using R for introductory econometrics [M], CreateSpace Independent Publishing Platform, 2016. 内容安排与wooldridge比较一致。\n\r图书官网。里面有html在线版本，所有的数据和R程序代码。\r\r\r最后，给一些资源作为有益的启示吧。\n\rDave Giles 的个人blog Econometrics Beat: Dave Giles’ Blog。文如其名，踏出你的节拍击败计量经济学吧！\n\r互联网世界的互动与交流，看看聊得多透彻多走心！I Am Too Absolutely Heteroskedastic for This Probit Model\n\r\r","date":1552176000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1552176000,"objectID":"3f759d18bafa89c8998aa14a4f6e1f68","permalink":"https://huhuaping.netlify.app/2019/03/10/chating-and-teaching-in-econometrics-manner/","publishdate":"2019-03-10T00:00:00Z","relpermalink":"/2019/03/10/chating-and-teaching-in-econometrics-manner/","section":"post","summary":"计量经济学的聊天方式和说教腔调。\n在计量经济学课堂上，如果开始有一个又一个的学生不断向老师发起各种提问，这似乎是一个好的预示——至少有那么一些学生已经开始对某些“枯燥乏味”的话题开始自己的思考。但是，也不要高兴太早。因为后面的来回反馈和互动，可能更加让人焦头烂额。情形就好比如，菜市场热闹早市下熙熙攘攘吵闹讨价的买家和卖主，各自吆喝一番，然后各得其所，好像都赚了。\n计量经济学学习中有很多坑，不一一失足踏过，就千万不敢妄称深谙其道、门儿清。\n\r外文原著的中文翻译版不可读，或者起码要少读少碰。一是翻译错误多（多半是态度和责任心问题）；或者译词怪异（各种创造，也不能说是谬误，就是觉得奇怪，比如time constant variable译成时常变量看起来“很妥帖”啊；又比如innovation译成新息也有相同后遗症），或者一词多译（还往往出现在同一译本下）；或者前后颠倒语句生涩（大多是生硬套译，中文里美妙的“意译”技巧好像完全施展不出来。ps:怀念一下傅雷翻译罗曼罗兰的《约翰克里斯多夫》，不过人家操刀上架的可是文学作品）。如此种种，能耐心看完的也算得上是忍性极好之人。\n\r计量经济学独特的语言体系。计量经济学充满了各类符号、记号、公式等，初接触它无异于观地外文明、听梦魇呓语。总体上看，计量经济学好似有其独特的语言体系。这套语言体系，主体应该以数学语言为其蓝本，但是又大量加入了各种神秘万千的假设（Assumptions），远不如数学语言那么严格优美。\n\r场景变幻和剧情线条很重要。模型千万个，理论各有理。同一个符号出现在A场景里，可能在B场景里就完全变了另一个含义。比如总体回归模型（PRM）\\(Y_i = \\beta_1 +\\beta_2X_i +u_i\\)和样本回归模型（SRM）\\(Y_i = \\hat{\\beta}_1 + \\hat{\\beta}_2X_i +e_i\\)，两个场景下\\(Y_i\\)的含义完全不同（前者是总体\\(Y_i\\)，后者是样本\\(Y_i\\)，一般前者要包含后者的）。另外就是要考虑讲故事的剧情。同样是表达方差，总体方差要记成\\(\\sigma^2_{\\hat{\\beta}_2}=\\frac{\\sigma^2}{\\sum{x_i^2}}\\)，样本方差就要记成\\(S^2_{\\hat{\\beta}_2}=\\frac{\\hat{\\sigma}^2}{\\sum{x_i^2}}\\)，而\\(\\hat{\\sigma}^2\\)又是PRM中随机干扰项\\(u_i\\)的方差的无偏估计量，如此这番，这个剧情和故事线的深度简直堪比HBO神剧的编剧设定，让你欲罢不能，脑细胞非要死一大片不罢休。\n\r统计软件上手操作，那是真的“伤痛”。EViews、SPSS之类的软件，菜单驱动的做法本质上就是给初学者完美定制了一个个“宠坏孩子”的“工具黑箱”！使用这些方便的套件久了，真的会禁锢人的思维，麻痹人类的神经。事实上，你会发现书本上的理论和假设，跟你的实际分析案例总是那么格格不入。削足适履也好，生搬硬套也好，总觉得那那难受。\n\r\r下面说一点“建设性”的意见：\n\r计量经济学原著走起吧，少年！这个舶来品，还是原汁原味的读起来更顺畅。它不能像文学作品那样，意译可以活灵活现，能植入到本土文化中并让你感同身受。它更多的是科学作品，追求严格和准确，因此直译你会水土不服（产生文化排斥），意译你会不知所云（丢失太多信息）。\n\r熟悉“主流话语”，忘掉哪些非主流的“方言”吧。计量大咖们（已经被封神）的经典传世之作一定要好好拜读（Wooldridge、Green之类的），它们的“语言符号”大多经过精巧打磨，形成了、影响着、并决定着“主流话语”（官方语言）。","tags":["Simple regress","Econometrics","R beginer"],"title":"计量经济学的那点调性和套路","type":"post"},{"authors":null,"categories":["R"],"content":"\r如何把Xaringan 演示Slides以静态网页（static webpage）形式载入个人网站。\n主要参考资料和实现办法\r\rYihui Xie的blogdown中2.7 Static files\n\r带操作过程Embed Slides in Your Blog\n\r带各种探索尝试的Xaringan presentations with blogdown\n\r\r以上都有比较系统的说明，可以直接参照。\n\r需求和问题列表\r\r静态网页方式损失了效率。静态网页，正如其名，只能相对“固定”地加载封装好的.html文件或.pdf文件之类。显然，交互性和动态性就暂时难以获得。因为我们写作Slide是在另一个repo文件夹下（repo如course-econometrics文件夹下，并使用Xaringan包），然后确认没问题后才能把渲染好的.html形式的Slide文件（一般是如02-simple-reg-basic-slide.html）拷贝到网站repo文件夹指定目录下（repo如netlify，特定目录为\\netlify\\static\\slides-course）。同时，如果html文件不是完全自容的(self-container)，那你还必须把使用到的图片数据等文件夹也一同拷贝过去（这就非常糟糕了！因为你的slide制作可能会经常变动或更新）。那么要如何自动关联Xaringan（实现slide）和blogdown（实现website）呢？\n\r当然动态性和关联性也是有成本的。如果Xaring里的文件需要渲染很久（比如ggplot作图很多，数据分析很多），那么blogsite会负担比较大。\r\r知识版权的保护问题。slide上传到website后，文字和图片等都可以任意拷贝下载。对于开源项目，这完全没毛病。但是，对于一些重视原创知识保护的人，这就是很大的“命门”了。\n\r\r\r","date":1551398400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1551398400,"objectID":"1908f8d8bb55825bc58796068ffb2275","permalink":"https://huhuaping.netlify.app/2019/03/01/post-xaringan-slide-to-website/","publishdate":"2019-03-01T00:00:00Z","relpermalink":"/2019/03/01/post-xaringan-slide-to-website/","section":"post","summary":"如何把Xaringan 演示Slides以静态网页（static webpage）形式载入个人网站。\n主要参考资料和实现办法\r\rYihui Xie的blogdown中2.7 Static files\n\r带操作过程Embed Slides in Your Blog\n\r带各种探索尝试的Xaringan presentations with blogdown\n\r\r以上都有比较系统的说明，可以直接参照。\n\r需求和问题列表\r\r静态网页方式损失了效率。静态网页，正如其名，只能相对“固定”地加载封装好的.html文件或.pdf文件之类。显然，交互性和动态性就暂时难以获得。因为我们写作Slide是在另一个repo文件夹下（repo如course-econometrics文件夹下，并使用Xaringan包），然后确认没问题后才能把渲染好的.html形式的Slide文件（一般是如02-simple-reg-basic-slide.html）拷贝到网站repo文件夹指定目录下（repo如netlify，特定目录为\\netlify\\static\\slides-course）。同时，如果html文件不是完全自容的(self-container)，那你还必须把使用到的图片数据等文件夹也一同拷贝过去（这就非常糟糕了！因为你的slide制作可能会经常变动或更新）。那么要如何自动关联Xaringan（实现slide）和blogdown（实现website）呢？\n\r当然动态性和关联性也是有成本的。如果Xaring里的文件需要渲染很久（比如ggplot作图很多，数据分析很多），那么blogsite会负担比较大。\r\r知识版权的保护问题。slide上传到website后，文字和图片等都可以任意拷贝下载。对于开源项目，这完全没毛病。但是，对于一些重视原创知识保护的人，这就是很大的“命门”了。","tags":["Xaringan","Slide","Website","Static website"],"title":"在blogdown网站中展示Xaringan slide","type":"post"},{"authors":null,"categories":["R"],"content":"\r“计量经济学”形式的数学公式\r本科生课程《计量经济学》会大量使用各类公式。这些公式大概有两类：\n\r理论公式：这些数学公式的呈现基本上用不到数据报告的结果。在Rmarkdown文档中处理办法相对简单，直接使用LaTex形式代码输入即可。\n\r报告公式：这些数学公式的呈现，跟某些数据分析报告紧密联系。此时，手工输入LaTex将会变得很不现实！一个系统性的解决思路是，利用Rmardown chunk 自己编写代码块。前边分析步骤负责出数据报告结果，后面Chunk里公式创造时直接调用数据报告的各类数值。\n\r\r所以，如果一切顺利，“计量经济学”课程的大量报告公式，都可以自动地使用R函数调用实现，可谓一本万利，合算得很！\n\r代码实现过程中的各种“梗”\r实现思路倒是很清晰，Rmarkdown下的操作也是可行的。下面就是需要撸起袖子加油干，找到“聪明”的实现办法，破除各种“梗”！\n格式选择真是一个大问题：关于pdf、html、word输出形式\r选择Rmarkdown的一个很重要理由，就是它可以实现一份文档种格式输出。这个“理想”确实比较宏大。在数学公式领域，起码就有这几个问题：\n\r数学公式友好度差别较大。word比较另类，数学公式支持是最糟糕的；Latex（pdf）下是最灵活的。html则最通用。所以，复杂的公式，在latex（pdf）下OK，放到word里可能就吃不消了。\n\rpackage实现各不相同。如果写书，最好就是用bookdown包；如果做演示slide可以用Xaringan包；写网站文章，可以用blogdown。对于数学公式而言，最需要注意是：是否需要交叉引用（cross reference）公式。基本就是两种情形：写slide和blog默认是不交叉应用公式的；写book则必然需要的。\n\r\r\r数学公式的排版（alignment）\r这个部分折腾我很久。因为主要使用Latex语法形式来编写R chunk代码。所以必须要熟悉Latex math equation的公式环境（environment）。\n独立公式环境：\n\r\\begin{equation} ... \\end{equation}\n\r\\begin{align} ... \\end{align}\n\r\\begin{aligned} ... \\end{aligned}\n\r\\begin{alignedat}{3} ... \\end{alignedat}\n\r\r组合公式环境：\ncat(\r\u0026quot;\\\\begin{equation}\u0026quot;,\r\u0026quot;\\\\begin{alignedat}{999}\u0026quot;,\r\u0026quot;\u0026amp;\\\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\\\bar{R^2}=0.9408\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp; \u0026amp;\u0026amp; F^{\\\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000\u0026quot;,\r\u0026quot;\\\\end{alignedat}\u0026quot;,\r\u0026quot;\\\\end{equation}\u0026quot;)\r\\[\\begin{equation} \\begin{alignedat}{999} \u0026amp;\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\ \u0026amp;\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\ \u0026amp;\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\ \u0026amp;\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\bar{R^2}=0.9408\\\\ \u0026amp; \u0026amp;\u0026amp; F^{\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000 \\end{alignedat} \\end{equation}\\]\n\r公式分行显示\r本质上，这还是公式排版问题。但是需要结果代码语句和公式环境来共同解决。\nif (k\u0026lt;=lm.n) {\rcat(\r\u0026quot;$$\\\\begin{equation}\u0026quot;,\rpaste0(\u0026#39;\\\\begin{alignedat}{\u0026#39;,999,\u0026#39;}\u0026#39;),\rpaste0(\u0026#39;\u0026amp;\\\\widehat{\u0026#39;,table_lm$name.y,\u0026#39;}=\u0026#39;,fun_line_eq(1,k),\u0026#39;\\\\\\\\\u0026#39;),\rpaste0(\u0026#39;\u0026amp;\\\\text{(t)}\u0026#39;,fun_line_t(1,k),\u0026#39;\\\\\\\\\u0026#39;),\rpaste0(\u0026#39;\u0026amp;\\\\text{(se)}\u0026#39;,fun_line_se(1,k),\u0026#39;\\\\\\\\\u0026#39;),\rpaste0(\u0026#39;\u0026amp;\\\\text{(fitness)}\u0026#39;,\r\u0026#39;\u0026amp;\u0026amp; n=\u0026#39;,table_lm$n,\u0026quot;;\u0026quot;,\r\u0026#39;\u0026amp;\u0026amp; R^2=\u0026#39;,formatC(table_lm$R2, digits = 4,format = \u0026quot;f\u0026quot;),\u0026quot;;\u0026quot;,\r\u0026#39;\u0026amp;\u0026amp; \\\\bar{R^2}=\u0026#39;,formatC(table_lm$R2.adj, digits = 4,format = \u0026quot;f\u0026quot;),\r\u0026quot;\\\\\\\\\u0026quot;),\rpaste0(\u0026#39;\u0026amp; \u0026#39;,\r\u0026#39;\u0026amp;\u0026amp; F^{\\\\ast}=\u0026#39;,formatC(table_lm$F.star, digits = 2,format = \u0026quot;f\u0026quot;),\u0026quot;;\u0026quot;,\r\u0026#39;\u0026amp;\u0026amp; p=\u0026#39;,formatC(table_lm$F.p, digits=4,format = \u0026quot;f\u0026quot;)),\r\u0026quot;\\\\end{alignedat}\u0026quot;,\r# default no equation label\rif (!is.null(lm.label)) {\r(paste0(\u0026#39;(\\\\#eq:\u0026#39;,lm.label,\u0026#39;)\u0026#39;))\r},\r\u0026quot;\\\\end{equation}$$\u0026quot;\r)\r} else if {\r...\r}\r\rlabel的取舍\r理论上，用一个if函数是可以搞定的。\n# default no equation label\rif (!is.null(lm.label)) {\r(paste0(\u0026#39;(\\\\#eq:\u0026#39;,lm.label,\u0026#39;)\u0026#39;))\r}\r那么组合起来大概就是：\nlm.label \u0026lt;- \u0026quot;eq-SRF\u0026quot;\rcat(\r\u0026quot;\\\\begin{equation}\u0026quot;,\r\u0026quot;\\\\begin{alignedat}{999}\u0026quot;,\r\u0026quot;\u0026amp;\\\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\\\bar{R^2}=0.9408\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp; \u0026amp;\u0026amp; F^{\\\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000\u0026quot;,\r\u0026quot;\\\\end{alignedat}\u0026quot;,\r# default no equation label\rif (!is.null(lm.label)) {\r(paste0(\u0026#39;(\\\\#eq:\u0026#39;,lm.label,\u0026#39;)\u0026#39;))\r},\r\u0026quot;\\\\end{equation}\u0026quot;)\r\\[\\begin{equation} \\begin{alignedat}{999} \u0026amp;\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\ \u0026amp;\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\ \u0026amp;\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\ \u0026amp;\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\bar{R^2}=0.9408\\\\ \u0026amp; \u0026amp;\u0026amp; F^{\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000 \\\\tag{1}t} (#eq:eq-SRF) \\end{equation}\\]\n问题是blog里不支持对label进行公式交叉引用；Xaringan里也不支持。只有bookdown或bookdown::render(out= html_document2)才支持。当然这个问题也不是很大：只要在Xanringan或blog里不输label就好了！如果写书，再加上label呗！\n\r“美元”焦虑！\rRmarkdown的公式世界里，比较喜欢铜臭味——美元符号。行内公式采用的是\\(\\$...\\$\\)形式，独立公式采用\\(\\$\\$...\\$\\$\\)形式。\n所以，记得要时刻保持“富有”！如下的美元符号：\ncat(\r\u0026quot;$$\\\\begin{equation}\u0026quot;,\r\u0026quot;\\\\begin{alignedat}{999}\u0026quot;,\r\u0026quot;\u0026amp;\\\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\\\bar{R^2}=0.9408\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp; \u0026amp;\u0026amp; F^{\\\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000\u0026quot;,\r\u0026quot;\\\\end{alignedat}\u0026quot;,\r\u0026quot;\\\\end{equation}$$\u0026quot;)\r\\[\\begin{equation} \\begin{alignedat}{999} \u0026amp;\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\ \u0026amp;\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\ \u0026amp;\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\ \u0026amp;\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\bar{R^2}=0.9408\\\\ \u0026amp; \u0026amp;\u0026amp; F^{\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000 \\end{alignedat} \\end{equation}\\]\n\r小心猫（cat）！\r理论上，cat(, sep=\"\\n\")函数里只要设置sep=\"\\n\"就能保证换行，输出也很有层次和条理。\n但是你还是要保持美元“富有”，并小心猫（cat）的这个挠人小利爪（sep=\"\\n\"）。\n换言之，下面的代码就可能会让你“很受伤”！\ncat(\r\u0026quot;\\\\begin{equation}\u0026quot;,\r\u0026quot;\\\\begin{alignedat}{999}\u0026quot;,\r\u0026quot;\u0026amp;\\\\widehat{Y}=\u0026amp;\u0026amp;+17.81\u0026amp;\u0026amp;+0.62X\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(t)}\u0026amp;\u0026amp;(1.9238)\u0026amp;\u0026amp;(11.9968)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(se)}\u0026amp;\u0026amp;(9.2556)\u0026amp;\u0026amp;(0.0516)\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp;\\\\text{(fitness)}\u0026amp;\u0026amp; n=10;\u0026amp;\u0026amp; R^2=0.9473;\u0026amp;\u0026amp; \\\\bar{R^2}=0.9408\\\\\\\\\u0026quot;,\r\u0026quot;\u0026amp; \u0026amp;\u0026amp; F^{\\\\ast}=143.92;\u0026amp;\u0026amp; p=0.0000\u0026quot;,\r\u0026quot;\\\\end{alignedat}\u0026quot;,\r\u0026quot;\\\\end{equation}\u0026quot;,\rsep= \u0026quot;\\n\u0026quot;)\r\r外部文档关联\r如果完事顺利，你只需要在Rmardown里直接调用公式文件.R\nsource(\u0026quot;external-math-equation.R\u0026quot;)\r\r\r\r","date":1551312000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1551312000,"objectID":"6f6e8a08e5629e3223bef3854e65a86e","permalink":"https://huhuaping.netlify.app/2019/02/28/improve-latex-math-with-rmarkdown-chunk/","publishdate":"2019-02-28T00:00:00Z","relpermalink":"/2019/02/28/improve-latex-math-with-rmarkdown-chunk/","section":"post","summary":"“计量经济学”形式的数学公式\r本科生课程《计量经济学》会大量使用各类公式。这些公式大概有两类：\n\r理论公式：这些数学公式的呈现基本上用不到数据报告的结果。在Rmarkdown文档中处理办法相对简单，直接使用LaTex形式代码输入即可。\n\r报告公式：这些数学公式的呈现，跟某些数据分析报告紧密联系。此时，手工输入LaTex将会变得很不现实！一个系统性的解决思路是，利用Rmardown chunk 自己编写代码块。前边分析步骤负责出数据报告结果，后面Chunk里公式创造时直接调用数据报告的各类数值。\n\r\r所以，如果一切顺利，“计量经济学”课程的大量报告公式，都可以自动地使用R函数调用实现，可谓一本万利，合算得很！\n\r代码实现过程中的各种“梗”\r实现思路倒是很清晰，Rmarkdown下的操作也是可行的。下面就是需要撸起袖子加油干，找到“聪明”的实现办法，破除各种“梗”！\n格式选择真是一个大问题：关于pdf、html、word输出形式\r选择Rmarkdown的一个很重要理由，就是它可以实现一份文档种格式输出。这个“理想”确实比较宏大。在数学公式领域，起码就有这几个问题：\n\r数学公式友好度差别较大。word比较另类，数学公式支持是最糟糕的；Latex（pdf）下是最灵活的。html则最通用。所以，复杂的公式，在latex（pdf）下OK，放到word里可能就吃不消了。\n\rpackage实现各不相同。如果写书，最好就是用bookdown包；如果做演示slide可以用Xaringan包；写网站文章，可以用blogdown。对于数学公式而言，最需要注意是：是否需要交叉引用（cross reference）公式。基本就是两种情形：写slide和blog默认是不交叉应用公式的；写book则必然需要的。\n\r\r\r数学公式的排版（alignment）\r这个部分折腾我很久。因为主要使用Latex语法形式来编写R chunk代码。所以必须要熟悉Latex math equation的公式环境（environment）。","tags":["LaTex","Rmarkdown","Econometrics"],"title":"Rmarkdown下自动化编译Latex公式输出","type":"post"},{"authors":["胡华平"],"categories":["R"],"content":"\r\r\r1 前言\r2 逃离PowerPoint，拥抱HTML5？\r\r2.1 PowerPoint的“断、舍、离”\r2.2 HTML形式slide的“前世今生”\r\r3 Xaringan的优势和不足\r\r3.1 Xaringan的优势\r3.2 Xaringan的不足\r\r\r\r1 前言\r现在对（本科）教学工作的要求，已经发生了很大的改变：教学的内容变得更加专业化和细分化（学生就业市场的倒逼）；教学过程/流程需要标准化（一切变得透明公开）；教学活动应该能够便于复制并规模化运行（课程最好能以公开课/慕课方式运作）；个性化教学和灵活性调整被反复强调（对学生多元考核、“一人一套试卷”）；其他方面。\n教师在讲台上的台前“艺术化”魅力（仪态、表情、音色等）已经不再如曾经那么重要；教师在台后的“技术性”设计（内容、互动、展示等）上升到了无与伦比的地位。\n尤其是对于哪些技术性课程，如计量经济学（Econometrics）和统计学（Statistics），“技术性”设计必须要赶上这些教学新要求的呼声。（当你发现一位大学教师还在“坚持”使用Office2007，你一点都不要惊讶——经管现在已经是2019年了。）\n\r2 逃离PowerPoint，拥抱HTML5？\r为什么要逃离PowerPoint，拥抱HTML形式的slide？下面分别来说一说。\n2.1 PowerPoint的“断、舍、离”\r\roffice版本太过分散，ppt可能会上演各种“变形记”。（现在国内有很多学生，已经不能区分WPS和Office了。学生的毕业论文或作业提交，那酸爽，真是谁看谁知道。）\n\rppt维护和更新的各种“梗”。最让我纠结的就是mathtype公式，神一般地会一夜之间“变砖”（倒腾几下，公式变图片，或者干脆显示不了），更不要说公式的重复使用和编辑修改。如果使用一些新技巧、新字体，那一定会让你记住“凡走过的都是一个一个的巨坑”。\n\r难以逾越数据、图形和模型分析的“天堑”。表格数据加总等分析基本等于不可能（事实上也可以关联excel，但是“关联越多，等价于羁绊越多”！）；数据图形化，你只能老老实实拷贝统计软件里的做好的图吧（泪奔！）；建模分析结果的调用，就更别提了（反复在多个软件窗口中切换和敲键盘，眼花缭乱的“骚操作”不说，最担心的还是手一抖怕敲错了结果啊！）。\n\r\r\r2.2 HTML形式slide的“前世今生”\r\r一个浏览器就够了。HTML是互联网世界最广泛使用的交流形式。每台电脑都会安装浏览器（chrome、firefox、IE…），但不是都会安装Microsoft office全家桶（365家庭版那可是每年500RMB啊，心疼一下下！）。\n\r一份文本多种输出形态的终极需求。就像KTV里嗨唱切歌，老师们常常要在word、pdf、html、ppt、png等格式中不断切换啊。一个逗号或减号，在word里改了，那还得改ppt啊，就问你蛋疼不蛋疼。所以，仅维护一份文本，随时获得各种输出（html、word、ppt、slide…）简直就是人类共同的梦想啊。\n\r“纯文本”就是你的最底层“话语”。一切的文字、代码、图形、格式、排版…，统统汇集于一份“纯文本”中！Plain Text，正如其名，平铺直叙，朴素而不简单，包含了你所需的一切，你想说和想呈现的一切。\n\r\r\r\r3 Xaringan的优势和不足\r3.1 Xaringan的优势\r\rR语言和RMarkdown的应用就是它最大的优势。这赋予了教学准备工作更强的“生产力”：代码可重复利用、统计处理和分析报告完美整合。\n\rXaringan Slide可以高度灵活的定制化。本质上形式的呈现，完全依赖于CSS技术，这与PowerPoint中的模板使用是完全不同的体验，效率上完全秒掉后者。\n\rXaringan Slide可以完美转成pdf格式的slide。其实直接用Chrome浏览器打开HTML Slide不就完了嘛，这种格式转换的操作本来就是多此一举！总之，你说，世界需要pdf；于是Xaringan便说，给你pdf！\n\r与GitHub版本控制技术融合。我想说的是，这是一种全新的师生交互和反馈机制！\n\r\r\r3.2 Xaringan的不足\r\r对行内公式支持不是很友好。比如\\(\\beta\\)的实现代码$\\beta$必须要保持独立一行！一段话要是有很多这样的inline equation，那么xaringan::moon_reader文档就显得很破碎了。\n\r风格调整CSS技术的学习还是有一定成本的。换言之，制作一份自己喜欢的“专属”模板，还需要花费一些时间。\n\r强迫症的一些小细节。使用knitr::kable()制表，转pdf时表格无法显示，替代办法就是用DT::datatable()的表格风格，而它往往不是真正的Table风格！另外，就是windows环境下，不支持Rstudio面板Viewer中预览slide，只能在浏览器中预览。\n\r\r\r\r","date":1550966400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1612142637,"objectID":"eaef192d8cbbd2c96825328cb4578f4a","permalink":"https://huhuaping.netlify.app/2019/02/24/xaringan-for-course-slide/","publishdate":"2019-02-24T00:00:00Z","relpermalink":"/2019/02/24/xaringan-for-course-slide/","section":"post","summary":"利用Xaringan制作统计和计量相关课程slide，提升效率和简洁性的一些技巧。","tags":["Econometrics","Xaringan"],"title":"Xaringan缘起：创建课程slide","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r\r1 在Rstudio中创建blogdown site\r2 利用git工具来管理github仓库\r3 在netlify上关联github仓库并建站\r4 额外的问题\r\r4.1 config.toml配置\r4.2 版本控制（github repo）下添加忽略文件\r4.3 用addin插件更新内容\r4.4 让博客文章(post)有目录、节编号、脚注\r4.5 post文章里插入图片\r\r5 参考资料\r\r\r“三剑”合璧持续性打造个人网站(blogdown; github; netlify)。\n1 在Rstudio中创建blogdown site\rblogdown的设置比较简单，教程里基本也说得清楚。具体操作时，还是需要注意以下几个要点：\n\r选取中意的网站模板，比如学术型模板\r\r# for example, create a new site with the academic theme\rblogdown::new_site(theme = \u0026quot;gcushen/hugo-academic\u0026quot;)\r这个模板还内部支持数学公式显示！需要在Rmarkdown文档的yaml区域里设置\nmath: true\r\r设置全局选项（global options）。\r\r一个是设置默认的“作者”和“文件格式”。需要在工作目录下新建一个.Rprofile文件：\nfile.edit(\u0026#39;.Rprofile\u0026#39;)\r文件里面的内容配置为:\noptions(blogdown.ext = \u0026quot;.Rmd\u0026quot;, blogdown.author = \u0026quot;huhuaping\u0026quot;)\r另外就是要配置工作文件下的config.toml文件，主要就是修改网站的名字：\n# Title of your site\rtitle = \u0026quot;Huhuaping\u0026quot;\r\r最后要记得装载hugo，最重要得是弄清楚hugo_version（后面netlify建站时需要配置环境变量hugo_version，否则会报错255，二者应该要一致，且有最低版本要求）。在Rstudio里判明版本号的办法是：\r\r# 安装hugo\rinstall_hugo()\r# 判明版本号\rblogdown::hugo_version()\r\r2 利用git工具来管理github仓库\rgit版本控制工具，还是需要学会的。这里就列出一个很好的参考学习资源吧——git book(多国语言版)\n\r3 在netlify上关联github仓库并建站\r如前所述，这里很重要的一步就是要记得设置hugo_version的环境变量，版本号需要与blogdown里安装的版本号一致。\n\r4 额外的问题\r4.1 config.toml配置\r\rbaseurl存在的斜杠问题，可能会影响netlify建站更新。\n\r网页链接显示最好是稳定的。可以通过日期+slug的形式来固定，具体设置为：\n\r\r[permalinks]\rpost = \u0026quot;/:year/:month/:day/:slug/\u0026quot;\r\r4.2 版本控制（github repo）下添加忽略文件\r记得在工作目录下的.gitignore里添加忽视文件（否则会影响netlify建站更新）。\npublic/\r此外，还会引起master和dev分支的合并冲突！！\n\r4.3 用addin插件更新内容\r提交新的博客文章(post)：最好使用Rstudio里Addin菜单中的New Post来写Rmd格式的博文。\n\r4.4 让博客文章(post)有目录、节编号、脚注\r目录（toc）和节编号（number_sections）可以在rmardown文件yaml头里设置1：\noutput:\rblogdown::html_page:\rtoc: true\rnumber_sections: true\r脚注的写法。正文里直接在脚注位置添加[^1]，并在rmarkdown最后进行对应的注释说明：\n[^1]: [Headings with automatic numbering](https://github.com/rstudio/blogdown/issues/140)\r\r4.5 post文章里插入图片\r有两种插入图片的办法。不论如何，图片源文件默认都是放在static/文件夹下2！\n\r采用markdown语言：\r\r# 源文件默认在`static/`文件夹下\r![](/img/facet-multiple-geom.png)\rmarkdown语言方法插入图片\n\r\r或者采用函数 knitr::include_graphics()\r\r# 源文件默认在`static/`文件夹下\rknitr::include_graphics(\u0026quot;/pic/facet-multiple-geom.png\u0026quot;, error = FALSE)\r\rFigure 4.1: include_graphics函数方法插入图片\r\r\r\r5 参考资料\r\r\rHeadings with automatic numbering↩︎\n\rknitr::include_graphics in blogdown↩︎\n\r\r\r","date":1550707200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1550707200,"objectID":"4b8a51906abb8f362243d94591e4067e","permalink":"https://huhuaping.netlify.app/2019/02/21/three-sord/","publishdate":"2019-02-21T00:00:00Z","relpermalink":"/2019/02/21/three-sord/","section":"post","summary":"1 在Rstudio中创建blogdown site\r2 利用git工具来管理github仓库\r3 在netlify上关联github仓库并建站\r4 额外的问题\r\r4.1 config.toml配置\r4.2 版本控制（github repo）下添加忽略文件\r4.3 用addin插件更新内容\r4.4 让博客文章(post)有目录、节编号、脚注\r4.5 post文章里插入图片\r\r5 参考资料\r\r\r“三剑”合璧持续性打造个人网站(blogdown; github; netlify)。","tags":["Blogdown","Github","Netlify"],"title":"Netlify系列1：个人网站开发“三剑客” (blogdown;github;netlify)","type":"post"},{"authors":[],"categories":[],"content":"Create slides in Markdown with Academic Academic | Documentation\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot;\rif porridge == \u0026quot;blueberry\u0026quot;:\rprint(\u0026quot;Eating...\u0026quot;)\r  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}}\r{{% fragment %}} **Two** {{% /fragment %}}\r{{% fragment %}} Three {{% /fragment %}}\r Press Space to play!\nOne  Two  Three \n A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}}\r- Only the speaker can read these notes\r- Press `S` key to view\r{{% /speaker_note %}}\r Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}}\r{{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}}\r{{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}\r  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1,\r.reveal section h2,\r.reveal section h3 {\rcolor: navy;\r}\r  Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"https://huhuaping.netlify.app/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":null,"categories":null,"content":"\r《计量经济学原理与方法：EViews软件实现》是对计量经济学课程的实验环节的详细说明书。共包括8次实验指导说明：\n请点击下面链接进入各个实验指导说明：\n\r实验1：EViews软件入门与基本操作\n\r实验2：一元线性回归模型\n\r\r\r\r实验2的结果演示：一元回归OLS方法的蒙特卡洛模拟实验\r\r\r\r实验3：模型函数形式与模型选择\n\r实验4：多元线性回归及矩阵运算\n\r实验5：多重共线性的诊断和矫正\n\r实验6：异方差的诊断和矫正\n\r实验7：自相关的诊断和矫\n\r实验8：虚拟变量回归模型\n\r\r","date":1536422400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1536422400,"objectID":"d71f416351abc417b488195cc3a5d93a","permalink":"https://huhuaping.netlify.app/course-econometrics/schedule-lab/","publishdate":"2018-09-09T00:00:00+08:00","relpermalink":"/course-econometrics/schedule-lab/","section":"course-econometrics","summary":"\r《计量经济学原理与方法：EViews软件实现》是对计量经济学课程的实验环节的详细说明书。共包括8次实验指导说明：\n请点击下面链接进入各个实验指导说明：\n\r实验1：EViews软件入门与基本操作\n\r实验2：一元线性回归模型\n\r\r\r\r实验2的结果演示：一元回归OLS方法的蒙特卡洛模拟实验\r\r\r\r实验3：模型函数形式与模型选择\n\r实验4：多元线性回归及矩阵运算\n\r实验5：多重共线性的诊断和矫正\n\r实验6：异方差的诊断和矫正\n\r实验7：自相关的诊断和矫\n\r实验8：虚拟变量回归模型\n\r\r","tags":null,"title":"EViews实验操作指导","type":"docs"},{"authors":null,"categories":null,"content":"本网站所有资料，作者保有知识产权。\n","date":1530140400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1530140400,"objectID":"18d05a63a1c8d7ed973cc51838494e41","permalink":"https://huhuaping.netlify.app/privacy/","publishdate":"2018-06-28T00:00:00+01:00","relpermalink":"/privacy/","section":"","summary":"本网站所有资料，作者保有知识产权。","tags":null,"title":"Privacy Policy","type":"page"},{"authors":null,"categories":null,"content":"\u0026hellip;\n","date":1530140400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1530140400,"objectID":"9b10c1f64082d3869fd4cb1f85809430","permalink":"https://huhuaping.netlify.app/terms/","publishdate":"2018-06-28T00:00:00+01:00","relpermalink":"/terms/","section":"","summary":"\u0026hellip;","tags":null,"title":"Terms","type":"page"},{"authors":null,"categories":null,"content":" 行动是学习知识的最好老师！ 身怀一技，浪迹江湖！\n \r项目1：农业贸易大数据 本项目的代码托管在我的Github仓库agri-trade-open（请点击进入）。下面列出了相关项目材料：\n  材料1：“一带一路”农产品贸易研讨1 点击打开 幻灯片\n  材料2：“html异常表格提取技术——各地区一般公共支出数据为例”点击打开\n  项目2：R统计分析 本项目的代码托管在我的Github仓库team-students（请点击进入）。请点击下面链接进入各个任务清单：\n  Task 01（点击进入）统计分析教学工作经历\n  Task 02（点击进入）爬虫技术1：RSelenium + Firefox\n  \r项目3：R相关技巧 为了学习方便，本项目的代码托管在我的Github仓库team-students（请点击进入）。大家可以自由下载，并配合如下的行动清单进行配套学习。\n请点击下面链接进入各个行动清单：\n  （点击进入）00-R配置及相关话题(HTML网页形式)\n  （点击进入）01-Rmarkdown语言入门(HTML网页形式)\n  （点击进入）02-git基本操作学习(HTML网页形式)\n  \rR行动箴言   技术手段是不断发展变化的，要有拥抱未来的情怀！R或Rmarkdown也只是选择之一，不是唯一。够你用和适合你就行！\n  坚持并常用，才是熟练掌握一门语言的根本所在！R和Rmarkdown，就跟你学英语一样。相信我，半年不学不用，你的英语也就忘得差不多了！\n  不要看翻译成中文的图书或“教程”！编程语言都是英语的世界！你坚持用英语，顶住了最开始的吃力、费解和艰难，后面必然就是你得胜凯旋的荣光时刻！\n  ","date":1461686400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461686400,"objectID":"8f66d660a9a2edc2d08e68cc30f701f7","permalink":"https://huhuaping.netlify.app/project/internal-project/","publishdate":"2016-04-27T00:00:00+08:00","relpermalink":"/project/internal-project/","section":"project","summary":"R语言及相关学习总结，并列出了github仓库项目信息和材料。","tags":["R language"],"title":"项目开放协作","type":"project"}]